(self["webpackChunkmyblog"]=self["webpackChunkmyblog"]||[]).push([[305],{3085:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("hr"),a("p",[s._v("title: 10.1-3笔记 date: 2022-10-09 09:25:00 author: Alicia img: ../galleries/AnimeScenery/img/1.jpg top: true cover: true coverImg: ../galleries/AnimeScenery/img/1.jpg password: toc: false mathjax: false summary: categories: React tags:")]),a("ul",[a("li",[s._v("React")]),a("li",[s._v("笔记")])]),a("hr"),a("h2",[s._v("从今天开始学习React了！！（2022.10.01）")]),a("h2",[s._v("jsx语法规则")]),a("ul",[a("li",[a("strong",[s._v("1.定义虚拟DOM时，不要用引号")])]),a("li",[a("strong",[s._v("2.标签中混用JS表达式时要用"),a("code",{pre:!0},[s._v("{}")])])]),a("li",[a("strong",[s._v("3.样式的类名指定不要用"),a("code",{pre:!0},[s._v("class")]),s._v("，要用"),a("code",{pre:!0},[s._v("className")])])]),a("li",[a("strong",[s._v("4.内联样式，要用"),a("code",{pre:!0},[s._v("style={{key:value}}")]),s._v("的形式去写")])]),a("li",[a("strong",[s._v("5.只有一个跟标签")])]),a("li",[a("strong",[s._v("6.标签必须闭合")])]),a("li",[a("strong",[s._v("7.标签首字母")]),a("ul",[a("li",[a("strong",[s._v("(1).若小写字母开头，则将该标签转为html中同名元素，若html中没有该标签，就报错")])]),a("li",[a("strong",[s._v("(2).如果是大写字母开头，React就去渲染这个组件，没有定义的话就报错")])])])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-meta"}},[s._v("<!DOCTYPE "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("html")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("html")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"en"')]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("head")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("charset")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"UTF-8"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("http-equiv")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"X-UA-Compatible"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("content")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"IE=edge"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"viewport"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("content")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"width=device-width, initial-scale=1.0"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("title")]),s._v(">")]),s._v("Document"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("title")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".pink")]),s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("background-color")]),s._v(": pink;\n        }\n    ")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("head")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("body")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"test"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 引入react核心库 --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://cdn.staticfile.org/react/16.4.0/umd/react.development.js"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 引入react-dom，用于支持react操作dom --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 引入babel，用于将jsx转为js --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text/babel"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* 此处一定要写babel */")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//1.创建虚拟DOM")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" x = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'外部定义的变量'")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" id = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'title'")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-variable constant_"}},[s._v("VDOM")]),s._v(" = (\n        "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{id}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("className")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"pink"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("style")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{{color:")]),s._v("'"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("white")]),s._v("'}}>")]),s._v("Hello,React"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("{x}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("    \n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("  \n    )  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//此处一定不要写引号，因为不是字符串")]),s._v("\n        \n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//2.渲染虚拟DOM到页面")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// ReactDOM.render(虚拟DOM,容器)")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable constant_"}},[s._v("VDOM")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'test'")]),s._v("))\n    ")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("body")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("html")]),s._v(">")]),s._v("\n")])]),a("h2",[a("strong",[s._v("2.state属性")])]),a("h2",[s._v("组件内定义state属性")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-meta"}},[s._v("<!DOCTYPE "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("html")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("html")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"en"')]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("head")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("charset")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"UTF-8"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("http-equiv")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"X-UA-Compatible"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("content")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"IE=edge"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"viewport"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("content")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"width=device-width, initial-scale=1.0"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("title")]),s._v(">")]),s._v("Document"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("title")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("head")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("body")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 先准备好一个容器 --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"test"')]),s._v(">")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 引入react核心库 --\x3e")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://cdn.staticfile.org/react/16.4.0/umd/react.development.js"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 引入react-dom，用于支持react操作dom --\x3e")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 引入babel，用于将jsx转为js --\x3e")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text/babel"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//创建一个组件")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Wether")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("React.Component")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("constructor")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("props")]),s._v("){\n                    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("super")]),s._v("(props)\n                    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("state")]),s._v("={\n                        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isHot")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n                        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("wind")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'大风'")]),s._v("\n                    }\n                }\n                "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n                    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(">")]),s._v("今天天气很{this.state.isHot?'炎热':'凉爽'},今天有{this.state.wind}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(">")])]),s._v("\n                }\n            }\n            "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Wether")]),s._v("/>")])]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'test'")]),s._v("))\n        ")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("body")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("html")]),s._v(">")]),s._v("\n")])]),a("h2",[s._v("state事件绑定")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-meta"}},[s._v("<!DOCTYPE "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("html")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("html")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"en"')]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("head")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("charset")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"UTF-8"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("http-equiv")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"X-UA-Compatible"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("content")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"IE=edge"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"viewport"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("content")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"width=device-width, initial-scale=1.0"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("title")]),s._v(">")]),s._v("Document"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("title")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("head")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("body")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 先准备好一个容器 --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"test"')]),s._v(">")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 引入react核心库 --\x3e")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://cdn.staticfile.org/react/16.4.0/umd/react.development.js"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 引入react-dom，用于支持react操作dom --\x3e")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 引入babel，用于将jsx转为js --\x3e")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text/babel"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//创建一个组件")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Wether")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("React.Component")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 构造器调用1次")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("constructor")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("props")]),s._v("){\n                    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'constructor'")]),s._v(");\n                    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("super")]),s._v("(props)\n                    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("state")]),s._v("={\n                        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isHot")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n                        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("wind")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'大风'")]),s._v("\n                    }\n                    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//解决clickFn中this指向问题")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("clickFn")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("clickFn")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("bind")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(")\n                }\n                "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// render调用1+n次 1是初始化那次，n是状态更新的次数")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n                    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onClick")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.clickFn}")]),s._v(">")]),s._v("今天天气很{this.state.isHot?'炎热':'凉爽'},今天有{this.state.wind}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(">")])]),s._v("\n                }\n                "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 类内定义函数")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("clickFn")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n                    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// clickFn放在了Weather的原型对象上，供示例使用")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 由于clickFn是作为onClick的回调，所以不是通过实例调用的，是直接调用")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 类中的方法默认开启严格模式，所以clickFn中的this为undefined")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" isHot = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("state")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("isHot")]),s._v("\n\n                    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 严重注意：状态(state)不可以直接修改，下面这行就是直接更改！！！")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// this.state.isHot = !isHot")]),s._v("\n\n                    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(");\n                    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 严重注意：状态必须通过setState进行更新,且更新是一种合并，不是替换")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setState")]),s._v("({"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isHot")]),s._v(":!isHot})\n                }\n            }\n            "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Wether")]),s._v("/>")])]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'test'")]),s._v("))\n\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 类外定义函数")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// let clickFn = function(){")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//     alert('被点击了')")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// }")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// console.log(clickFn);")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// let clickFn = ()=>{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//     alert('被点击了')")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// }")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// console.log(clickFn);")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 测试了一下，上面两种方式没办法执行，不知道是jsx的问题还是我哪里的知识点落下了 —_—")]),s._v("\n\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// function clickFn(){")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//     alert('h1被点击了')")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// }")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// //上面这种是可以的")]),s._v("\n            \n        ")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("body")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("html")]),s._v(">")]),s._v("\n")])]),a("h2",[s._v("state简写")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-meta"}},[s._v("<!DOCTYPE "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("html")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("html")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"en"')]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("head")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("charset")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"UTF-8"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("http-equiv")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"X-UA-Compatible"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("content")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"IE=edge"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"viewport"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("content")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"width=device-width, initial-scale=1.0"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("title")]),s._v(">")]),s._v("Document"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("title")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("head")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("body")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 先准备好一个容器 --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"test"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 引入react核心库 --\x3e")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://cdn.staticfile.org/react/16.4.0/umd/react.development.js"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 引入react-dom，用于支持react操作dom --\x3e")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 引入babel，用于将jsx转为js --\x3e")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text/babel"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//创建一个组件")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Wether")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("React.Component")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//直接放到实例自身上")]),s._v("\n                state={\n                        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isHot")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n                        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("wind")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'大风'")]),s._v("\n                    }\n                "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// render调用1+n次 1是初始化那次，n是状态更新的次数")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n                    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onClick")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.clickFn}")]),s._v(">")]),s._v("今天天气很{this.state.isHot?'炎热':'凉爽'},今天有{this.state.wind}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(">")])]),s._v("\n                }\n                \n                "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 自定义方法——要用赋值语句的形式+箭头函数")]),s._v("\n                clickFn = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("()=>")]),s._v(" {\n                    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" isHot = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("state")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("isHot")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(");\n                    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setState")]),s._v("({"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isHot")]),s._v(":!isHot})\n                }\n            }\n\n\n            "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Wether")]),s._v("/>")])]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'test'")]),s._v("))\n            \n        ")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("body")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("html")]),s._v(">")]),s._v("\n")])]),a("h2",[s._v("state总结")]),a("p",[s._v("1.state是组件对象最重要的属性，值是对象 2.通过更新组件的state来更新对应的页面显示")]),a("h2",[a("strong",[s._v("注意")])]),a("p",[s._v("1.组件中的render方法中的this为组件实例对象 2.组件自定义方法中的this为undefined，如何解决？ 1)强制绑定this：通过函数对象的bind() 2)箭头函数 3.状态数据，不能直接修改或更新")]),a("h2",[s._v("props属性")]),a("h3",[s._v("props基本使用")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-meta"}},[s._v("<!DOCTYPE "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("html")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("html")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"en"')]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("head")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("charset")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"UTF-8"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("http-equiv")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"X-UA-Compatible"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("content")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"IE=edge"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"viewport"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("content")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"width=device-width, initial-scale=1.0"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("title")]),s._v(">")]),s._v("Document"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("title")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("head")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("body")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"test1"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"test2"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"test3"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 引入react核心库 --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://cdn.staticfile.org/react/16.4.0/umd/react.development.js"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 引入react-dom，用于支持react操作dom --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 引入babel，用于将jsx转为js --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- prop-types库 --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://cdn.bootcss.com/prop-types/15.6.1/prop-types.js"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text/babel"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Person")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("React.Component")]),s._v("{\n            \n            "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {name,age,sex} = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("props")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("姓名：{name}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("    \n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("年龄：{age}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("    \n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("性别：{sex}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("    \n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")])]),s._v("\n            }\n        }\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//对标签属性进行类型，必要性的限制")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Person")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("propTypes")]),s._v(" = {\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PropTypes")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("string")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("isRequired")]),s._v(",\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sex")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PropTypes")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("string")]),s._v(",\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PropTypes")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("number")]),s._v(",\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("speak")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PropTypes")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("func")]),s._v("\n        }\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 指定默认标签属性值")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Person")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("defaultProps")]),s._v(" = {\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sex")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'不男不女'")]),s._v("\n        }\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Person")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'jerry'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{19}")]),s._v("  />")])]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'test1'")]),s._v("))\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Person")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'tom'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{18}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sex")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'男'")]),s._v("  />")])]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'test2'")]),s._v("))\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//批量传递标签属性")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" p = {"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'jane'")]),s._v(" ,"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("19")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sex")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'女'")]),s._v(" }\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Person")]),s._v(" {"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("...p")]),s._v("} />")])]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'test3'")]),s._v("))\n    ")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("body")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("html")]),s._v(">")]),s._v("\n")])]),a("h2",[s._v("props的简写方法")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-meta"}},[s._v("<!DOCTYPE "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("html")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("html")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"en"')]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("head")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("charset")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"UTF-8"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("http-equiv")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"X-UA-Compatible"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("content")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"IE=edge"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"viewport"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("content")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"width=device-width, initial-scale=1.0"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("title")]),s._v(">")]),s._v("Document"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("title")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("head")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("body")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"test1"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"test2"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"test3"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 引入react核心库 --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://cdn.staticfile.org/react/16.4.0/umd/react.development.js"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 引入react-dom，用于支持react操作dom --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 引入babel，用于将jsx转为js --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- prop-types库 --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://cdn.bootcss.com/prop-types/15.6.1/prop-types.js"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text/babel"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Person")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("React.Component")]),s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//对标签属性进行类型，必要性的限制")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("static")]),s._v(" propTypes = {\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PropTypes")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("string")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("isRequired")]),s._v(",\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sex")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PropTypes")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("string")]),s._v(",\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PropTypes")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("number")]),s._v(",\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("speak")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PropTypes")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("func")]),s._v("\n        }\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 指定默认标签属性值")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("static")]),s._v(" defaultProps = {\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sex")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'不男不女'")]),s._v("\n        }\n            "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {name,age,sex} = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("props")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("姓名：{name}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("    \n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("年龄：{age}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("    \n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("性别：{sex}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("    \n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")])]),s._v("\n            }\n        }\n        \n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Person")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'jerry'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{19}")]),s._v("  />")])]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'test1'")]),s._v("))\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Person")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'tom'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{18}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sex")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'男'")]),s._v("  />")])]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'test2'")]),s._v("))\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//批量传递标签属性")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" p = {"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'jane'")]),s._v(" ,"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("19")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sex")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'女'")]),s._v(" }\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Person")]),s._v(" {"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("...p")]),s._v("} />")])]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'test3'")]),s._v("))\n    ")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("body")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("html")]),s._v(">")]),s._v("\n")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},5207:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("hr"),a("p",[s._v("title: redux学习笔记 date: 2022-10-10 21:23:53 categories: React tags:")]),a("ul",[a("li",[s._v("React")]),a("li",[s._v("笔记")])]),a("hr"),a("h2",[a("strong",[s._v("Redux概述")])]),a("p",[s._v("Redux为何物")]),a("ul",[a("li",[s._v("Redux是用于做状态管理的JS库")]),a("li",[s._v("可用于React，Angular，Vue等项目中，常用于React")]),a("li",[s._v("集中式管理React应用多个组件共享的状态")])]),a("p",[s._v("何时用Redux")]),a("ul",[a("li",[s._v("某个组件的状态需要让其他组件拿到")]),a("li",[s._v("一个组件要改变另一个组件的状态")]),a("li",[s._v("使用原则：不到万不得已不要轻易使用")])]),a("p",[s._v("Redux 工作流程")]),a("p",[a("img",{attrs:{src:"https://brucecai55520.gitee.io/bruceblog/assets/img/redux.4afb4200.png",alt:"redux工作流程"}})]),a("ul",[a("li",[s._v("组件想用Redux中的状态：把动作类型和数据告诉"),a("code",{pre:!0},[s._v("Action Creators")])]),a("li",[a("code",{pre:!0},[s._v("Action Creators")]),s._v("创建"),a("code",{pre:!0},[s._v("actions")]),s._v(":同步"),a("code",{pre:!0},[s._v("action")]),s._v("是一个普通对象，异步"),a("code",{pre:!0},[s._v("action")]),s._v("是一个函数")]),a("li",[a("code",{pre:!0},[s._v("Store")]),s._v("调用"),a("code",{pre:!0},[s._v("dispatch()")]),s._v("分发给"),a("code",{pre:!0},[s._v("Reducers")]),s._v("执行")]),a("li",[a("code",{pre:!0},[s._v("Reducers")]),s._v("接收"),a("code",{pre:!0},[s._v("previousState")]),s._v(","),a("code",{pre:!0},[s._v("action")]),s._v("两个参数，对状态进行加工后返回新状态")]),a("li",[a("code",{pre:!0},[s._v("Store")]),s._v("调用"),a("code",{pre:!0},[s._v("getState()")]),s._v("把状态传给组件")])]),a("h2",[a("strong",[s._v("核心概念")])]),a("p",[a("code",{pre:!0},[s._v("action")]),s._v(":")]),a("ul",[a("li",[s._v("表示动作的对象，包含两个属性")]),a("li",[a("code",{pre:!0},[s._v("type")]),s._v(":表示属性，值为字符串，唯一，必须属性")]),a("li",[a("code",{pre:!0},[s._v("data")]),s._v(":数据属性，类型任意，可选属性")]),a("li",[s._v("{type:'string',data:data}")])]),a("p",[a("code",{pre:!0},[s._v("reducer")]),s._v(":")]),a("ul",[a("li",[s._v("用于初始化状态、加工状态")]),a("li",[s._v("根据旧状态和"),a("code",{pre:!0},[s._v("action")]),s._v("产生新状态")]),a("li",[s._v("是"),a("strong",[s._v("纯函数")])])]),a("p",[s._v("纯函数：输入同样的实参，必定得到同样的输出")]),a("ul",[a("li",[s._v("不能改写参数数据")]),a("li",[s._v("不产生副作用，如网络请求、输入输出设备（网络请求不稳定）")]),a("li",[s._v("不能调用 Date.now() 、Math.random() 等不纯方法")])]),a("p",[a("code",{pre:!0},[s._v("store")]),s._v(":")]),a("ul",[a("li",[s._v("Redux核心对象，内部维护着state和reducer")]),a("li",[s._v("核心API "),a("ul",[a("li",[a("code",{pre:!0},[s._v("store.getState()")]),s._v(":获取状态")]),a("li",[a("code",{pre:!0},[s._v("store.dispatch(action)")]),s._v(":分发任务，触发reducer调用，产生新状态")]),a("li",[a("code",{pre:!0},[s._v("store.subscribe(func)")]),s._v(":注册监听函数，当状态改变自动调用")])])])]),a("h2",[s._v("一个求和案例")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// App.jsx")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("React")]),s._v(", { "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Component")]),s._v(" } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'react'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Count")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./components/Count'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("App")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("Component")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (\n      "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Count")]),s._v(" />")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n    )\n  }\n}\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// index.js")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("React")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'react'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'react-dom'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("App")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./App'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" store "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./redux/store'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("App")]),s._v(" />")])]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'root'")]),s._v("))\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 状态改变重新渲染 App 组件")]),s._v("\nstore."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("subscribe")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("App")]),s._v(" />")])]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'root'")]),s._v("))\n})\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// redux/constant.js")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 保存常量值")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-variable constant_"}},[s._v("INCREMENT")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'increment'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-variable constant_"}},[s._v("DECREMENT")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'decrement'")]),s._v("\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// redux/count_reducer.js")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { "),a("span",{pre:!0,attrs:{class:"hljs-variable constant_"}},[s._v("INCREMENT")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-variable constant_"}},[s._v("DECREMENT")]),s._v(" } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./constant'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//初始化状态")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" initState = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("countReducer")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("preState = initState, action")]),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { type, data } = action\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("switch")]),s._v(" (type) {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("INCREMENT")]),s._v(":\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" preState + data\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("DECREMENT")]),s._v(":\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" preState - data\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("default")]),s._v(":\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" preState\n  }\n}\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// redux/store.js")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { createStore } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'redux'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//引入为 Count 组件服务的 reducer")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" countReducer "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./count_reducer'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("createStore")]),s._v("(countReducer)\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// redux/count_action.js")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { "),a("span",{pre:!0,attrs:{class:"hljs-variable constant_"}},[s._v("INCREMENT")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-variable constant_"}},[s._v("DECREMENT")]),s._v(" } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./constant'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("createIncrementAction")]),s._v(" = ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("data")]),s._v(") => ({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-variable constant_"}},[s._v("INCREMENT")]),s._v(", data })\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("createDecrementAction")]),s._v(" = ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("data")]),s._v(") => ({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-variable constant_"}},[s._v("DECREMENT")]),s._v(", data })\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// components/Count/index.jsx")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("React")]),s._v(", { "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Component")]),s._v(" } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'react'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" store "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'../../redux/store'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { createIncrementAction, createDecrementAction } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'../../redux/count_action'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Count")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("Component")]),s._v(" {\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   可在组件单独监听 Redux 状态变化")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   componentDidMount() {")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//      store.subscribe(() => {")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//             this.setState({})")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//         })")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   }")]),s._v("\n\n  increment = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { value } = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("selectNumber")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 将 value 转为数值")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 手动写 Action 对象")]),s._v("\n    store."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("dispatch")]),s._v("({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'increment'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data")]),s._v(": value * "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(" })\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 专门创建 Action 对象")]),s._v("\n    store."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("dispatch")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("createIncrementAction")]),s._v("(value * "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("))\n  }\n\n  decrement = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { value } = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("selectNumber")]),s._v("\n    store."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("dispatch")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("createDecrementAction")]),s._v("(value * "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("))\n  }\n\n  incrementAsync = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { value } = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("selectNumber")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("setTimeout")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" {\n      store."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("dispatch")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("createIncrementAction")]),s._v("(value * "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("))\n    }, "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("500")]),s._v(")\n  }\n\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (\n      "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(">")]),s._v("当前求和为：{store.getState()}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{(c)")]),s._v(" =>")]),s._v(" (this.selectNumber = c)}>\n          "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("option")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("value")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"1"')]),s._v(">")]),s._v("1"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("option")]),s._v(">")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("option")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("value")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"2"')]),s._v(">")]),s._v("2"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("option")]),s._v(">")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("option")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("value")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"3"')]),s._v(">")]),s._v("3"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("option")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("select")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onClick")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.increment}")]),s._v(">")]),s._v("+"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onClick")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.decrement}")]),s._v(">")]),s._v("-"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onClick")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.incrementAsync}")]),s._v(">")]),s._v("异步加"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n    )\n  }\n}\n")])]),a("ul",[a("li",[s._v("Redux只负责管理状态，状态改变后页面的更新需要自己写")]),a("li",[s._v("可以在"),a("code",{pre:!0},[s._v("index.js")]),s._v("中监听状态变化，不能直接调"),a("code",{pre:!0},[s._v("render()")]),s._v(",要用"),a("code",{pre:!0},[s._v("this.setState({})")]),s._v("间接调用")]),a("li",[a("code",{pre:!0},[s._v("reducer")]),s._v("由"),a("code",{pre:!0},[s._v("store")]),s._v("首次调用时传递的"),a("code",{pre:!0},[s._v("previousState")]),s._v("是"),a("code",{pre:!0},[s._v("undefined")]),s._v("，"),a("code",{pre:!0},[s._v("action")]),s._v("为"),a("code",{pre:!0},[s._v("{type:'@@REDUX/INIT_a.5.v.9'}")]),s._v("类似的东西，没有传"),a("code",{pre:!0},[s._v("data")])])]),a("h2",[a("strong",[s._v("Redux异步编程")])]),a("p",[s._v("安装异步中间件：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-sh"}},[s._v("npm install redux-thunk -S\n")])]),a("p",[s._v("要点：")]),a("ul",[a("li",[s._v("延迟的动作不想交给组件，而是 "),a("code",{pre:!0},[s._v("action")])]),a("li",[s._v("当操作状态所需数据要靠异步任务返回时，可用异步 "),a("code",{pre:!0},[s._v("action")])]),a("li",[s._v("创建 "),a("code",{pre:!0},[s._v("action")]),s._v(" 的函数返回一个函数，该函数中写异步任务")]),a("li",[s._v("异步任务完成后，分发一个同步 "),a("code",{pre:!0},[s._v("action")]),s._v(" 操作状态")]),a("li",[s._v("异步 "),a("code",{pre:!0},[s._v("action")]),s._v(" 不是必要的，完全可以在组件中等待异步任务结果返回在分发同步 "),a("code",{pre:!0},[s._v("action")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// store.js")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { createStore, applyMiddleware } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'redux'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" countReducer "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./count_reducer'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" thunk "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'redux-thunk'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("createStore")]),s._v("(countReducer, "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("applyMiddleware")]),s._v("(thunk))\n\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// count_action.js")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { "),a("span",{pre:!0,attrs:{class:"hljs-variable constant_"}},[s._v("INCREMENT")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-variable constant_"}},[s._v("DECREMENT")]),s._v(" } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./constant.js'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("createIncrementAction")]),s._v(" = ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("data")]),s._v(") => ({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-variable constant_"}},[s._v("INCREMENT")]),s._v(", data })\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("createDecrementAction")]),s._v(" = ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("data")]),s._v(") => ({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-variable constant_"}},[s._v("DECREMENT")]),s._v(", data })\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 异步 action 返回一个函数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("createIncrementAsyncAction")]),s._v(" = ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("data, time")]),s._v(") => {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("dispatch")]),s._v(") =>")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("setTimeout")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("dispatch")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("createIncrementAction")]),s._v("(data))\n    }, time)\n  }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Count.jsx")]),s._v("\nincrementAsync = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { value } = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("selectNumber")]),s._v("\n  store."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("dispatch")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("createIncrementAsyncAction")]),s._v("(value * "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("))\n}\n")])]),a("p",[s._v("整个过程简单理解："),a("code",{pre:!0},[s._v("store")]),s._v(" 在分发 "),a("code",{pre:!0},[s._v("action")]),s._v(" 时，发现返回一个函数，那它知道这是个异步 "),a("code",{pre:!0},[s._v("action")]),s._v(" 。因此 "),a("code",{pre:!0},[s._v("store")]),s._v(" 勉为其难地帮忙执行这个函数，同时给这个函数传递 "),a("code",{pre:!0},[s._v("dispatch")]),s._v(" 方法，等待异步任务完成取到数据后，直接调用 "),a("code",{pre:!0},[s._v("dispatch")]),s._v(" 方法分发同步 "),a("code",{pre:!0},[s._v("action")]),s._v(" 。")])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},8018:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("hr"),a("p",[s._v("title: 网易云音乐案例 date: 2022-10-12 21:23:53 categories: Vue tags:")]),a("ul",[a("li",[s._v("Vue")]),a("li",[s._v("笔记")])]),a("hr"),a("h2",[s._v("网易云案例总结(临近考试该复习了停更一段时间(T⌓T))")]),a("h3",[s._v("1.又熟悉一遍vant组件库的使用")]),a("p",[s._v("1.局部引入配置")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("module")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("exports")]),s._v(" = {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("presets")]),s._v(": [\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@vue/cli-plugin-babel/preset'")]),s._v("\n  ],\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("plugins")]),s._v(": [\n    ["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"import"')]),s._v(", {\n      "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"libraryName"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"vant"')]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"libraryDirectory"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"es"')]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"style"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n    },"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vant'")]),s._v("]\n  ]\n}\n")])]),a("p",[s._v("通过此配置可以实现vant组件库的局部引入即"),a("code",{pre:!0},[s._v("import {} from 'vant'")])]),a("h3",[s._v("2.更加熟悉封装axios请求的操作")]),a("p",[s._v("1.先在src下新建utils/request.js,对网络请求进行二次封装")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 网络请求 - 二次封装")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" axios "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"axios"')]),s._v(";\naxios."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("defaults")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("baseURL")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'http://localhost:3000'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" axios\n")])]),a("p",[s._v("2.再在src下新建api文件，其中新建index.js作为请求总汇,分别新建Home.js,Play.js,Search.js进行具体请求操作")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Home.js")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 文件名-尽量和模块页面文件名统一")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" request "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/utils/request'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//首页-推荐歌单")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("recommendMusic")]),s._v(" = params => "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("request")]),s._v("({\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/personalized'")]),s._v(",\n    params\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//将来可能传入params的值{limit:20}")]),s._v("\n})\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 首页-最新音乐")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("newMusic")]),s._v(" = params => "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("request")]),s._v("({\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/personalized/newsong'")]),s._v(",\n    params\n})\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Search.js")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 搜索模块")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" request "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/utils/request'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("hotSearch")]),s._v(" = params => "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("request")]),s._v("({\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/search/hot'")]),s._v(",\n    params\n})\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("searchResultList")]),s._v(" = params => "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("request")]),s._v("({\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/cloudsearch'")]),s._v(",\n    params\n})\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Play.js")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" request "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'../utils/request'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 播放页 - 获取歌曲详情")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getSongById")]),s._v(" = ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("id")]),s._v(") => "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("request")]),s._v("({\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`/song/detail?ids="),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${id}")]),s._v("`")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("method")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"GET"')]),s._v("\n})\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 播放页 - 获取歌词")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getLyricById")]),s._v(" = ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("id")]),s._v(") => "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("request")]),s._v("({\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`/lyric?id="),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${id}")]),s._v("`")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("method")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"GET"')]),s._v("\n})\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// index.js作为请求总汇")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// api文件夹下 各个请求模块js，同一来到index.js再向外导出")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" {recommendMusic,newMusic} "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./Home'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { hotSearch,searchResultList } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./Search'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" {getSongById,getLyricById} "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./Play'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" recommendMusicAPI = recommendMusic "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//请求推荐歌单的方法导出")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" newMusicAPI = newMusic "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//请求最新音乐的方法导出")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" hotSearchAPI = hotSearch "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//搜索-热搜关键词")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" searchResultListAPI = searchResultList "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//搜索-搜索结果")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" getSongByIdAPI = getSongById "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//搜索-搜索结果")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" getLyricByIdAPI = getLyricById "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//搜索-搜索结果")]),s._v("\n")])]),a("p",[s._v("作用：这样做更利于不同请求的调用和更改，更便于维护")]),a("h3",[s._v("3.更加熟悉vue中路由的操作")]),a("p",[s._v("src下新建router/index.js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("VueRouter")]),s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue-router'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Layout")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/view/Layout'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Home")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/view/Home'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Search")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/view/Search'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Play")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/view/Play'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("VueRouter")]),s._v(")\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" routes = [\n    {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("redirect")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/layout'")]),s._v("\n    },\n    {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/layout'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Layout")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("children")]),s._v(":[\n            {\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'home'")]),s._v(",\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Home")]),s._v(",\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("meta")]),s._v(":{ "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//meta保存路由对象额外信息")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("title")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'首页'")]),s._v("\n                }\n            },\n            {\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'search'")]),s._v(",\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Search")]),s._v(",\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("meta")]),s._v(":{\n                    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("title")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'搜索'")]),s._v("\n                }\n            }\n        ]\n    },\n    {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/play'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Play")]),s._v("\n    }\n]\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("VueRouter")]),s._v("({\n    routes\n})\n")])]),a("p",[s._v("对路由跳转传参，重定向，子路由更加深入的了解")]),a("p",[s._v("入口文件导入")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// main.js")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("App")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./App.vue'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/mobile/flexible'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/styles/reset.css'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" router "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/router'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 测试封装api的方法")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { recommendMusicAPI } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./api'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("fn")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" res = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("recommendMusicAPI")]),s._v("()\n  "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(res);\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("fn")]),s._v("()\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Tabbar")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("TabbarItem")]),s._v(" ,"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("NavBar")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Col")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Row")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Image")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("as")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("VanImage")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cell")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("CellGroup")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Icon")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Search")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("List")]),s._v(",} "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vant'")]),s._v(";\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("List")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Search")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cell")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Icon")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("CellGroup")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("VanImage")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Col")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Row")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Tabbar")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("TabbarItem")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("NavBar")]),s._v(");\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("config")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("productionTip")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("({\n  router,\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("render")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("h")]),s._v(" =>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("h")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("App")]),s._v("),\n}).$mount("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'#app'")]),s._v(")\n")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},1343:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("hr"),a("p",[s._v("title: 10.4(props)笔记 date: 2022-10-09 09:25:00 author: Alicia img: ../galleries/AnimeScenery/img/2.jpg top: true cover: true coverImg: ../galleries/AnimeScenery/img/2.jpg password: toc: false mathjax: false summary: categories: React tags:")]),a("ul",[a("li",[s._v("React")]),a("li",[s._v("笔记")])]),a("hr"),a("h2",[a("strong",[s._v("props(继续学习)")])]),a("h2",[a("strong",[s._v("类式组件的构造器与props")])]),a("p",[s._v("构造函数一般用在两种情况:")]),a("ul",[a("li",[s._v("1.通过给this.state赋值对象来初始化内部state")]),a("li",[s._v("2.为事件处理函数绑定实例")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("constructor")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("props")]),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("super")]),s._v("(props)\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//初始化state")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("state")]),s._v("={"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isHot")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("wind")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'微风'")]),s._v("}\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 解决 this 指向问题")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("changeWeather")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("changeWeather")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("bind")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(")\n    }\n")])]),a("p",[s._v("因此构造器一般不需要写，如果要在构造器内使用this.props才声明构造器,并且需要在最开始调用super(props)")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("constructor")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("props")]),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("super")]),s._v("(props)\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("props")]),s._v(");\n    }\n")])]),a("h2",[a("strong",[s._v("函数式组件与props")])]),a("p",[s._v("由于函数可以传递参数，因此函数式组件可以使用 props 。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://cdn.bootcss.com/prop-types/15.6.1/prop-types.js"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text/babel"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 因为函数可以传参数，因此函数式组件可以使用props")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("Person")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("props")]),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { name, age, sex } = props\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (\n                "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("姓名：{ name }"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("    \n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("年龄：{ age }"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("    \n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("性别：{ sex } "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("    \n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")])]),s._v("\n            )\n        }\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Person")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("propTypes")]),s._v(" = {\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PropTypes")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("string")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("isRequired")]),s._v(",\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PropTypes")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("number")]),s._v(",\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sex")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PropTypes")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("string")]),s._v(",\n        }\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Person")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("defaultProps")]),s._v(" = {\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sex")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'男'")]),s._v(",\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v("\n        }    \n\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Person")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"tom"')]),s._v("/>")])]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'test'")]),s._v("))\n    ")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])]),a("h2",[a("strong",[s._v("组件实例核心属性3--ref")])]),a("h2",[s._v("字符串类型的ref")]),a("p",[s._v("这种形式已过时，效率不高，官方不建议使用")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text/babel"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Demo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("React.Component")]),s._v("{\n            showLeft = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("()=>")]),s._v(" {\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {ipt1} = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("refs")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("alert")]),s._v("(ipt1."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v(")\n            }\n            showRight = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("()=>")]),s._v(" {\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {ipt2} = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("refs")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("alert")]),s._v("(ipt2."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v(")\n            }\n            "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (\n                    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'ipt1'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"点我提示左侧信息"')]),s._v("/>")]),s._v("\n                        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onClick")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.showLeft}")]),s._v(">")]),s._v("点我提示左侧信息"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n                        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onBlur")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.showRight}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'ipt2'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"失去焦点提示右侧信息"')]),s._v("/>")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n                )\n            }\n        }\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Demo")]),s._v("/>")])]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'test'")]),s._v("))\n    ")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])]),a("h2",[s._v("回调类型的ref")]),a("p",[s._v("要点：")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("c => this.ipt1 = c")]),s._v("就是给组件实例添加"),a("code",{pre:!0},[s._v("ipt1")]),s._v("属性，值为节点")]),a("li",[s._v("由于是箭头函数，因此"),a("code",{pre:!0},[s._v("this")]),s._v("是"),a("code",{pre:!0},[s._v("render")]),s._v("函数里的实例，即为组件实例")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text/babel"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Demo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("React.Component")]),s._v("{\n            showLeft="),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("()=>")]),s._v("{\n                    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {ipt1} = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("alert")]),s._v("(ipt1."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v(")\n                }\n            showRight="),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("()=>")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {ipt2} = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("alert")]),s._v("(ipt2."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v(")\n            }\n            "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (\n                    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{c")]),s._v("=>")]),s._v("this.ipt1=c} type=\"text\" placeholder='点击获取左侧信息' />\n                        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onClick")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.showLeft}")]),s._v(">")]),s._v("点我获取左侧信息"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n                        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onBlur")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.showRight}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{c")]),s._v("=>")]),s._v("this.ipt2=c} type=\"text\" placeholder='失去焦点提示右侧信息'/>\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n                )\n            }\n        }\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Demo")]),s._v("/>")])]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'test'")]),s._v("))\n    ")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])]),a("p",[s._v("关于回调 ref 执行次数的问题，官网 (opens new window)描述：")]),a("p",[s._v("TIP 如果 ref 回调函数是以内联函数的方式定义的，在更新过程中它会被执行两次，第一次传入参数 null，然后第二次会传入参数 DOM 元素。这是因为在每次渲染时会创建一个新的函数实例，所以 React 清空旧的 ref 并且设置新的。通过将 ref 的回调函数定义成 class 的绑定函数的方式可以避免上述问题，但是大多数情况下它是无关紧要的。")]),a("p",[s._v("即内联函数形式，在更新过程中 ref 回调会被执行两次，第一次传入 null ，第二次传入 DOM 元素。若是下述形式，则只执行一次。但是对功能实现没有影响，因此一般也是用内联函数形式。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text/babel"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Demo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("React.Component")]),s._v("{\n\n            state={\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isHot")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n            }\n            changeWeather = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("()=>")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" isHot = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("state")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("isHot")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setState")]),s._v("({"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isHot")]),s._v(":!isHot})\n            }\n            showMsg = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("()=>")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {ipt} = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("alert")]),s._v("(ipt."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v(")\n            }\n            saveRefs = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("c")]),s._v(")=>")]),s._v("{\n                \n            }\n            "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {isHot} = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("state")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (\n                    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(">")]),s._v("{isHot?'炎热':'凉爽'}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(">")]),s._v("\n                        {/*"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{c")]),s._v("=>")]),s._v("{this.ipt=c;console.log('@',c)}} type=\"text\"/> "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("br")]),s._v("/>")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("br")]),s._v("/>")]),s._v("*/}\n                        //上面回调在render更新渲染时会调用两次\n                        //解决：外层定义一个save函数，ref回调里调用save，save里提取真实DOM\n                        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.saveRefs}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v("/>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("br")]),s._v("/>")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("br")]),s._v("/>")]),s._v("\n                        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onClick")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.showMsg}")]),s._v(">")]),s._v("点我提示信息"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n                        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onClick")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.changeWeather}")]),s._v(">")]),s._v("切换"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("    \n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n                )\n            }\n        }\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Demo")]),s._v("/>")])]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'test'")]),s._v("))\n    ")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])]),a("h2",[s._v("createRef API")]),a("p",[s._v("该方式通过调用"),a("code",{pre:!0},[s._v("React.CreateRef")]),s._v("返回一个容器用于储存节点，且一个容器只能存储一个节点")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text/babel"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Demo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("React.Component")]),s._v("{\n        myRef = "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("React")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("createRef")]),s._v("()\n        showMsg = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("()=>")]),s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("myRef")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("current")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v(");\n        }\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (\n                "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.myRef}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v("/>")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onClick")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.showMsg}")]),s._v(">")]),s._v("点击提示信息"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("    \n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n            )\n        }\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Demo")]),s._v("/>")])]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'test'")]),s._v("))\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])]),a("h2",[s._v("事件处理")]),a("ul",[a("li",[s._v("React 使用自定义事件，而非原生 DOM 事件，即 "),a("code",{pre:!0},[s._v("onClick、onBlur")]),s._v(" ：为了更好的兼容性")]),a("li",[s._v("React 的事件通过事件委托方式进行处理：为了高效")]),a("li",[s._v("通过 "),a("code",{pre:!0},[s._v("event.target")]),s._v(" 可获取触发事件的DOM元素：勿过度使用 "),a("code",{pre:!0},[s._v("ref")])])]),a("p",[s._v("当触发事件的元素和需要操作的元素为同一元素时，可以不使用"),a("code",{pre:!0},[s._v("ref")]),s._v(":")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v("class Demo extends React.Component {\n  showData2 = (event) => {\n    alert(event.target.value)\n  }\n\n  render() {\n    return (\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onBlur")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.showData2}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"失去焦点提示数据"')]),s._v(" />")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-symbol"}},[s._v("&nbsp;")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    )\n  }\n}\n")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},7511:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("hr"),a("p",[s._v("title: 10.5(React脚手架) categories: React tags:")]),a("ul",[a("li",[s._v("React")]),a("li",[s._v("笔记")])]),a("hr"),a("h2",[s._v("React脚手架")]),a("h2",[s._v("React脚手架项目结构")]),a("p",[a("code",{pre:!0},[s._v("public")]),s._v(":静态资源文件")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("manifest.json")]),s._v(":应用加壳(把网页变成安卓/ios软件)的配置文件")]),a("li",[a("code",{pre:!0},[s._v("robots.txt")]),s._v(":爬虫协议文件")])]),a("p",[a("code",{pre:!0},[s._v("src")]),s._v(":源码文件")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("App.test.js")]),s._v(":用于给"),a("code",{pre:!0},[s._v("App")]),s._v("组件做测试")]),a("li",[a("code",{pre:!0},[s._v("index.js")]),s._v(":入口文件")]),a("li",[a("code",{pre:!0},[s._v("reportWebVitals.js")]),s._v(":页面性能分析文件，需要"),a("code",{pre:!0},[s._v("web-vitals")]),s._v("支持")]),a("li",[a("code",{pre:!0},[s._v("setupTests.js")]),s._v(":组件单元测试文件，需要"),a("code",{pre:!0},[s._v("jest-dom")]),s._v("支持")])]),a("p",[a("img",{attrs:{src:"https://brucecai55520.gitee.io/bruceblog/assets/img/React-cli.5baa9e94.png",alt:"图像"}})]),a("p",[a("code",{pre:!0},[s._v("index.js")]),s._v("代码分析:")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-meta"}},[s._v("<!DOCTYPE "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("html")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("html")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"en"')]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("head")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("charset")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"utf-8"')]),s._v(" />")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- %PUBLIC_URL% 代表 public 文件夹的路径 --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("link")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("rel")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"icon"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"%PUBLIC_URL%/favicon.ico"')]),s._v(" />")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 开启理想视口，用于做移动端网页的适配 --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"viewport"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("content")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"width=device-width, initial-scale=1"')]),s._v(" />")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 用于配置浏览器页签+地址栏的颜色(仅支持安卓手机浏览器) --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"theme-color"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("content")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"red"')]),s._v(" />")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 网站描述 --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("meta")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"description"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("content")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"Web site created using create-react-app"')]),s._v(" />")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 用于指定网页添加到手机主屏幕后的图标 --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("link")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("rel")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"apple-touch-icon"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"%PUBLIC_URL%/logo192.png"')]),s._v(" />")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 应用加壳时的配置文件 --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("link")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("rel")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"manifest"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"%PUBLIC_URL%/manifest.json"')]),s._v(" />")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("title")]),s._v(">")]),s._v("React App"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("title")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("head")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("body")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 若浏览器不支持 js 则展示标签中的内容 --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("noscript")]),s._v(">")]),s._v("You need to enable JavaScript to run this app."),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("noscript")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"root"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("body")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("html")]),s._v(">")]),s._v("\n")])]),a("h2",[s._v("样式的模块化")]),a("p",[s._v("样式的模块化可用于解决样式冲突的问题。该方法比较麻烦，实际开发用的比较少。用 less 就能解决了。 "),a("code",{pre:!0},[s._v("component/Hello")]),s._v("文件下的"),a("code",{pre:!0},[s._v("index.css")]),s._v("改名为"),a("code",{pre:!0},[s._v("index.module.css")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-css"}},[a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".title")]),s._v("{\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("background-color")]),s._v(":pink;\n}\n")])]),a("p",[a("code",{pre:!0},[s._v("Hello")]),s._v("组件导入样式:")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Component")]),s._v(" } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'react'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" hello "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./index.module.css'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Hello")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("Component")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("className")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{hello.title}")]),s._v(">")]),s._v("Hello,React!"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(">")])]),s._v("\n  }\n}\n")])]),a("h2",[s._v("React网络请求")]),a("h3",[s._v("React脚手架配置代理")]),a("p",[s._v("方法一：")]),a("p",[s._v("在"),a("code",{pre:!0},[s._v("package.json")]),s._v("文件中进行配置:")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"proxy"')]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"http://localhost:5000"')]),s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//要访问的url")]),s._v("\n")])]),a("ul",[a("li",[s._v("优点：配置简单，前端请求资源不加前缀")]),a("li",[s._v("缺点：不能配置多个代理")]),a("li",[s._v("工作方式：当请求了3000端口（本机）不存在的资源时，就会把请求转发给5000端口号服务器")])]),a("p",[s._v("方法二：")]),a("p",[s._v("在src目录下创建代理配置文件setupProxy.js，进行配置：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" proxy = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'http-proxy-middleware'")]),s._v(")\n\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("module")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("exports")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("app")]),s._v(") {\n  app."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("(\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//api1是需要转发的请求(所有带有/api1前缀的请求都会转发给5000)")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("proxy")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/api1'")]),s._v(", {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//配置转发目标地址(能返回数据的服务器地址)")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("target")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'http://localhost:5000'")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//控制服务器接收到的请求头中host字段的值")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/*\n      changeOrigin设置为true时，服务器收到的请求头中的host为：localhost:5000\n      changeOrigin设置为false时，服务器收到的请求头中的host为：localhost:3000\n      changeOrigin默认值为false，但一般将changeOrigin改为true\n      */")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("changeOrigin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(",\n\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//去除请求前缀，保证交给后台服务器的是正常请求地址(必须配置)")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("pathRewrite")]),s._v(": { "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'^/api1'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(" },\n    }),\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("proxy")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/api2'")]),s._v(", {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("target")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'http://localhost:5001'")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("changeOrigin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("pathRewrite")]),s._v(": { "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'^/api2'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(" },\n    })\n  )\n}\n")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},2498:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("hr"),a("p",[s._v("title: 10.5(受控非受控组件) categories: React tags:")]),a("ul",[a("li",[s._v("React")]),a("li",[s._v("笔记")])]),a("hr"),a("h2",[s._v("受控 & 非受控组件")]),a("p",[s._v("包含表单的组件分类：")]),a("ul",[a("li",[s._v("非受控组件：现用现取。即需要时使用，再获取节点得到数据")]),a("li",[s._v("受控组件：类似于Vue双向绑定的从视图层绑定到数据")])]),a("p",[s._v("尽量使用受控组件，因为非受控组件要使用大量的ref")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v("//非受控组件\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text/babel"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Demo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("React.Component")]),s._v("{\n            handleSubmit = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("event")]),s._v(")=>")]),s._v("{\n                event."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("preventDefault")]),s._v("();\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {username,password} = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("alert")]),s._v("(\n                    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`您的用户名为"),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${username.value}")]),s._v("，密码为"),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${password.value}")]),s._v("`")]),s._v("\n                )\n            }\n            "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (\n                    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("form")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onSubmit")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("this.handleSubmit")]),s._v(" }>")]),s._v("\n                            用户名："),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{c")]),s._v("=>")]),s._v("this.username=c} type=\"text\" name='username'/>"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("br")]),s._v("/>")]),s._v("    \n                            密码 ："),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{c")]),s._v("=>")]),s._v("this.password=c} type=\"password\" name='password'/>"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("br")]),s._v("/>")]),s._v("\n                            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("登录"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("    \n                        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("form")]),s._v(">")]),s._v("   \n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n                )\n            }\n        }\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("( "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Demo")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Demo")]),s._v(">")])]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'test'")]),s._v(") )\n    ")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v("//受控组件\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text/babel"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Demo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("React.Component")]),s._v("{\n                state = {\n                    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("username")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n                    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("password")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v("\n                }\n                saveUserName = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("event")]),s._v(")=>")]),s._v(" {\n                    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setState")]),s._v("({"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("username")]),s._v(":event."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("target")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v("})\n                }\n                savePassword = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("event")]),s._v(")=>")]),s._v(" {\n                    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setState")]),s._v("({"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("password")]),s._v(":event."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("target")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v("})\n                }\n                handleSubmit = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("event")]),s._v(")=>")]),s._v(" {\n                    event."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("preventDefault")]),s._v("();\n                    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {username,password} = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("state")]),s._v(";\n                    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("alert")]),s._v("(\n                        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`您的用户名为"),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${ username }")]),s._v(",密码为"),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${ password }")]),s._v("`")]),s._v("\n                    )\n                }\n                "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n                    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (\n                        "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("form")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onSubmit")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.handleSubmit}")]),s._v(">")]),s._v("\n                                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onChange")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.saveUserName}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v("/>")]),s._v("\n                                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onChange")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.savePassword}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"password"')]),s._v("/>")]),s._v("\n                                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("登录"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("    \n                            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("form")]),s._v(">")]),s._v("\n                        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n                    )\n                }\n            }\n            "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Demo")]),s._v("/>")])]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'test'")]),s._v("))\n        ")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])]),a("h2",[s._v("高阶函数_函数柯里化")]),a("p",[s._v("对上述受控组件代码进行优化，希望把"),a("code",{pre:!0},[s._v("saveUserName")]),s._v("和"),a("code",{pre:!0},[s._v("savePassword")]),s._v("合并为一个函数 要点：")]),a("ul",[a("li",[s._v("高阶函数：参数为函数或者返回一个函数的函数，如"),a("code",{pre:!0},[s._v("Promise、setTimeout、Array.map()")])]),a("li",[s._v("函数柯里化：通过函数调用继续返回函数的方式，实现多次接收参数最后统一处理的函数编码形式")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v("//函数柯里化\nfunction sum(a){\n    return (b)=>{\n        return (c){\n            return a + b + c;\n        }\n    }\n}\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v("//使用高阶函数和函数柯里化\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text/babel"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Demo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("React.Component")]),s._v("{\n            state = {\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("username")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("password")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v("\n            }\n            saveFormData = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("dataType")]),s._v(")=>")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("event")]),s._v(")=>")]),s._v("{\n                    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setState")]),s._v("({[dataType]:event."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("target")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v("})\n                }\n            }\n            handleSubmit = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("event")]),s._v(")=>")]),s._v(" {\n                event."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("preventDefault")]),s._v("();\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {username,password} = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("state")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("alert")]),s._v("(\n                    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`您的用户名为"),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${ username }")]),s._v(",密码为"),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${ password }")]),s._v("`")]),s._v("\n                )\n            }\n            "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (\n                    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("form")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onSubmit")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.handleSubmit}")]),s._v(">")]),s._v("\n                            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onChange")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.saveFormData(")]),s._v("'"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("username")]),s._v("')} "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v("/>")]),s._v("\n                            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onChange")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.saveFormData(")]),s._v("'"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("password")]),s._v("')} "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"password"')]),s._v("/>")]),s._v("\n                            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("登录"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("    \n                        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("form")]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n                )\n                }\n            }\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Demo")]),s._v("/>")])]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'test'")]),s._v("))\n    ")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v("//不使用柯里化写法\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text/babel"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Demo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("React.Component")]),s._v("{\n            state = {\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("username")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("password")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v("\n            }\n            saveFormData = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("dataType,event")]),s._v(")=>")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setState")]),s._v("({[dataType]:event."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("target")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v("})\n            }\n            handleSubmit = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("event")]),s._v(")=>")]),s._v(" {\n                event."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("preventDefault")]),s._v("();\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {username,password} = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("state")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("alert")]),s._v("(\n                    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`您的用户名为"),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${ username }")]),s._v(",密码为"),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${ password }")]),s._v("`")]),s._v("\n                )\n            }\n            "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (\n                    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("form")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onSubmit")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.handleSubmit}")]),s._v(">")]),s._v("\n                            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onChange")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{event")]),s._v("=>")]),s._v("this.saveFormData('username',event)} type=\"text\"/>\n                            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onChange")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{event")]),s._v("=>")]),s._v("this.saveFormData('password',event)} type=\"password\"/>\n                            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("登录"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("    \n                        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("form")]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n                )\n                }\n            }\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Demo")]),s._v("/>")])]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'test'")]),s._v("))\n    ")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])]),a("h2",[a("strong",[s._v("生命周期")])]),a("h3",[a("strong",[s._v("生命周期旧版")])]),a("p",[a("strong",[s._v("初始化阶段：")]),a("code",{pre:!0},[s._v("ReactDOM.render()")]),s._v("触发的初次渲染")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("constructor")])]),a("li",[a("code",{pre:!0},[s._v("componentWillMount")])]),a("li",[a("code",{pre:!0},[s._v("render")])]),a("li",[a("code",{pre:!0},[s._v("componentDidMount")]),s._v(" ===> 常用 一般在这个钩子中做一些初始化的事：如：开启定时器，发送网络请求，订阅消息")])]),a("p",[a("strong",[s._v("更新阶段：")])]),a("p",[s._v("1.父组件重新"),a("code",{pre:!0},[s._v("render")]),s._v("触发的更新")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("componentWillReceiveProps")])]),a("li",[a("code",{pre:!0},[s._v("shouldComponentUpdate")]),s._v(" ：控制组件是否更新的阀门，返回值为布尔值，默认为"),a("code",{pre:!0},[s._v("true")]),s._v("。若返回 "),a("code",{pre:!0},[s._v("false")]),s._v(" ，则后续流程不会进行。")]),a("li",[a("code",{pre:!0},[s._v("componentWillUpdate")])]),a("li",[a("code",{pre:!0},[s._v("render")])]),a("li",[a("code",{pre:!0},[s._v("componentDidUpdate")])])]),a("p",[s._v("2.组件内部调用"),a("code",{pre:!0},[s._v("this.setState()")]),s._v("修改状态")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("shouldComponentUpdate")])]),a("li",[a("code",{pre:!0},[s._v("componentWillUpdate")])]),a("li",[a("code",{pre:!0},[s._v("render")])]),a("li",[a("code",{pre:!0},[s._v("componentDidUpdate")])])]),a("p",[s._v("3.组件内部调用"),a("code",{pre:!0},[s._v("this.forceUpdate()")]),s._v("强制更新")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("componentWillUpdate")])]),a("li",[a("code",{pre:!0},[s._v("render")])]),a("li",[a("code",{pre:!0},[s._v("componentDidUpdate")]),s._v(" ===> 常用 一般在这个钩子里做一些收尾的事，例如：关闭定时器，取消订阅消息")])]),a("p",[a("strong",[s._v("卸载阶段")]),s._v(":"),a("code",{pre:!0},[s._v("ReactDOM.unmountComponentAtNode()")]),s._v("触发")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("componentWillUnmount")])])]),a("p",[a("img",{attrs:{src:"https://brucecai55520.gitee.io/bruceblog/assets/img/react-lifecyle-old.5c4592bd.png",alt:"图像"}})]),a("h3",[a("strong",[s._v("生命周期新版")])]),a("h3",[a("strong",[s._v("更改内容")])]),a("ul",[a("li",[s._v("废弃三个钩子："),a("code",{pre:!0},[s._v("componentWillMount")]),s._v("、"),a("code",{pre:!0},[s._v("componentWillReceiveProps")]),s._v("、"),a("code",{pre:!0},[s._v("componentWillUpdate")]),s._v("。在新版本中这三个钩子需要加"),a("code",{pre:!0},[s._v("UNSAFE_")]),s._v("前缀，后续可能会废弃")]),a("li",[s._v("新增两个钩子（实际场景用的很少）："),a("code",{pre:!0},[s._v("getDerivedStateFromProps")]),s._v("、"),a("code",{pre:!0},[s._v("getSnapshotBeforeUpdate")])])]),a("p",[a("img",{attrs:{src:"https://brucecai55520.gitee.io/bruceblog/assets/img/react-lifecycle-new.7009279b.png",alt:"图像"}})]),a("h4",[a("strong",[s._v("static getDerivedStateFromProps(props, state)：")])]),a("ul",[a("li",[s._v("需使用 "),a("code",{pre:!0},[s._v("static")]),s._v(" 修饰")]),a("li",[s._v("需返回一个对象更新 "),a("code",{pre:!0},[s._v("state")]),s._v("或返回 "),a("code",{pre:!0},[s._v("null")])]),a("li",[s._v("适用于如下情况："),a("code",{pre:!0},[s._v("state")]),s._v(" 的值任何时候都取决于"),a("code",{pre:!0},[s._v("prop")])])]),a("h4",[a("strong",[s._v("getSnapshotBeforeUpdate(prevProps, prevState)：")])]),a("ul",[a("li",[s._v("在组件更新之前获取快照")]),a("li",[s._v("得组件能在发生更改之前从 "),a("code",{pre:!0},[s._v("DOM")]),s._v("中捕获一些信息（如滚动位置）")]),a("li",[s._v("返回值将作为参数传递给 "),a("code",{pre:!0},[s._v("componentDidUpdate()")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getDerivedStateFromProps")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("props,state")]),s._v("){\n  "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'getDerivedStateFromProps'")]),s._v(",props,state);\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v("\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getSnapshotBeforeUpdate")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n  "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'getSnapshotBeforeUpdate'")]),s._v(");\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'atguigu'")]),s._v("\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("componentDidUpdate")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("preProps,preState,snapshotValue")]),s._v("){\n  "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'componentDidUpdate'")]),s._v(",preProps,preState,snapshotValue);\n}\n")])]),a("h4",[a("strong",[s._v("最重要的三个钩子")])]),a("ul",[a("li",[s._v("render ：初始化渲染和更新渲染")]),a("li",[s._v("componentDidMount ：进行初始化，如开启定时器、发送网络请求、订阅消息")]),a("li",[s._v("componentWillUnmount ：进行收尾，如关闭定时器、取消订阅消息")])]),a("h2",[s._v("虚拟 DOM 与 Diff 算法")]),a("p",[a("img",{attrs:{src:"https://brucecai55520.gitee.io/bruceblog/assets/img/Diff.ae9f4adc.png",alt:"图像"}})]),a("h2",[a("code",{pre:!0},[s._v("key")]),a("strong",[s._v("的作用")])]),a("p",[a("code",{pre:!0},[s._v("key")]),s._v(" 是虚拟 DOM 对象的标识，可提高页面更新渲染的效率。")]),a("p",[s._v("当状态中的数据发生变化时，React 会根据新数据生成新的虚拟 DOM ，接着对新旧虚拟 DOM 进行 Diff 比较，规则如下：")]),a("ul",[a("li",[s._v("旧虚拟 DOM 找到和新虚拟 DOM 相同的 key： "),a("ul",[a("li",[s._v("若内容没变，直接复用真实 DOM")]),a("li",[s._v("若内容改变，则生成新的真实 DOM ，替换页面中之前的真实 DOM")])])]),a("li",[s._v("旧虚拟 DOM 未找到和新虚拟 DOM 相同的 key：根据数据创建新的真实 DOM ，渲染到页面")])]),a("h2",[a("strong",[s._v("使用 "),a("code",{pre:!0},[s._v("index")]),s._v(" 作为 "),a("code",{pre:!0},[s._v("key")]),s._v(" 可能引发的问题：")])]),a("ul",[a("li",[s._v("若对数据进行逆序添加、逆序删除等破坏顺序的操作，会进行没有必要的真实 DOM 更新。界面效果没问题，但效率低下。")]),a("li",[s._v("如果结构中包含输入类的 DOM（如 input 输入框） ，则会产生错误的 DOM 更新。")]),a("li",[s._v("若不存在对数据逆序添加、逆序删除等破坏顺序的操作，则没有问题。")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},8741:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("hr"),a("p",[s._v("title: 10.6(Github案例总结) categories: React tags:")]),a("ul",[a("li",[s._v("React")]),a("li",[s._v("笔记")])]),a("hr"),a("h2",[a("strong",[s._v("Github搜索框案例知识点总结")])]),a("ol",[a("li",[s._v("设计状态时要考虑全面，例如带有网络请求的组件，要考虑请求失败怎么办")]),a("li",[s._v("ES6知识点：解构赋值+重命名")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" obj = { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("a")]),s._v(": { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("b")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(" } }\n\n   "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//传统解构赋值")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { a } = obj\n\n   "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//连续解构赋值")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {\n     "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("a")]),s._v(": { b },\n   } = obj\n\n   "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//连续解构赋值 + 重命名")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {\n     "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("a")]),s._v(": { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("b")]),s._v(": value },\n   } = obj\n")])]),a("h2",[a("strong",[s._v("初始代码")])]),a("h3",[a("strong",[s._v("Search组件")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("React")]),s._v(", { "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Component")]),s._v(" } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'react'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" axios "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'axios'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./index.css'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Search")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("Component")]),s._v(" {\n    search = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("()=>")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//获取用户的输入")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("keyWord")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v(");\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" keyword = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("keyWord")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("props")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("updateState")]),s._v("({"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isFirst")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isLoading")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("})\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//发送网络请求")]),s._v("\n        axios."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("get")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`https://api.github.com/search/users?q="),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${keyword}")]),s._v("`")]),s._v(")."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("then")]),s._v("(\n            "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("res")]),s._v(" =>")]),s._v("{ \n                "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("props")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("updateState")]),s._v("({"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("users")]),s._v(":res."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("items")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isLoading")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("})\n            },\n            "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("err")]),s._v(" =>")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("props")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("updateState")]),s._v("({"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isLoading")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("err")]),s._v(":err."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("message")]),s._v("})\n            }\n        )\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (\n            "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("className")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'search'")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(">")]),s._v("Search Github Users"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{c")]),s._v("=>")]),s._v('this.keyWord=c} type="text"/>\n                '),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onClick")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.search}")]),s._v(">")]),s._v("搜索"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n        )\n    }\n}\n")])]),a("h3",[a("strong",[s._v("List组件")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("React")]),s._v(", { "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Component")]),s._v(" } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'react'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./Index.css'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("List")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("Component")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {users,isFirst,isLoading,err} = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("props")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (\n            "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n                    {\n                        isFirst ? "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(">")]),s._v("欢迎使用，输入关键字开始搜索"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(">")]),s._v(":\n                        isLoading ? "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(">")]),s._v("Loading-------"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(">")]),s._v(":\n                        err ? "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("style")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{{color:")]),s._v("'"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("red")]),s._v("'}}>")]),s._v("{err}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(">")]),s._v(":\n                        users.map(item=>{\n                            return (\n                                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("key")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{item.id}")]),s._v(">")]),s._v("\n                                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("rel")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'noreferrer'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{item.html_url}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("target")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'_blank'")]),s._v(">")]),s._v("\n                                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("img")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{item.avatar_url}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("alt")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"head_portrait"')]),s._v("/>")]),s._v("\n                                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("{item.login}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n                                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(">")]),s._v("\n                                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("\n                            )\n                        })\n                    }\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n        )\n    }\n}\n")])]),a("h3",[a("strong",[s._v("App.js")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("React")]),s._v(", { "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Component")]),s._v(" } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'react'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Search")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./components/Search'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("List")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./components/List'")]),s._v(";\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("App")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("Component")]),s._v(" {\n    state = {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("users")]),s._v(":[],\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isFirst")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isLoading")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("err")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v("\n    }\n    updateState = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("stateObj")]),s._v(")=>")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setState")]),s._v("(stateObj)\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (\n            "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v(" \n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Search")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("updateState")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.updateState}")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Search")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("List")]),s._v(" {"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("...this.state")]),s._v("}>")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("List")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n        );\n    }\n}\n")])]),a("h2",[s._v("3. 消息订阅与发布")]),a("ul",[a("li",[s._v("限定月，再发布")]),a("li",[s._v("适用于任意组件间通信")]),a("li",[s._v("要在"),a("code",{pre:!0},[s._v("componentWillUnmount")]),s._v("中取消订阅")])]),a("h2",[s._v("使用PubSub代码")]),a("h3",[a("strong",[s._v("Search组件(pubsub)")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("React")]),s._v(", { "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Component")]),s._v(" } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'react'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" axios "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'axios'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PubSub")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'pubsub-js'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./index.css'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Search")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("Component")]),s._v(" {\n    search = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("()=>")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//获取用户的输入")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("keyWord")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v(");\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" keyword = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("keyWord")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// this.props.updateState({isFirst:false,isLoading:true})")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PubSub")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("publish")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'updateState'")]),s._v(",{"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isFirst")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isLoading")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("})\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//发送网络请求")]),s._v("\n        axios."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("get")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`https://api.github.com/search/users?q="),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${keyword}")]),s._v("`")]),s._v(")."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("then")]),s._v("(\n            "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("res")]),s._v(" =>")]),s._v("{ \n                "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// this.props.updateState({users:res.data.items,isLoading:false})")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PubSub")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("publish")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'updateState'")]),s._v(",{"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("users")]),s._v(":res."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("items")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isLoading")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("})\n            },\n            "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("err")]),s._v(" =>")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// this.props.updateState({isLoading:false,err:err.message})")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PubSub")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("publish")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'updateState'")]),s._v(",{"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isLoading")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("err")]),s._v(":err."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("message")]),s._v("})\n            }\n        )\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (\n            "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("className")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'search'")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(">")]),s._v("Search Github Users"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{c")]),s._v("=>")]),s._v('this.keyWord=c} type="text"/>\n                '),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("onClick")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{this.search}")]),s._v(">")]),s._v("搜索"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n        )\n    }\n}\n")])]),a("h3",[a("strong",[s._v("List组件(pubsub)")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("React")]),s._v(", { "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Component")]),s._v(" } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'react'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PubSub")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'pubsub-js'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./Index.css'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("List")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("Component")]),s._v(" {\n    state = {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("users")]),s._v(":[],\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isFirst")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isLoading")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("err")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v("\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("componentDidMount")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("token")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PubSub")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("subscribe")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'updateState'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("_,data")]),s._v(")=>")]),s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(data);\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setState")]),s._v("(data)\n        })\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("componentWillUnmount")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PubSub")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("unsubscribe")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("token")]),s._v(")\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {users,isFirst,isLoading,err} = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("state")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (\n            "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n                    {\n                        isFirst ? "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(">")]),s._v("欢迎使用，输入关键字开始搜索"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(">")]),s._v(":\n                        isLoading ? "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(">")]),s._v("Loading-------"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(">")]),s._v(":\n                        err ? "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("style")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{{color:")]),s._v("'"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("red")]),s._v("'}}>")]),s._v("{err}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h2")]),s._v(">")]),s._v(":\n                        users.map(item=>{\n                            return (\n                                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("key")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{item.id}")]),s._v(">")]),s._v("\n                                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("rel")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'noreferrer'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{item.html_url}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("target")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'_blank'")]),s._v(">")]),s._v("\n                                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("img")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{item.avatar_url}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("alt")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"head_portrait"')]),s._v("/>")]),s._v("\n                                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("{item.login}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n                                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(">")]),s._v("\n                                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("\n                            )\n                        })\n                    }\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n        )\n    }\n}\n\n")])]),a("h3",[a("strong",[s._v("App.js(pubsub)")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("React")]),s._v(", { "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Component")]),s._v(" } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'react'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Search")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./components/Search'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("List")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./components/List'")]),s._v(";\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("App")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("Component")]),s._v(" {\n    \n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (\n            "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v(" \n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Search")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Search")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("List")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("List")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n        );\n    }\n}\n\n")])]),a("p",[s._v("4."),a("code",{pre:!0},[s._v("fetch")]),s._v("发送请求("),a("strong",[s._v("关注分离")]),s._v("的设计思想)")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("try")]),s._v(" {\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//先看看服务器能不能连上")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" response = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("fetch")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`https://api.github.com/search/users?q="),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${keyword}")]),s._v("`")]),s._v(")\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//在获取数据")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" data = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" response."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("json")]),s._v("()\n            "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PubSub")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("publish")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'updateState'")]),s._v(",{"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("users")]),s._v(":data."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("items")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isLoading")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("})\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(data);\n        } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("catch")]),s._v(" (error) {\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'请求出错'")]),s._v(",error);\n            "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PubSub")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("publish")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'updateState'")]),s._v(",{"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isLoading")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("err")]),s._v(":error."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("message")]),s._v("})\n        }\n")])]),a("h2",[a("strong",[s._v("React")]),s._v(" "),a("strong",[s._v("路由")])]),a("h3",[a("strong",[s._v("路由的理解")])]),a("p",[s._v("何为路由")]),a("ul",[a("li",[s._v("一个路由是一个映射关系")]),a("li",[a("code",{pre:!0},[s._v("key")]),s._v(" 为路径，"),a("code",{pre:!0},[s._v("value")]),s._v(" 可能是 "),a("code",{pre:!0},[s._v("function")]),s._v(" 或 组件")])]),a("p",[s._v("后端路由：")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("value")]),s._v(" 是 "),a("code",{pre:!0},[s._v("function")]),s._v(" ，用于处理客户端的请求")]),a("li",[s._v("注册路由："),a("code",{pre:!0},[s._v("router.get(path, function(req, res))")])]),a("li",[s._v("工作过程：Node 接收到请求，根据路径匹配路由，调用对应函数处理请求，返回响应数据")])]),a("p",[s._v("前端路由：")]),a("ul",[a("li",[s._v("value 是组件")]),a("li",[s._v("注册路由："),a("code",{pre:!0},[s._v('<Route path="/test" component={Test}>')])]),a("li",[s._v("工作过程：浏览器路径变为"),a("code",{pre:!0},[s._v("/test")]),s._v(" ，展示 "),a("code",{pre:!0},[s._v("Test")]),s._v(" 组件")])]),a("h2",[a("strong",[s._v("路由的基本使用")])]),a("p",[s._v("导航区用"),a("code",{pre:!0},[s._v("<Link>")]),s._v(",展示区用"),a("code",{pre:!0},[s._v("<Route>")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("React")]),s._v(", { "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Component")]),s._v(" } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'react'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Link")]),s._v(" , "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Route")]),s._v(" } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'react-router-dom'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Home")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./components/Home'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("About")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./components/About'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./index.css'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("App")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("Component")]),s._v(" {\n    \n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (\n            "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v(" \n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("className")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"header"')]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(">")]),s._v("React Router Demo"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("className")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"native"')]),s._v(">")]),s._v("\n                    {/* "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"#"')]),s._v(">")]),s._v("About"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"#"')]),s._v(">")]),s._v("Home"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(">")]),s._v(" */}\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("className")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"linkArea"')]),s._v(">")]),s._v("\n                            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Link")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("className")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'link1 active'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/about"')]),s._v(">")]),s._v("About"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Link")]),s._v(">")]),s._v("\n                            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Link")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("className")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'link2'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/home"')]),s._v(">")]),s._v("Home"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Link")]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("className")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"view"')]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Route")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/about"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{About}")]),s._v(" />")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Route")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/home"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{Home}")]),s._v(" />")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n        );\n    }\n}\n\n")])]),a("p",[a("code",{pre:!0},[s._v("<App>")]),s._v("最外侧包裹"),a("code",{pre:!0},[s._v("<BrowserRouter>")]),s._v("或"),a("code",{pre:!0},[s._v("<HashRouter>")]),s._v(":")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("React")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"react"')]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"react-dom"')]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("BrowserRouter")]),s._v(" } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"react-router-dom"')]),s._v(";\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("App")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"./App"')]),s._v(";\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ReactDOM")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("(\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("BrowserRouter")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("App")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("App")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("BrowserRouter")]),s._v(">")])]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'root'")]),s._v("))\n")])]),a("h2",[a("strong",[s._v("路由组件和一般组件")])]),a("p",[s._v("1.写法不同：")]),a("ul",[a("li",[s._v("一般组件："),a("code",{pre:!0},[s._v("<Demo/>")])]),a("li",[s._v("路由组件："),a("code",{pre:!0},[s._v('<Route path="/demo" component={Demo}/>')])])]),a("p",[s._v("2.存放位置不同：")]),a("ul",[a("li",[s._v("一般组件："),a("code",{pre:!0},[s._v("components")])]),a("li",[s._v("路由组件："),a("code",{pre:!0},[s._v("pages")])])]),a("p",[s._v("3.接收到的"),a("code",{pre:!0},[s._v("props")]),s._v("不同：")]),a("ul",[a("li",[s._v("一般组件：标签属性传递")]),a("li",[s._v("路由组件：接收到三个固定的属性")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("history")]),s._v(":\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("go")]),s._v(": ƒ "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("go")]),s._v("(n)\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("goBack")]),s._v(": ƒ "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("goBack")]),s._v("()\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("goForward")]),s._v(": ƒ "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("goForward")]),s._v("()\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("push")]),s._v(": ƒ "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("(path, state)\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("replace")]),s._v(": ƒ "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("replace")]),s._v("(path, state)\n\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("location")]),s._v(":\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("pathname")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/home/message/detail/2/hello"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("search")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('""')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("state")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("match")]),s._v(":\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("params")]),s._v(": {}\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/home/message/detail/:id/:title"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/home/message/detail/2/hello"')]),s._v("\n")])]),a("h3",[a("strong",[s._v("NavLink")])]),a("p",[a("code",{pre:!0},[s._v("NavLink")]),s._v("可以实现由链接的高亮，通过"),a("code",{pre:!0},[s._v("activeCassName")]),s._v("指定样式名，默认追加类名为"),a("code",{pre:!0},[s._v("active")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("NavLink")]),s._v(" activeClassName="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"demo"')]),s._v(" to="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/about"')]),s._v(">"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("About")]),s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("NavLink")]),s._v(">\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("NavLink")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("activeClassName")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"demo"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/home"')]),s._v(">")]),s._v("Home"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("NavLink")]),s._v(">")])]),s._v("\n")])]),a("p",[s._v("封装"),a("code",{pre:!0},[s._v("NavLink")]),s._v("组件:由于"),a("code",{pre:!0},[s._v("NavLink")]),s._v("组件中的重复代码太多，因此进行二次封装 ※ 细节点：组件标签的内容会传递到 "),a("code",{pre:!0},[s._v("this.props.children")]),s._v("属性中，反过来通过指定标签的 "),a("code",{pre:!0},[s._v("children")]),s._v(" 属性可以修改组件标签内容")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// MyNavLink 组件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("React")]),s._v(", { "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Component")]),s._v(" } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'react'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("NavLink")]),s._v(" } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'react-router-dom'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyNavLink")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("Component")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("render")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// this.props.children 可以取到标签内容，如 About, Home")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 反过来通过指定标签的 children 属性可以修改标签内容")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("NavLink")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("activeClassName")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"demo"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("className")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"list-group-item"')]),s._v(" {"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("...this.props")]),s._v("} />")])]),s._v("\n  }\n}\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyNavLink")]),s._v(" to="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/about"')]),s._v(">"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("About")]),s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyNavLink")]),s._v(">\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyNavLink")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/home"')]),s._v(">")]),s._v("Home"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyNavLink")]),s._v(">")])]),s._v("\n")])]),a("h3",[a("strong",[s._v("Switch")]),s._v(" "),a("strong",[s._v("的使用")])]),a("p",[s._v("Switch可以提高路由匹配效率，如果匹配成功，则不再继续匹配后面的路由，即为单一匹配")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Switch")]),s._v(">\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Route")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/about'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{About}/")]),s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Route")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/home'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{Home}/")]),s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Route")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/home'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{Test}/")]),s._v(">")])]),s._v("\n</"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Switch")]),s._v(">\n")])]),a("h3",[a("strong",[s._v("解决多级路径刷新页面样式丢失的问题")])]),a("ul",[a("li",[a("code",{pre:!0},[s._v("public/index.html")]),s._v(" 中引入样式时不写"),a("code",{pre:!0},[s._v("./")]),s._v("写"),a("code",{pre:!0},[s._v("/")]),s._v("（常用）")]),a("li",[a("code",{pre:!0},[s._v("public/index.html")]),s._v("中引入样式时不写"),a("code",{pre:!0},[s._v("./")]),s._v("写"),a("code",{pre:!0},[s._v("%PUBLIC_URL%")]),s._v("（常用）")]),a("li",[s._v("使用"),a("code",{pre:!0},[s._v("HashRouter")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<link rel="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"stylesheet"')]),s._v(" href="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/css/bootstrap.css"')]),s._v(" />\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("link")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("rel")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"stylesheet"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"%PUBLIC_URL%/css/bootstrap.css"')]),s._v(" />")])]),s._v("\n")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},8619:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("hr"),a("p",[s._v("title: 10.7(React路由) categories: React tags:")]),a("ul",[a("li",[s._v("React")]),a("li",[s._v("笔记")])]),a("hr"),a("h2",[a("strong",[s._v("React路由")])]),a("h2",[a("strong",[s._v("路由的严格匹配与模糊匹配")])]),a("ul",[a("li",[s._v("默认使用模糊匹配（输入路径必须包含要匹配的路径，且顺序一致")]),a("li",[s._v("开启严格模式："),a("code",{pre:!0},[s._v("<Route exact path='/about' component={About}/>")])]),a("li",[s._v("严格匹配开启可能会导致无法继续匹配二级路由")])]),a("h2",[s._v("Redirect的使用")]),a("ul",[a("li",[s._v("一般写在所有路由注册的最下方，当所有路由无法匹配时，跳转到Redirect指定的路由")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("\n<"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Switch")]),s._v(">\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Route")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/about"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"{About}"')]),s._v(" />")])]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Route")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/home"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"{Home}"')]),s._v(" />")])]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Redirect")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/about"')]),s._v(" />")])]),s._v("\n</"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Switch")]),s._v(">\n")])]),a("h2",[a("strong",[s._v("嵌套路由")])]),a("ul",[a("li",[s._v("注册子路由上需要写父路由的path")]),a("li",[s._v("路由的匹配是按照注册路由的顺序进行的")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("\x3c!-- 父组件 --\x3e\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyNavLink")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/about"')]),s._v(">")]),s._v("About"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyNavLink")]),s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyNavLink")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/home"')]),s._v(">")]),s._v("Home"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyNavLink")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Switch")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Route")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/about"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"{About}"')]),s._v(" />")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Route")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/home"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"{Home}"')]),s._v(" />")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Redirect")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/about"')]),s._v(" />")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Switch")]),s._v(">")])]),s._v("\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("\x3c!-- 子组件 --\x3e\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("className")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"nav nav-tabs"')]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyNavLink")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/home/news"')]),s._v(">")]),s._v("News"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyNavLink")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyNavLink")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/home/message"')]),s._v(">")]),s._v("Message"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyNavLink")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Switch")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Route")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/home/news"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"{News}"')]),s._v(" />")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Route")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/home/message"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"{Message}"')]),s._v(" />")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Redirect")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/home/news"')]),s._v(" />")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Switch")]),s._v(">")])]),s._v("\n")])]),a("h2",[a("strong",[s._v("路由传参")])]),a("p",[s._v("三种方式：params,search,state 三种方式对比：")]),a("ul",[a("li",[s._v("state:在当前页面刷新可以保留参数，但在新页面刷新不能保留。前两种方式因为是在url地址上保存参数，因此地址都能保留")]),a("li",[s._v("params和search参数都会变成字符串")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("\x3c!-- 路由链接 --\x3e\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Link")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/home/message/detail/Bruce/21'")]),s._v(">")]),s._v("params"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Link")]),s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Link")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{")]),s._v("`/"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("home")]),s._v("/"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("message")]),s._v("/"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("detail")]),s._v("/${"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("item.name")]),s._v("}/${"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("item.age")]),s._v("}`}>")]),s._v("{item.name}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Link")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Link")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/home/message/detail/?name=Bruce&age=21'")]),s._v(">")]),s._v("search"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Link")]),s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Link")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{")]),s._v("`/"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("home")]),s._v("/"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("message")]),s._v("/"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("detail")]),s._v("/?"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("${item.name}&title")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("${item.age}")]),s._v("`}>")]),s._v("{item.name}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Link")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Link")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{{pathname:")]),s._v(" '/"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("home")]),s._v("/"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("message")]),s._v("/"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("detail")]),s._v("', "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("state:")]),s._v(" {"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name:")]),s._v(" '"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("Bruce")]),s._v("', "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("21")]),s._v("}}}>")]),s._v("state"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Link")]),s._v(">")])]),s._v("\n\n\x3c!-- 注册路由 --\x3e\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Route")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/home/message/detail/:name/:age'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{Detail}")]),s._v(" />")])]),s._v("\n\x3c!-- search 和 state 按正常注册即可 --\x3e\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Route")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/home/message/detail'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("{Detail}")]),s._v(" />")])]),s._v("\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//接收参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { name, age } = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("props")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("match")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("params")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" qs "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'querystring'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { search } = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("props")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("location")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { name, age } = qs."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("parse")]),s._v("(search."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("slice")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("))\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { name, age } = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("props")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("location")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("state")]),s._v("\n")])]),a("h2",[s._v("编程式导航")]),a("p",[s._v("编程式导航是使用路由组件"),a("code",{pre:!0},[s._v("this.props.history")]),s._v("提供的API进行路由跳转")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("props")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("history")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("(path,state)\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("props")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("history")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("replace")]),s._v("(path,state)\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("props")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("history")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("goForward")]),s._v("()\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("props")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("history")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("gopBack")]),s._v("()\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("props")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("history")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("go")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(")参数为负数时是后退\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//编程式导航传参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("props")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("history")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`/home/message/detail/"),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${id}")]),s._v("/"),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${title}")]),s._v("`")]),s._v(")"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//params传参")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("props")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("history")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`/home/message/detail?id={id}&title={title}`")]),s._v(")"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//search传参")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("props")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("history")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`/home/message/detail`")]),s._v(",{id,title})"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//state传参")]),s._v("\n")])]),a("p",[s._v("withRouter的使用 "),a("code",{pre:!0},[s._v("withRouter")]),s._v("的作用：加工一般组件，使其像路由组件一样有路由组件的API，如"),a("code",{pre:!0},[s._v("this.props.history")]),s._v("等。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("React")]),s._v(",{"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Component")]),s._v("} "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'react'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" {withRouter} "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'react-router-dom'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Header")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_ inherited__"}},[s._v("Component")]),s._v("{\n  ...\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("withRouter")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Header")]),s._v(")\n")])]),a("h2",[s._v("BrowserRouter和HashRouter")]),a("p",[s._v("底层原理不一样")]),a("ul",[a("li",[s._v("BrowserRouter使用的是H5的history API，不兼容IE9及以下版本")]),a("li",[s._v("HashRouter使用的是URL的哈希值")])]),a("p",[s._v("路径表现不一样")]),a("ul",[a("li",[s._v("BrowserRouter的路径中没有#，如：localhost:3000/demo/test")]),a("li",[s._v("HashRouter的路径包含#，如：localhost:3000/demo/test")])]),a("p",[s._v("刷新会对路由state参数的影响")]),a("ul",[a("li",[s._v("BrowserRouter没有影响，因为state保存在history对象中")]),a("li",[s._v("HashRouter刷新后会导致路由state参数的丢失")])]),a("p",[s._v("备注:HashRouter可以解决一些路径错误相关的问题")]),a("h2",[s._v("React UI 组件库")]),a("h3",[s._v("Ant Design 配置按需引入和自定义主题")]),a("p",[s._v("以下配置是 3.x 版本，4.x 版本见"),a("a",{attrs:{href:"https://3x.ant.design/index-cn"}},[s._v("官网")])]),a("p",[s._v("1.安装依赖：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-git"}},[s._v("npm install react-app-rewired customize-cra babel-plugin-import less less-loader\n")])]),a("p",[s._v("2.修改 "),a("code",{pre:!0},[s._v("package.json")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"scripts"')]),s._v(": {\n  "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"start"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"react-app-rewired start"')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"build"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"react-app-rewired build"')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"test"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"react-app-rewired test"')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"eject"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"react-scripts eject"')]),s._v("\n}\n")])]),a("p",[s._v("3.根目录下创建 "),a("code",{pre:!0},[s._v("config-overrides.js")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//配置具体的修改规则")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { override, fixBabelImports, addLessLoader } = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'customize-cra'")]),s._v(")\n\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("module")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("exports")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("override")]),s._v("(\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("fixBabelImports")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'import'")]),s._v(", {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("libraryName")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'antd'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("libraryDirectory")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'es'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("style")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(",\n  }),\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("addLessLoader")]),s._v("({\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lessOptions")]),s._v(": {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("javascriptEnabled")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("modifyVars")]),s._v(": { "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@primary-color'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'green'")]),s._v(" },\n    },\n  })\n)\n")])]),a("p",[s._v("备注：不用在组件里引入样式，import 'antd/dist/antd.css' 删掉")])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},903:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("hr"),a("p",[s._v("title: 搭建hexo博客 date: 2022-10-09 22:18:22 categories: 博客 tags:")]),a("ul",[a("li",[s._v("博客")]),a("li",[s._v("笔记")])]),a("hr"),a("h2",[s._v("简单博客搭建流程")]),a("p",[s._v("这两天主要就是在搭建和配置自己的小博客(以后会发一点博文，不过我大多会是笔记本来用)")]),a("h3",[s._v("本地安装以及发布")]),a("ol",[a("li",[a("strong",[s._v("安装到本地")])])]),a("p",[s._v("首先选择一个磁盘作为你博客文件的存放位置，然后新建一个文件夹，比如名为blogtest的文件夹，创建完后，先不要点进去，在此处点击鼠标右键，选择Git Bash Here，然后依次输入如下命令：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("# hexo框架的安装\nnpm install -g hexo-cli\n# 等上一个命令完成后，在输入下面的命令\nhexo init <新建文件夹的名称>  #初始化文件夹\ncd <新建文件夹的名称>\nnpm install  # 安装博客所需要的依赖文件\n")])]),a("p",[a("img",{attrs:{src:"https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/38.jpg",alt:"图片1"}})]),a("p",[a("img",{attrs:{src:"https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/39.jpg",alt:"图片2"}})]),a("p",[s._v("等待运行完的时候，此时文件夹里多了很多文件 注意：后续的命令都在站点目录下使用Git Bash运行 此时Hexo框架的本地搭建已经完成了。命令行依次输入以下命令:")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("hexo g\nhexo s\n")])]),a("p",[s._v("浏览器中打开它执行完后给你的地址（默认为"),a("code",{pre:!0},[s._v("http://localhost:4000/")]),s._v("），可以看到一个网页，说明Hexo已经成功在本地运行")]),a("p",[a("img",{attrs:{src:"https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/41.jpg",alt:"运行成功图片"}})]),a("p",[s._v("2.本地博客发布到Github Pages")]),a("p",[s._v("首先安装可以用来发布的插件，在站点目录下执行以下命令:")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("npm install hexo-deployer-git --save\n")])]),a("p",[s._v("然后把本地目录与GitHub关联起来，输入以下命令行:")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("ssh-keygen -t rsa -C "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'你的邮箱地址'")]),s._v("\n")])]),a("p",[s._v("然后一直回车找到C:/Users/[username]目录下名为.ssh的文件夹，文件夹内会有两个文件，一个id_rsa.pub一个id_rsa，用文本编辑器打开id_rsa.pub，复制里面的的内容。 然后打开Github，点击右上角的头像 Settings 选择SSH and GPG keys")]),a("p",[a("img",{attrs:{src:"https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/42.jpg",alt:"github指引"}})]),a("p",[s._v("点击New SSH key 将之前复制的内容粘帖到Key的框中。 上面的Title可以随意，点击Add SSH key 完成添加。")]),a("p",[a("img",{attrs:{src:"https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/43.jpg",alt:"github指引2"}})]),a("p",[s._v("然后回到命令行界面，测试一下是否与github连接成功")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("ssh -T git@github."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("com")]),s._v("\n")])]),a("p",[s._v("点击回车，然后会出现一个询问内容，输入yes，回车，会出现一段内容，Hi ! You’ve successfully authenticated, but GitHub doesnot provide shell access.。 说明连接成功。此处这个应该是你Github的用户名。")]),a("p",[s._v("进入博客站点目录，用文本编辑器打开_config.yml，这个_config.yml是博客的配置文件，在以后的博客修改，如个性化修改，博客SEO优化等都会使用到，  修改如下图的几个地方：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("title")]),s._v(": 你的博客名\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("subtitle")]),s._v(": 博客的副标题，有些主题支持\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("description")]),s._v(": 博客描述\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("keywords")]),s._v(": 博客关键词\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("author")]),s._v(": 作者，在文章中显示\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("language")]),s._v(": 博客语言语种   \n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("timezone")]),s._v(": 时区\n")])]),a("p",[a("img",{attrs:{src:"https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/44.jpg",alt:"指引"}})]),a("p",[s._v("滑到文件最底部，有一个deploy，在deploy下面添加一个repo项 ，一个branch项。填入如下代码，并如下图所示")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": git\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("repo")]),s._v(": git@github."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("com")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Github")]),s._v("用户名/github用户名."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("github")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("io")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("git")]),s._v("  \n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//也可使用https地址，如：https://github.com/Github用户名/Github用户名.github.io.git            ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("branch")]),s._v(": master\n")])]),a("p",[a("img",{attrs:{src:"https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/45.jpg",alt:"指引"}})]),a("p",[s._v("最后就是生成页面，并发布至Github Pages，执行如下命令：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-py"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# Hexo会根据配置文件渲染出一套静态页面")]),s._v("\nhexo g\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 将上一步渲染出的一系列文件上传至至Github Pages")]),s._v("\nhexo d\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 也可以直接输入此命令，直接完成渲染和上传")]),s._v("\nhexo g -d\n")])]),a("p",[s._v("hexo博客主题的安装于修改会在另一篇里专门讲")])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},3312:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("h1",[s._v("vue快捷命令")]),s._m(0),s._m(1),s._m(2),s._m(3),s._m(4),s._m(5),s._m(6),s._m(7),s._m(8),s._m(9),a("h3",[s._v("例如")]),s._m(10),s._m(11),s._m(12),a("h3",[s._v("代码")]),s._m(13),s._m(14),s._m(15),s._m(16),s._m(17),s._m(18),s._m(19),s._m(20),a("h3",[s._v("相当于js中的innerText/innerHtml")]),s._m(21),s._m(22),s._m(23),a("h3",[s._v("效果")]),s._m(24),s._m(25),s._m(26),a("h3",[s._v("区别")]),s._m(27),s._m(28),s._m(29),s._m(30),s._m(31),s._m(32),s._m(33),s._m(34),s._m(35),s._m(36),s._m(37),s._m(38),s._m(39),s._m(40),s._m(41),s._m(42),a("p",[s._v("动态class")]),a("p",[s._v("动态style")]),s._m(43),a("ul",[s._m(44),s._m(45),s._m(46),a("li",[s._m(47),a("ul",[a("li",[s._v('Vue.filter("过滤器名",(值)=>{return "返回处理后的值"})')]),a("li",[s._v('filter:{过滤器名字:(值)=>{return "返回处理后的值"}}')]),a("li",[s._v("过滤器使用:"+s._s(s._f("过滤器名字")(s.值)))])])]),s._m(48)]),s._m(49),s._m(50),s._m(51),s._m(52),s._m(53),s._m(54),s._m(55),s._m(56),a("h3",[s._v("例子")]),s._m(57),s._m(58),s._m(59),s._m(60),s._m(61),s._m(62),s._m(63),s._m(64),s._m(65)])])])},e=[function(){var s=this,a=s._self._c;return a("h2",[a("strong",[s._v("v-bind")])])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("语法：\nv-"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("bind")]),s._v(":原生属性名="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"vue变量"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('`<a v-bind:href="http://www.baidu.com"></a>`')]),s._v("\n")])])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("简写:\n:原生属性名="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue变量'")]),s._v("\n")])])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("作用：\n给dom标签的原生属性设置"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("数据变量\n")])])},function(){var s=this,a=s._self._c;return a("h2",[a("strong",[s._v("v-on")])])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("语法:\n"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.")]),s._v("v-"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("on")]),s._v(":事件名="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'要执行的代码'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2.")]),s._v("v-"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("on")]),s._v(":事件名="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'methods中的函数名'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3.")]),s._v("v-"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("on")]),s._v(":事件名="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'methods中的函数名(实参)'")]),s._v("\n")])])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("作用:\n给dom标签绑定事件\n")])])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("简写:\n直接@事件名="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'方法'")]),s._v("\n")])])},function(){var s=this,a=s._self._c;return a("h2",[a("strong",[s._v("vue阻止浏览器默认行为以及获取事件对象")])])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("通过$event指代事件对象传给事件处理函数\n")])])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"one"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"http:/www.baidu.com"')]),s._v(">")]),s._v("百度"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(">")]),s._v("   //没有参数时参数默认为事件对象\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"two(2,$event)"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"http:/www.taobao.com"')]),s._v(">")]),s._v("淘宝"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(">")]),s._v("  //传入参数$event\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("one")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("e")]),s._v("){\n      e."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("preventDefault")]),s._v("();\n      \n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("two")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("num,e")]),s._v("){\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(num);\n      e."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("preventDefault")]),s._v("();      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//相当于$event.preventDefault()")]),s._v("\n    }\n  }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n")])])},function(){var s=this,a=s._self._c;return a("h2",[a("strong",[s._v("Vue指令-v-on修饰符")])])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("- 语法\n  - @事件名.修饰符="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"methods中的函数名"')]),s._v("\n- 修饰符列表\n  - ."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("stop")]),s._v(" -阻止事件冒泡\n  - ."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("prevent")]),s._v(" -阻止默认行为\n  - ."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("once")]),s._v(" -程序执行期间,只触发一次事件处理函数\n")])])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("{{ num }}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"father"')]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click.prevent")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"one"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"http://www.baidu.com"')]),s._v(">")]),s._v("阻止默认行为"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click.stop")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"add"')]),s._v(">")]),s._v("点击加1,阻止冒泡行为"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click.once")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"pop"')]),s._v(">")]),s._v("点击减1,只执行一次"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    \n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("num")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(",\n    };\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("add")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("num")]),s._v("++\n      \n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("pop")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("num")]),s._v("--\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("one")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'我没跳转'")]),s._v(");\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("father")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'冒泡行为测试'")]),s._v(");\n    }\n\n  }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n")])])},function(){var s=this,a=s._self._c;return a("h2",[a("strong",[s._v("Vue按键_修饰符")])])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("@keydown."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("enter")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('""')]),s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//按下了Enter键")]),s._v("\n@keydown."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("esc")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('""')]),s._v("    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//按下了Esc键")]),s._v("\n")])])},function(){var s=this,a=s._self._c;return a("h2",[a("strong",[s._v("Vue中v-model的修饰符")])])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("- ."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("number")]),s._v("——转成数值类型赋值给"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("数据变量\n- ."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("trim")]),s._v("——去除左右两端的空格后把值赋予给"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("数据变量\n- ."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("lazy")]),s._v("——等表单失去焦点后，才把值赋予给"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("数据变量\n")])])},function(){var s=this,a=s._self._c;return a("p",[a("strong",[s._v("代码")]),s._v(".")])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v('<template>\n  <div>\n    <div>\n      <input type="text" v-model.number="num">  //输入数字后，原来的data值会转换为数字类型，不加这个修饰符会变为字符串类型\n      <input type="text" v-model.trim="str">  //输入值后会剪掉两端的空格\n      //比如\'   我 叫琪 亚娜   \'会被剪成\'我 叫琪 亚娜\'然后赋值给data中数据\n      <input type="text" v-model.lazy="later">\n      //这个改变数据时，不会立马改变data中的值，而是在发生change事件后才会更新data\n      //比如，输入完后按回车或者使输入框失去焦点\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      num: 2,\n      str:\'琪亚娜\',\n      later:\'慢一点\'\n    };\n  }\n}\n<\/script>\n')])])},function(){var s=this,a=s._self._c;return a("h2",[a("strong",[s._v("v-text和v-html")])])},function(){var s=this,a=s._self._c;return a("ul",[a("li",[a("p",[s._v("语法")]),a("ul",[a("li",[s._v('v-text="Vue数据变量"')]),a("li",[s._v('v-html="Vue数据变量"')])])]),a("li",[a("p",[s._v("注意")]),a("ul",[a("li",[s._v("会覆盖插值表达式")])])])])},function(){var s=this,a=s._self._c;return a("p",[a("strong",[s._v("代码")]),s._v(".")])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-text")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"str"')]),s._v(">")]),s._v("琪亚娜"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-html")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"str"')]),s._v(">")]),s._v("{{ num }}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("num")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("str")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'<span>我是一个span标签</span>'")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("later")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'慢一点'")]),s._v("\n    };\n  }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n")])])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<span>我是一个span标签</span>\n\n我是一个span标签\n")])])},function(){var s=this,a=s._self._c;return a("h2",[a("strong",[s._v("v-show和v-if的使用(控制标签的显示与隐藏)")])])},function(){var s=this,a=s._self._c;return a("ul",[a("li",[a("p",[s._v("语法")]),a("ul",[a("li",[s._v('v-show="vue变量"')]),a("li",[s._v('v-if="vue变量"')])])])])},function(){var s=this,a=s._self._c;return a("ul",[a("li",[s._v("v-show用的display:none隐藏（频繁切换使用）")]),a("li",[s._v("v-if直接从DOM树上移除（适合与template标签一起使用）")]),a("li",[s._v("(v-if可与v-else配合使用，效果与if else语句效果相同)")])])},function(){var s=this,a=s._self._c;return a("p",[a("strong",[s._v("代码")]),s._v(".")])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-show")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"isShow"')]),s._v(">")]),s._v("琪亚娜"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-if")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"isShow"')]),s._v(">")]),s._v("{{ num }}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("num")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("str")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'<span>我是一个span标签</span>'")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("later")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'慢一点'")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isShow")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n    };\n  }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n")])])},function(){var s=this,a=s._self._c;return a("p",[a("strong",[s._v("效果")]),s._v(".")])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("琪亚娜\n\n"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("\n")])])},function(){var s=this,a=s._self._c;return a("h2",[a("strong",[s._v("v-for的使用")])])},function(){var s=this,a=s._self._c;return a("ul",[a("li",[a("p",[s._v("作用")]),a("ul",[a("li",[s._v("列表渲染，所在标签结构，按照数据数量，循环生成")])])]),a("li",[a("p",[s._v("语法")]),a("ul",[a("li",[s._v('v-for="(值变量,索引变量) in 目标结构"')])])]),a("li",[a("p",[s._v("原理")]),a("ul",[a("li",[s._v("更新时，新旧DOM产生后通过key对比，然后决定是否复用真实DOM/更新内容")])])]),a("li",[a("p",[s._v("注意")]),a("ul",[a("li",[s._v("可以遍历数组/对象/数字")]),a("li",[s._v("v-for的变量名不能用到v-for作用域外")]),a("li",[s._v("索引号不用可以省略")]),a("li",[s._v("有key的时候才能实现列表渲染并且key最好不要是索引号，而最好是item的id，用索引号会就地更新")])])])])},function(){var s=this,a=s._self._c;return a("p",[a("strong",[s._v("代码")]),s._v(".")])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-for")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"item in arr"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":key")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"item.id"')]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-text")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("\"'名字:'+item.name\"")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-text")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("\"'年龄:'+item.age\"")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-text")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("\"'爱好:'+item.hobby\"")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("arr")]),s._v(":[\n        { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'001'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'琪亚娜'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("hobby")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'钢琴'")]),s._v("},\n        { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'002'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'芽衣'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("19")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("hobby")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'吉他'")]),s._v("},\n        { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'003'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'布洛妮娅'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("16")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("hobby")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'电子琴'")]),s._v("},\n        { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'004'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'爱莉希雅'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("age")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("19")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("hobby")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'唱歌'")]),s._v("},\n      ]\n    };\n  }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("li")]),s._v("{\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("padding")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("list-style")]),s._v(":none;\n  }\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")])]),s._v("\n")])])},function(){var s=this,a=s._self._c;return a("p",[a("strong",[s._v("效果")]),s._v(".")])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("名字:琪亚娜\n年龄:"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18")]),s._v("\n爱好:钢琴\n名字:芽衣\n年龄:"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("19")]),s._v("\n爱好:吉他\n名字:布洛妮娅\n年龄:"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("16")]),s._v("\n爱好:电子琴\n名字:爱莉希雅\n年龄:"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("19")]),s._v("\n爱好:唱歌\n")])])},function(){var s=this,a=s._self._c;return a("h2",[a("strong",[s._v("动态class与动态style")])])},function(){var s=this,a=s._self._c;return a("ul",[a("li",[a("p",[s._v("作用:")]),a("ul",[a("li",[s._v("用v-bind给标签class/style设置动态的值")])])]),a("li",[a("p",[s._v("语法：")]),a("ul",[a("li",[s._v(':class="{类名:布尔值}"')]),a("li",[s._v(':style="{css属性名}"')])])])])},function(){var s=this,a=s._self._c;return a("p",[a("strong",[s._v("代码")]),s._v(".")])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"{red_str:bool}"')]),s._v(">")]),s._v("动态class"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":style")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("\"{color:'#fff',backgroundColor:'skyblue'}\"")]),s._v(">")]),s._v("动态style"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("bool")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n    };\n  }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("li")]),s._v("{\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("padding")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("list-style")]),s._v(":none;\n  }\n  "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".red_str")]),s._v("{\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(":red;\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("background-color")]),s._v(": pink;\n  }\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")])]),s._v("\n")])])},function(){var s=this,a=s._self._c;return a("p",[a("strong",[s._v("效果")]),s._v(".")])},function(){var s=this,a=s._self._c;return a("h2",[a("strong",[s._v("Vue中的过滤器")])])},function(){var s=this,a=s._self._c;return a("li",[a("p",[a("strong",[s._v("目标")])]),a("ul",[a("li",[s._v("转换格式，过滤器就是一个函数，传入值返回处理后的值")])])])},function(){var s=this,a=s._self._c;return a("li",[a("p",[a("strong",[s._v("过滤器只能用在，插值表达式和v-bind动态属性里")])])])},function(){var s=this,a=s._self._c;return a("li",[a("p",[a("strong",[s._v("Vue中的过滤器使用场景")])]),a("ul",[a("li",[s._v('字符串翻转，输入"hello,world",输出"dlrow,olleh"')]),a("li",[s._v('字母转大写，输入"hellow",输出"HELLO"')])])])},function(){var s=this,a=s._self._c;return a("p",[a("strong",[s._v("语法：")])])},function(){var s=this,a=s._self._c;return a("li",[a("p",[a("strong",[s._v("过滤器可以传参数，一个值也可以同时使用多个过滤器")])])])},function(){var s=this,a=s._self._c;return a("h3",[a("strong",[s._v("代码")])])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('\x3c!-- 方式1：全局配置Vue.filter(\'reverse\',val=>val.split("").reverse().join("")) --\x3e')]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("原来的样子:{{name}}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("使用过滤器后的样子{{ name | reverse }}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("hr")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 方式2：局部配置 --\x3e")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("原来的样子:{{name}}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("使用过滤器后的样子:{{ name | toUp }}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'hello'")]),s._v("\n    };\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("filters")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("toUp")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("val")]),s._v("){\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" val."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("toUpperCase")]),s._v("()\n    }\n  }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n")])])},function(){var s=this,a=s._self._c;return a("h3",[a("strong",[s._v("效果")])])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("原来的样子:hello\n\n使用过滤器后的样子olleh\n\n————————————————————————————————————————————————————————————————————————————————————————————————————————————————————\n\n原来的样子:hello\n\n使用过滤器后的样子:"),a("span",{pre:!0,attrs:{class:"hljs-variable constant_"}},[s._v("HELLO")]),s._v("\n")])])},function(){var s=this,a=s._self._c;return a("h2",[a("strong",[s._v("计算属性")])])},function(){var s=this,a=s._self._c;return a("ul",[a("li",[a("p",[a("strong",[s._v("场景")])]),a("ul",[a("li",[s._v("一个变量的值需要用另外的变量计算而来")])])]),a("li",[a("p",[a("strong",[s._v("作用")])]),a("ul",[a("li",[s._v("一个变量的值，依赖另外一些数据计算而来的结果")])])]),a("li",[a("p",[a("strong",[s._v("语法")])])])])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("computed")]),s._v(":{\n  "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"计算属性名"')]),s._v("(){\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"值"')]),s._v("\n  }\n}\n")])])},function(){var s=this,a=s._self._c;return a("ul",[a("li",[a("p",[a("strong",[s._v("注意")])]),a("ul",[a("li",[s._v("计算属性名和data里的名字不能重复")])])]),a("li",[a("p",[a("strong",[s._v("计算属性_缓存")])]),a("ul",[a("li",[s._v("计算属性，基于依赖项的值进行缓存，依赖的变量不变，之后多次调用都是直接从缓存取结果")]),a("li",[s._v("如果依赖项发生变化，会重新执行并缓存新的值")])])])])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("\n<div>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("{{ 计算属性 }}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("{{ 计算属性 }}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("{{ 计算属性 }}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("{{ methods方法 }}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("{{ methods方法 }}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("{{ methods方法 }}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")])]),s._v("\n  </div>\n")])])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("计算属性执行一次后直接取缓存\nmethods方法执行了"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v("次\n")])])},function(){var s=this,a=s._self._c;return a("h2",[a("strong",[s._v("计算属性完整写法（setter改变计算属性本身的值时使用）")])])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("computed")]),s._v(":{\n  "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"属性名"')]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("set")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("值")]),s._v("){\n      \n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("get")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"值"')]),s._v("\n    }\n  }\n}\n")])])},function(){var s=this,a=s._self._c;return a("h2",[a("strong",[s._v("侦听器")])])},function(){var s=this,a=s._self._c;return a("ul",[a("li",[a("p",[a("strong",[s._v("作用")])]),a("ul",[a("li",[s._v("可以侦听data/computed属性值的改变")])])]),a("li",[a("p",[a("strong",[s._v("语法")])])])])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("watch")]),s._v(":{\n  "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"被侦听的属性名"')]),s._v("(newVal,oldVal){\n\n  }\n}\n\n")])])},function(){var s=this,a=s._self._c;return a("ul",[a("li",[a("strong",[s._v("语法")])])])},function(){var s=this,a=s._self._c;return a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("watch")]),s._v(":{\n  "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"要侦听的属性名"')]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("immediate")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//立即执行（网页打开handler执行一次）")]),s._v("\n    deep，"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//深度侦听复杂类型内变化(对象里面层的改变)")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("handler")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("newVal,oldVal")]),s._v("){\n\n    }\n  }\n}\n\n")])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},8010:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("h1",[a("strong",[s._v("组件通信父传子props")])]),a("ul",[a("li",[a("strong",[s._v("作用")]),a("ul",[a("li",[s._v("父组件->子组件 传值")])])]),a("li",[a("strong",[s._v("用法")]),a("ul",[a("li",[s._v("子组件内，定义变量，准备接受，然后使用变量")])])]),a("li",[a("strong",[s._v("步骤")]),a("ul",[a("li",[s._v("1.子组件 - props - 变量（准备接受）")]),a("li",[s._v("2.父组件 - 引入组件 - 注册组件 - 使用组件 - 传值进去")])])])]),a("h2",[a("strong",[s._v("代码")])]),a("h3",[a("strong",[s._v("子组件")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-for")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"(item,index) in list"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":key")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"index"')]),s._v(">")]),s._v("\n                {{item}}\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("props")]),s._v(":["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'list'")]),s._v("]\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n")])]),a("h3",[a("strong",[s._v("父组件")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyProduct")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":list")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"list"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyProduct")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyProduct")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./components/MyProduct.vue'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("list")]),s._v(":[\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'游戏'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'学习'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'生活'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'人生'")]),s._v("\n      ]\n    }\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("components")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyProduct")]),s._v("\n  }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n")])]),a("h2",[a("strong",[s._v("创建工程和组件")])]),a("h3",[a("strong",[s._v("分析")])]),a("p",[s._v(":::info 1.初始化todo工程 2.创建3个组件和里面的代码 3.准备styles样式文件 4.App.vue引入注册使用 :::")]),a("h2",[a("strong",[s._v("循环展示任务")])]),a("p",[s._v(":::info 1.把待办任务展示到页面TodoMain.vue上 2.关联选中状态，设置相关样式 :::")]),a("p",[a("strong",[s._v("分析")]),s._v(".")]),a("p",[s._v(":::info 1.App.vue-准备数组传入TodoMain.vueN内 2.v-for循环展示 3.v-model绑定复选框选中状态 :::")]),a("h2",[a("strong",[s._v("添加功能")])]),a("p",[s._v(":::info 输入任务敲击回车，新增待办任务 :::")]),a("p",[a("strong",[s._v("分析")]),s._v(".")]),a("p",[s._v(":::info ①:TodoHeadervue -输入框－键盘事件－回车按键 ②:子传父,把待办任务－ App.vue中－加入数组list里 ③:原数组改变,所有用到的地方都会更新 :::")]),a("h2",[a("strong",[s._v("删除功能")])]),a("p",[a("strong",[s._v("分析")]),s._v(".")]),a("p",[s._v(":::info ①：x标签-点击事件一传入id区分 ②：子传父,把id传回- App.vue中-删除数组list里某个对应的对象 ③:原数组改变,所有用到的地方都会更新 :::")]),a("h2",[a("strong",[s._v("统计任务数量")])]),a("p",[a("strong",[s._v("分析")]),s._v(".")]),a("p",[s._v(":::info ①： App.vue中－数组list-传给TodoFooter.vue ②：直接在标签上显示/定义计算属性用于显示都可以 :::")]),a("h2",[a("strong",[s._v("清空已完成")])]),a("p",[a("strong",[s._v("分析")]),s._v(".")]),a("p",[s._v(":::info ①：清空标签-点击事件 ②：:子传父－App.vue -一个清空方法 ③:过滤未完成的覆盖list数组(不考虑恢复) :::")]),a("h2",[a("strong",[s._v("数据缓存")])]),a("p",[a("strong",[s._v("分析")]),s._v(".")]),a("p",[s._v(":::info ①: App.vue -侦听list数组改变－深度 ②：覆盖式存入到本地－注意本地只能存入JSON字符串 ③：刷新页面－ list应该默认从本地取值－要考虑无数据情况空数组 :::")]),a("p",[a("strong",[s._v("App.vue代码")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"main"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(">")]),s._v("todos"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("TodoHeader")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("TodoHeader")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("TodoMain")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":list")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"list"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("TodoMain")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("TodoFooter")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":num")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"num"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("TodoFooter")]),s._v(">")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { nanoid } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'nanoid'")]),s._v(";\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("TodoFooter")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./components/TodoFooter.vue'")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("TodoHeader")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./components/TodoHeader.vue'")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("TodoMain")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./components/TodoMain.vue'")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" eventBus "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./EventBus'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("list")]),s._v(":[\n            \n      ],\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//默认读取本地存储空间")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("arr")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("JSON")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("parse")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("localStorage")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getItem")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todoList'")]),s._v(")) || [\n            {"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'001'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'吃饭'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isDone")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("},\n            {"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'002'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'睡觉'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isDone")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("},\n            {"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'003'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'打游戏'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isDone")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("},\n            {"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'004'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'学vue'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isDone")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("}\n      ]\n    };\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("components")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("TodoFooter")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("TodoHeader")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("TodoMain")]),s._v("\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("created")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//初始化list列表")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("arr")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("forEach")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v("=>")]),s._v("{\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("list")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("(item)\n    })\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//任务完成或取消完成，对应list中的id值的isDone取反")]),s._v("\n    eventBus.$on("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'over'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("id")]),s._v(")=>")]),s._v("{\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("list")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("forEach")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v("=>")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("id")]),s._v("==id){\n          item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("isDone")]),s._v(" = !item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("isDone")]),s._v("\n        }\n      })\n      \n    })\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//添加任务")]),s._v("\n    eventBus.$on("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'add'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("task")]),s._v(")=>")]),s._v("{\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//生成独一无二id")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" id = "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("nanoid")]),s._v("()\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("arr")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("unshift")]),s._v("(\n        {"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v(":id,"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":task,"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isDone")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("}\n      )\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//更新list列表")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("list")]),s._v(" = []\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("arr")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("forEach")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v("=>")]),s._v("{\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("list")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("(item)\n    })\n    })\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//删除任务")]),s._v("\n    eventBus.$on("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'pop'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("id")]),s._v(")=>")]),s._v("{\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("arr")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("arr")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("filter")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v("=>")]),s._v("item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("id")]),s._v("!=id)\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 更新list列表")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("list")]),s._v("= []\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("arr")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("forEach")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v("=>")]),s._v("{\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("list")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("(item)\n      })\n    })\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//全部任务")]),s._v("\n    eventBus.$on("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'allTask'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("()=>")]),s._v("{\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("list")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("arr")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("filter")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v("=>")]),s._v("item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("name")]),s._v("!="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(")\n    })\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//已完成任务")]),s._v("\n    eventBus.$on("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'overTask'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("()=>")]),s._v("{\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("list")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("arr")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("filter")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v("=>")]),s._v("item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("isDone")]),s._v("=="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(")\n    })\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//未完成任务")]),s._v("\n    eventBus.$on("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'falseTask'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("()=>")]),s._v("{\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("list")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("arr")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("filter")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v("=>")]),s._v("item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("isDone")]),s._v("=="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(")\n    })\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//清除已完成任务")]),s._v("\n    eventBus.$on("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'clear'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("()=>")]),s._v("{\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("list")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("arr")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("filter")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v("=>")]),s._v("item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("isDone")]),s._v("=="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(")\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("arr")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("arr")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("filter")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v("=>")]),s._v("item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("isDone")]),s._v("=="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(")\n    })\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("computed")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//剩余任务")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("num")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("list")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("filter")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v("=>")]),s._v("item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("isDone")]),s._v("=="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(")."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("length")]),s._v("\n    }\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("watch")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("list")]),s._v(":{\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("deep")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("handler")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n        只要arr变化 - 覆盖式保存到"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("localStorage")]),s._v("里\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("localStorage")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setItem")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'todoList'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("JSON")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("stringify")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("list")]),s._v("))\n      }\n    }\n  }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"less"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n  *{\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("padding")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("list-style")]),s._v(": none;\n  }\n  "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".main")]),s._v("{\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100px")]),s._v(" auto;\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("padding-bottom")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20px")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("672px")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("background-color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#f5f5f4")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("text-align")]),s._v(": center;\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" solid black;\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border-radius")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("15px")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("box-shadow")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3px")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3px")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3px")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("rgba")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.2")]),s._v(");\n    "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("h1")]),s._v("{\n      "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": red;\n      "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("font-size")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("50px")]),s._v(";\n    }\n  }\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")])]),s._v("\n")])]),a("p",[a("strong",[s._v("TodoHeader代码")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"head"')]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"task"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"输入任务名称-回车确认"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@keydown.enter")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"addTask"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("EventBus")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/EventBus'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'TodoHeader'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("task")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n        };\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("addTask")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("task")]),s._v("=="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(")"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("alert")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'你没输入啊！！'")]),s._v(")\n            "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("EventBus")]),s._v(".$emit("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'add'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("task")]),s._v(")\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("task")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v("\n        }\n    }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("scoped")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"less"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".head")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20px")]),s._v(" auto "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0px")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("646px")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("65px")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("background-color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#fefefd")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" solid "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#b7b8b7")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border-radius")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10px")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10px")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0px")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0px")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("input")]),s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("float")]),s._v(": right;\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#65665e")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border-radius")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10px")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10px")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("80%")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100%")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("font-size")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("28px")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("outline")]),s._v(": none;\n        }\n    }\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")])]),s._v("\n")])]),a("p",[a("strong",[s._v("TodoMain代码")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"list"')]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-for")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"item in list"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":key")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"item.id"')]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"checkbox"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"item.isDone"')]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"el-icon-circle-check"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-show")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"!item.isDone"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"overTask(item.id)"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"el-icon-success"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-show")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"item.isDone"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"overTask(item.id)"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("i")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"el-icon-delete"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"deleteTask(item.id)"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("i")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"container"')]),s._v(">")]),s._v("\n                    {{ item.name }}\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("EventBus")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/EventBus'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"TodoMain"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("props")]),s._v(":["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'list'")]),s._v("],\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("overTask")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("id")]),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("EventBus")]),s._v(".$emit("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'over'")]),s._v(",id)\n        },\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("deleteTask")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("id")]),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("EventBus")]),s._v(".$emit("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'pop'")]),s._v(",id)\n        }\n    }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("scoped")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"less"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".list")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" auto;\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("646px")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("li")]),s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("position")]),s._v(": relative;\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100%")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("65px")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("line-height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("85px")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("background-color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#fefefd")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" solid "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#b7b8b7")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("input")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("float")]),s._v(": left;\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin-left")]),s._v(": -"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("50px")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin-top")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20px")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("opacity")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n            }\n            "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("span")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("font-size")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("38px")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#65665e")]),s._v(";\n            }\n            "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".container")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("80%")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100%")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("float")]),s._v(": right;\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("text-align")]),s._v(": left;\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("line-height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("65px")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("font-size")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("29px")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#65665e")]),s._v(";\n            }\n            "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("i")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("position")]),s._v(": absolute;\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("top")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20px")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("right")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("45px")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("float")]),s._v(": right;\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("font-size")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("30px")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": red;\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("cursor")]),s._v(": pointer;\n            }\n        }\n    }\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")])]),s._v("\n")])]),a("p",[a("strong",[s._v("TodoFooter代码")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"footer"')]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"rest"')]),s._v(">")]),s._v("剩余{{ num }}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"console"')]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"javascript:;"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"allTask"')]),s._v(">")]),s._v("全部"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"javascript:;"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"falseTask"')]),s._v(">")]),s._v("未完成"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"javascript:;"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"overTask"')]),s._v(">")]),s._v("已完成"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"clear"')]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"javascript:;"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"clearOver"')]),s._v(">")]),s._v("清除已完成"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("EventBus")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/EventBus'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'TodoMain'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("props")]),s._v(":["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'num'")]),s._v("],\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("allTask")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("EventBus")]),s._v(".$emit("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'allTask'")]),s._v(")\n        },\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("overTask")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("EventBus")]),s._v(".$emit("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'overTask'")]),s._v(")\n        },\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("falseTask")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("EventBus")]),s._v(".$emit("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'falseTask'")]),s._v(")\n        },\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("clearOver")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("EventBus")]),s._v(".$emit("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'clear'")]),s._v(")\n        }\n    }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("scoped")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"less"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".footer")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(":  auto;\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("646px")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("40px")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("background-color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#fefefd")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("line-height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("40px")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" solid "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#b7b8b7")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border-radius")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10px")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10px")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".rest")]),s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("float")]),s._v(": left;\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin-right")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("70px")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin-left")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20px")]),s._v(";\n        }\n        "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".console")]),s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("float")]),s._v(": left;\n            "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("a")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin-right")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("23px")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("text-decoration")]),s._v(": none;\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#80817d")]),s._v(";\n            }\n        }\n        "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".clear")]),s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("float")]),s._v(": right;\n            "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("a")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin-right")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("23px")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("text-decoration")]),s._v(": none;\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#80817d")]),s._v(";\n            }\n        }\n    }\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")])]),s._v("\n")])]),a("p",[a("strong",[s._v("main.js代码")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ElementUI")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'element-ui'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'element-ui/lib/theme-chalk/index.css'")]),s._v(";\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("App")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./App.vue'")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("ElementUI")]),s._v(");\n\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("config")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("productionTip")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("({\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("render")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("h")]),s._v(" =>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("h")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("App")]),s._v("),\n}).$mount("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'#app'")]),s._v(")\n")])]),a("h2",[a("strong",[s._v("组件通信_父传子_props")])]),a("h2",[a("strong",[s._v("作用")])]),a("p",[s._v(":::info 父组件->子组件 传值 :::")]),a("h2",[a("strong",[s._v("用法")])]),a("p",[s._v(":::info 子组件内，定义变量，准备接受，然后使用变量 :::")]),a("h2",[a("strong",[s._v("步骤")])]),a("p",[s._v(":::info 1.子组件 - props - 变量（准备接受） 2.父组件 - 引入组件 - 注册组件 - 使用组件 - 传值进去（可在组件标签内配合循环传值） :::")]),a("h2",[a("strong",[s._v("注意")])]),a("p",[s._v(":::info 1.从父到子的数据流向，叫单项数据流 2.子组件修改，不通知父组件，造成数据不一致性 Vue规定props里的变量，本身是"),a("strong",[s._v("只读")]),s._v("的 :::")]),a("p",[a("strong",[s._v("代码")]),s._v(".")]),a("p",[a("strong",[s._v("子组件")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-for")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"(item,index) in list"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":key")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"index"')]),s._v(">")]),s._v("\n                {{item}}\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("props")]),s._v(":["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'list'")]),s._v("]\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n")])]),a("p",[a("strong",[s._v("父组件")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyProduct")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":list")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"list"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyProduct")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyProduct")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./components/MyProduct.vue'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("list")]),s._v(":[\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'游戏'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'学习'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'生活'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'人生'")]),s._v("\n      ]\n    }\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("components")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyProduct")]),s._v("\n  }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n")])]),a("h2",[a("strong",[s._v("效果")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("·游戏\n·学习\n·生活\n·人生\n")])]),a("h2",[a("strong",[s._v("组件通信_子向父_自定义事件")])]),a("h3",[a("strong",[s._v("目标")])]),a("p",[s._v(":::info 子组件触发父自定义事件方法 :::")]),a("p",[a("strong",[s._v("步骤")]),s._v(".")]),a("p",[s._v(":::info 1.父组件内，绑定"),a("strong",[s._v("自定义事件")]),s._v("和"),a("strong",[s._v("事件处理函数")]),a("strong",[s._v('语法：@自定义事件名="父methods里的函数名"')]),s._v(" 2.子组件内，恰当的时机，触发父给我绑的"),a("strong",[s._v("自定义事件")]),s._v("，导致父里的methods里的"),a("strong",[s._v("事件处理函数")]),s._v("执行 "),a("strong",[s._v("语法：this.$emit('自定义事件名'，要传的参数)")]),s._v(" :::")]),a("p",[a("strong",[s._v("代码")]),s._v(".")]),a("p",[a("strong",[s._v("子组件")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v(" {{ name }} "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"change"')]),s._v(">")]),s._v("触发改变"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("props")]),s._v(":["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'name'")]),s._v("],\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("change")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(".$emit("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'start'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'琪亚娜'")]),s._v(")\n        }\n    }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n")])]),a("p",[a("strong",[s._v("父组件")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyProduct")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@start")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"fn"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"name"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyProduct")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyProduct")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./components/MyProduct.vue'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'test'")]),s._v("\n    }\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("components")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyProduct")]),s._v("\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("fn")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("val")]),s._v("){\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("name")]),s._v(" = val;\n    }\n  }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n")])]),a("p",[a("strong",[s._v("效果")]),s._v(".")]),a("p",[a("strong",[s._v("改变前")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("test 触发改变\n")])]),a("h3",[a("strong",[s._v("改变后")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("琪亚娜 触发改变\n")])]),a("h2",[a("strong",[s._v("组件通信_EventBus")])]),a("p",[a("strong",[s._v("目标")]),s._v(".")]),a("p",[s._v(":::info 常用于跨组件通信时使用 :::")]),a("h3",[a("strong",[s._v("语法")])]),a("p",[s._v(":::info")]),a("h3",[s._v("src/EventBus/index.js-创建空白Vue对象并导出")]),a("p",[s._v("在要"),a("strong",[s._v("接收")]),s._v("值的组件(Myleft.vue)  created生命周期中 eventBus."),a("strong",[s._v("$on")]),s._v("('事件名',函数体) 再要"),a("strong",[s._v("传递")]),s._v("值的组件(MyRightvue)  methods触发函数中 eventBus."),a("strong",[s._v("$emit")]),s._v("('事件名',值) :::")]),a("p",[a("strong",[s._v("代码")]),s._v(".")]),a("h3",[a("strong",[s._v("MyLeft组件")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("{{ name }}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" eventBus "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'../EventBus'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'这是左边'")]),s._v(",\n        };\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("created")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n        eventBus.$on("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'send'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("val")]),s._v(")=>")]),s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(");\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("name")]),s._v(" = val\n        })\n    }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n")])]),a("h3",[a("strong",[s._v("MyRight组件")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v(" {{ name }} "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"change"')]),s._v(">")]),s._v("传递数据"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" eventBus "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'../EventBus'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'这是右边'")]),s._v(",\n        };\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("change")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n            eventBus.$emit("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'send'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'右边向左边传了数据'")]),s._v(")\n        }\n    }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n")])]),a("p",[a("strong",[s._v("效果")]),s._v(".")]),a("h3",[a("strong",[s._v("传递前")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("这是左边\n这是右边 传递数据\n")])]),a("h3",[a("strong",[s._v("传递后")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("右边向左边传了数据\n这是右边 传递数据\n")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},4226:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("h1",[a("strong",[s._v("Vue生命周期")])]),a("h2",[a("strong",[s._v("目标:")])]),a("p",[s._v(":::info")]),a("h3",[s._v("从"),a("strong",[s._v("创建")]),s._v("到"),a("strong",[s._v("销毁")]),s._v("的整个过程就是 - Vue实例的 - 生命周期")]),a("p",[s._v(":::")]),a("h2",[a("strong",[s._v("钩子函数")])]),a("h3",[a("strong",[s._v("目标.:")])]),a("p",[s._v(":::info")]),a("h3",[s._v("Vue框架内置函数,随着组件的生命周期阶段,自动执行")]),a("p",[s._v(":::")]),a("h2",[a("strong",[s._v("作用:")])]),a("p",[s._v(":::info")]),a("h3",[s._v("特定的时间点，执行特定的操作")]),a("p",[s._v(":::")]),a("h2",[a("strong",[s._v("场景:")])]),a("p",[s._v(":::info")]),a("h3",[s._v("组件创建完毕后,可以再craeted生命周期函数中发起Ajax请求,从而初始化data数据")]),a("p",[s._v(":::")]),a("h2",[a("strong",[s._v("分类:")])]),a("p",[s._v(":::info "),a("strong",[s._v("初始化阶段:beforeCreate和created")]),s._v(" :::")]),a("p",[s._v(":::info "),a("strong",[s._v("挂载阶段:beforeMount和mounted")]),s._v(" :::")]),a("p",[s._v(":::info "),a("strong",[s._v("更新阶段:beforeUpdate和updated")]),s._v(" :::")]),a("p",[s._v(":::info "),a("strong",[s._v("销毁阶段:beforeDestroy和destroyed")]),s._v(" :::")]),a("h2",[a("strong",[s._v("一、初始化阶段")])]),a("p",[s._v(":::info 1.new Vue()-Vue实例化(组件也是一个小的Vue实例) 2.Init Events & Lifecycle-初始化事件和生命周期函数 3.beforeCreate-生命周期钩子函数被执行 4.Init injections&reactivity-Vue内部添加data和methods等 5.created-生命周期钩子函数被执行，实例创建")]),a("ul",[a("li",[s._v("场景:"),a("strong",[s._v("网络请求，注册全局事件")])]),a("li",[s._v("注意:能获取data但不能获取真实DOM")])]),a("p",[s._v("6.接下来是编译模板阶段-开始分析 7.Has el option?-是否有el选项-检查要挂到哪里")]),a("ul",[a("li",[s._v("没有，调用$mount()方法")]),a("li",[s._v("有，继续检查template选项 :::")])]),a("h2",[a("strong",[s._v("二、挂载阶段")])]),a("p",[s._v(":::info 1.template选项检查")]),a("ul",[a("li",[s._v("有-编译template返回render渲染函数")]),a("li",[s._v("无-编译el选项对应标签作为template(要渲染的模板)")])]),a("p",[s._v("2.虚拟DOM挂载成真实DOM之前 3.beforeMount一生命周期钩子函数被执行")]),a("ul",[a("li",[s._v("场景:预处理data，不会触发updated钩子函数 4.Create ....一把虚拟DOM和渲染的数据一并挂到真实DOM上")]),a("li",[s._v("场景:真实DOM挂载完，可以获取真实DOM 5.真实DOM挂载完毕 6.mounted -生命周期钩子函数被执行 :::")])]),a("h2",[a("strong",[s._v("三、更新阶段")])]),a("p",[s._v(":::info")]),a("ol",[a("li",[s._v("当data里数据改变,更新DOM之前")]),a("li",[s._v("beforeUpdate -生命周期钩子函数被执行")])]),a("ul",[a("li",[s._v("前提:data数据改变才执行")])]),a("ol",[a("li",[a("p",[s._v("Virtual DOM....-虚拟DOM重新渲染,打补丁到真实DOM")])]),a("li",[a("p",[s._v("updated -生命周期钩子函数被执行")])])]),a("ul",[a("li",[s._v("场景:"),a("strong",[s._v("获取更新后的真实DOM")]),s._v(" 5.当有data数据改变－重复这个循环 :::")])]),a("h2",[a("strong",[s._v("四、销毁阶段")])]),a("p",[s._v(":::info")]),a("ol",[a("li",[s._v("当$destroy()被调用－比如组件DOM被移除(例v-if)")]),a("li",[s._v("beforeDestroy-生命周期钩子函数被执行")])]),a("ul",[a("li",[s._v("场景:"),a("strong",[s._v("移除全局事件，移除当前事件，计时器，定时器，eventBus移除事件$off方法")])])]),a("p",[s._v("3.拆卸数据监视器、子组件和事件侦听器 4.实例销毁后,最后触发一个钩子函数")]),a("ol",[a("li",[s._v("destroyed -生命周期钩子函数被执行 :::")])]),a("p",[a("img",{attrs:{src:"https://pic3.zhimg.com/v2-79b4f4056db40715ffbd2b75e64e6e3a_r.jpg#crop=0&crop=0&crop=1&crop=1&height=2232&id=tRRtq&originHeight=2533&originWidth=1000&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=&width=881",alt:"生命周期钩子执行"}})]),a("h2",[a("strong",[s._v("代码")])]),a("h3",[a("strong",[s._v("App.vue")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("看控制台打印"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"p"')]),s._v(">")]),s._v(" {{ name }}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"pp"')]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-for")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"(item,index) in arr"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":key")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"index"')]),s._v(">")]),s._v("\n        {{ item }}\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Life")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-if")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"isShow"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Life")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"update1"')]),s._v(">")]),s._v("更新按钮"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"destroy"')]),s._v(">")]),s._v("销毁组件"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Life")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./components/Life.vue'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'琪亚娜'")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("arr")]),s._v(":["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("4")]),s._v("],\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isShow")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n    };\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("update1")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("arr")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(")\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("destroy")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("isShow")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n    }\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("components")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Life")]),s._v("\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//一、初始化")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('//new Vue()以后，vue内部给实例对象添加了一些属性和方法，data和methods初始化"之前"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("beforeCreate")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'beforeCreate------执行'")]),s._v(");\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("name")]),s._v(");\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//data和methods初始化之后")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("created")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'created------执行'")]),s._v(");\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("name")]),s._v(");\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//网络请求，注册全局事件")]),s._v("\n    \n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//二、挂载")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//真实DOM挂载前")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("beforeMount")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//预处理data，不会触发updated钩子函数")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"beforeMount ---- 执行"')]),s._v(");\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'p'")]),s._v("));"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//null")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("name")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'芽衣'")]),s._v("\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//真实DOM挂载后")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("mounted")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//获取挂载后的真实DOM")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'mounted --- 执行'")]),s._v(");\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'p'")]),s._v("));"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//p")]),s._v("\n    },\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//三、更新")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//更新之前")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("beforeUpdate")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'beforeUpdate------执行'")]),s._v(");\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("querySelectorAll")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'li'")]),s._v(")["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("4")]),s._v("]);\n\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//更新之后")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//获取更新后的真实DOM")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("updated")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'updated-------执行'")]),s._v(");\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("querySelectorAll")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'li'")]),s._v(")["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("4")]),s._v("]);\n    },\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n")])]),a("h3",[a("strong",[s._v("Life组件")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"hh"')]),s._v(">")]),s._v("\n        Life组件\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//四、销毁")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//销毁前")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("beforeDestroy")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'beforeDestroy-------执行'")]),s._v(");\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//移除全局事件，移除当前组件，计时器，定时器，eventBus移除事件$off方法")]),s._v("\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//销毁后")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("destroyed")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'destroyed-------执行'")]),s._v(");\n    }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n")])]),a("h2",[a("strong",[s._v("点击按钮后的效果")])]),a("p",[a("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2022/png/32986902/1664269879485-2f00fbaa-126d-4e11-9cd9-98b28383bfb1.png#clientId=udf3e5db7-251c-4&crop=0&crop=0&crop=1&crop=1&errorMessage=unknown%20error&from=ui&id=u72aa7636&name=QQ%E6%88%AA%E5%9B%BE20220927165705.png&originHeight=545&originWidth=690&originalType=binary&ratio=1&rotation=0&showTitle=false&size=45688&status=error&style=none&taskId=u18018da6-099d-4aae-8055-0ca71a7bb5e&title=",alt:"QQ截图20220927165705.png"}})]),a("h2",[a("strong",[s._v("axios使用")])]),a("h3",[a("strong",[s._v("1.目标")])]),a("p",[s._v(":::info "),a("strong",[s._v("axios是一个专门用于发送ajax请求的库")]),s._v(" :::")]),a("h2",[a("strong",[s._v("2.特点")])]),a("p",[s._v(":::info")]),a("ul",[a("li",[a("strong",[s._v("支持客户端发送Ajax请求")])]),a("li",[a("strong",[s._v("支持服务端Node.js发送请求")])]),a("li",[a("strong",[s._v("支持Promise相关用法")])]),a("li",[a("strong",[s._v("支持请求和响应的拦截器功能")])]),a("li",[a("strong",[s._v("自动转换JSON数据")]),s._v(" :::")])]),a("h2",[a("strong",[s._v("3.代码")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("axios")]),s._v("({\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"http://123.57.109.30:3006/api/getbooks"')]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("method")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"get"')]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("params")]),s._v(":{\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("bookname")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("bookname")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//看接口文档相应")]),s._v("\n        },\n      })."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("then")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("res")]),s._v(")=>")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(res);\n      })."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("catch")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("err")]),s._v(")=>")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(err);\n      })\n")])]),a("h2",[s._v("获取DOM")]),a("h2",[s._v("目标")]),a("p",[s._v(":::info "),a("strong",[s._v("通过id或ref属性获取原生DOM")]),s._v(" :::")]),a("h2",[s._v("在mounted生命周期 - 2种方式获取原生DOM标签")]),a("p",[s._v(":::info "),a("strong",[s._v("1.目标标签 - 添加id/ref")]),s._v(" :::")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"myH1"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"h"')]),s._v(" >")]),s._v("1.id/ref获取原生dom"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("h1")]),s._v(">")]),s._v("\n")])]),a("p",[s._v(":::info "),a("strong",[s._v("2.恰当时机，通过id/通过ref属性 获取目标标签")]),s._v(" :::")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("mounted")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n  "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("document")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getElementById")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"h"')]),s._v("))\n  "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$ref")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("myH1")]),s._v(")\n}\n")])]),a("h2",[s._v("获取组件对象")]),a("h3",[s._v("目标1")]),a("p",[s._v("1.创建Demo组件,写一个方法 2.App.vue使用Demo组件,给ref属性-名字随意")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Demo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"de"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Demo")]),s._v(">")]),s._v("\n")])]),a("p",[s._v("3.恰当时机，通过ref属性获取组件对象，"),a("strong",[s._v("可调用组件对象里的方法")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v("mounted(){\nthis.$ref.de.fn()\n}\n")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},1548:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("h1",[s._v("例子_获取原生DOM元素")]),a("p",[s._v(":::info")]),a("h2",[s._v("目标：点击更改data，获取原生DOM内容")]),a("p",[s._v(":::")]),a("h3",[s._v("1.创建标签显示数据")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<p>数字:数字：{{ count }}<"),a("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/p> /")]),a("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v('/count初始值为0\n<button @click="btn">点击+1，观察打印</')]),s._v("button>\n")])]),a("h3",[s._v("2.点击+1，马上获取DOM内容")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("btn")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("count")]),s._v("++;\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$refs")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("a")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("innerHTML")]),s._v(");\n    }\n}\n")])]),a("h4",[s._v("输出仍为0")]),a("h2",[a("strong",[s._v("原因:Vue更新DOM是异步的")])]),a("h2",[s._v("解决:this.$nextTick()")]),a("h2",[s._v("过程：DOM更新完会挨个触发$nextTick里的函数体")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("btn")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("count")]),s._v("++;\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(".$nextTick("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" {\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"DOM更新后触发$nextTick函数"')]),s._v(");\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$refs")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("a")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("innerHTML")]),s._v(");\n        })\n    }\n}\n")])]),a("h2",[s._v("例子_输入框聚焦")]),a("h3",[s._v("目标：点击按钮自身隐藏，出现输入框并马上处于激活状态")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-if")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"isShow"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"ipt"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"搜索"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"btn"')]),s._v(">")]),s._v("点击搜索"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isShow")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(",\n    };\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n    \n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("btn")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("isShow")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(";\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//this.$refs.ipt.focus()")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//原因:data变化更新DOM是异步的")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//输入框还没有挂载到真实DOM上")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//解决:")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// this.$nextTick(() => {")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   this.$refs.ipt.focus();")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// })")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 扩展:await取代回调函数")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//this.$nextTick()原地返回Promise对象")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(".$nextTick()\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$refs")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("ipt")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("focus")]),s._v("()\n    }\n  }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n")])]),a("h2",[s._v("优化:$nextTick()返回Promise配合await使用")]),a("h2",[s._v("购物车案例")]),a("p",[s._v("视频配套素材里没找到样式文件，然后就是自己搞得样式，花了挺长时间的感觉，移动端还得好好练啊。。。。。")]),a("p",[s._v(":::info")]),a("h3",[s._v("1.其中使用的axios进行的向服务器取数据")]),a("p",[s._v("2.组件间数据交互用的props（父传子）@自定义事件（子传父） 3.数据大多用计算属性和侦听属性进行更新渲染 :::")]),a("h2",[s._v("代码")]),a("h3",[s._v("App.vue")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"main"')]),s._v(">")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"top"')]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyHead")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("title")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"购物车案例"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("background")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"#2277fe"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyHead")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyGoods")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-for")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"item in list"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":key")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"item.id"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":obj")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"item"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyGoods")]),s._v(">")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("footer")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyFooter")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@changeAll")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"allFn"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":list")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"list"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyFooter")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("footer")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyGoods")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./components/MyGoods.vue'")]),s._v(";\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyHead")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./components/MyHead.vue'")]),s._v(";\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyFooter")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./components/MyFooter.vue'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("list")]),s._v(": [],"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//商品所有数据")]),s._v("\n    };\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("components")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyGoods")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyHead")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyFooter")]),s._v("\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("allFn")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("bool")]),s._v("){\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("list")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("forEach")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v("=>")]),s._v("item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("goods_state")]),s._v("=bool)\n    }\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("created")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(".$axios({\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/api/cart'")]),s._v("\n    })."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("then")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("res")]),s._v(")=>")]),s._v("{\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(res);\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("list")]),s._v(" = res."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("list")]),s._v("\n    })\n  }                                \n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"less"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n  *{\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("padding")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("list-style")]),s._v(": none;\n  }\n  "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".main")]),s._v("{\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("padding")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("60px")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("55px")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n  }\n  "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".top")]),s._v("{\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("position")]),s._v(": fixed;\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("top")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("left")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("z-index")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("999")]),s._v(";\n  }\n  "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("footer")]),s._v("{\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("position")]),s._v(": fixed;\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("bottom")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("left")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin-top")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("55px")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100%")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("55px")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("background-color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#fff")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("line-height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("55px")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border-top")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2px")]),s._v(" solid  "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#e1ece9")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("z-index")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("999")]),s._v(";\n  }\n  \n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")])]),s._v("\n")])]),a("h3",[s._v("MyHead组件")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"top"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":style")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"{backgroundColor:background,color}"')]),s._v(">")]),s._v("\n        {{ title }}\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("props")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("background")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("String")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//外部插入此变量的值，必须是字符串类型，否则报错")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(":{\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("String")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//约束color的类型")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("default")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"#fff"')]),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//color默认值(外部不给我color传值，使用默认值)")]),s._v("\n        },\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("title")]),s._v(":{\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("String")]),s._v(",\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//必须传入此变量的值")]),s._v("\n        }\n    }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("scoped")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"less"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".top")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("padding")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20px")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100%")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("text-align")]),s._v(": center;\n        \n    }\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")])]),s._v("\n")])]),a("h3",[s._v("MyGoods组件")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" >")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"good"')]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"left"')]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"checkbox"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("obj.goods_state")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":id")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"obj.id"')]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("label")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":for")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"obj.id"')]),s._v(">")]),s._v("\n                        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("img")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("obj.goods_img")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":alt")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("obj.goods_name")]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("label")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"right"')]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"title"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-text")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("obj.goods_name")]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"count"')]),s._v(">")]),s._v("\n                        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyCount")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":obj")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"obj"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyCount")]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyCount")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./MyCount.vue'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("props")]),s._v(":["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'obj'")]),s._v("],\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("components")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyCount")]),s._v("\n    }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("scoped")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"less"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n    *{\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("padding")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("list-style")]),s._v(": none;\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".good")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100%")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100px")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("padding")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20px")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20px")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("overflow")]),s._v(": hidden;\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border-bottom")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2px")]),s._v(" solid "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#e8f0ed")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".left")]),s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": flex;\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("float")]),s._v(": left;\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(": -"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("9px")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("40%")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("input")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5px")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("float")]),s._v(": left;\n            }\n            "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("img")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("float")]),s._v(": left;\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("80%")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border-radius")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10px")]),s._v(";\n            }\n        }\n        "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".right")]),s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("position")]),s._v(": relative;\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("60%")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100%")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("float")]),s._v(": right;\n            "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".title")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5px")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("float")]),s._v(": left;\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100%")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("font-weight")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("900")]),s._v(";\n            }\n            "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".count")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100%")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("position")]),s._v(": absolute;\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("right")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("bottom")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n            }\n        }\n    }\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")]),s._v("\n")])])]),a("h3",[s._v("MyCount组件")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"price"')]),s._v(">")]),s._v("\n            ￥{{ obj.goods_price }}\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"btn"')]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":disabled")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"obj.goods_count == 1"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"obj.goods_count--"')]),s._v(">")]),s._v("-"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-model.number")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("obj.goods_count")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"obj.goods_count++"')]),s._v(">")]),s._v("+"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("props")]),s._v(":["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'obj'")]),s._v("],\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("pop")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("num")]),s._v(">="),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("){\n                "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("num")]),s._v("--;\n            }\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(";\n            }\n        }\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("watch")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("obj")]),s._v(":{\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("deep")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(",\n            "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("handler")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("obj")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("goods_count")]),s._v(" < "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" || "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("obj")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("goods_count")]),s._v(" == "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'-'")]),s._v("){\n                    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("obj")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("goods_count")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("\n                }\n            }\n        }\n    }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("scoped")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"less"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".price")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("30%")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("float")]),s._v(": left;\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": red;\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("font-weight")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("900")]),s._v(";\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".btn")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("float")]),s._v(": right;\n        "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("input")]),s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("text-align")]),s._v(": center;\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("30px")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("18px")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border-top")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" solid black;\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border-bottom")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" solid black;\n            \n        }\n        "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("button")]),s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20px")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20px")]),s._v(";\n        }\n    }\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")])]),s._v("\n")])]),a("h3",[s._v("MyFooter组件")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"footer"')]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"left"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"checkbox"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"isAll"')]),s._v(">")]),s._v("全选"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"mid"')]),s._v(">")]),s._v("合计："),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v(" ￥ {{ allPrice }} "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"right"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("结算( {{ allCount }} )"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("props")]),s._v(":["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'list'")]),s._v("],\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("computed")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("isAll")]),s._v(":{\n            "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("set")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("val")]),s._v("){\n                "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(".$emit("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'changeAll'")]),s._v(",val)\n            },\n            "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("get")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("list")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("every")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v("=>")]),s._v("item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("goods_state")]),s._v("=="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(")\n            }\n        },\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("allCount")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("list")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("reduce")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("sum,item")]),s._v(")=>")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("goods_state")]),s._v(")sum+=item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("goods_count")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" sum;\n            },"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(")\n        },\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("allPrice")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("list")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("reduce")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("sum,item")]),s._v(")=>")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("goods_state")]),s._v("){\n                    sum += item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("goods_count")]),s._v(" * item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("goods_price")]),s._v(";\n                }\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" sum;\n            },"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(")\n        }\n    }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("scoped")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"less"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".footer")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".left")]),s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("6px")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("float")]),s._v(": left;\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("25%")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("input")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5px")]),s._v(";\n            }\n        }\n        "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".mid")]),s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("6px")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("float")]),s._v(": left;\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("40%")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("span")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100%")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": red;\n            }\n        }\n        "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".right")]),s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("text-align")]),s._v(": center;\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("6px")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("float")]),s._v(": right;\n            "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("25%")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("button")]),s._v("{\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("85px")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("32px")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border-radius")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20px")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("background-color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#0675ff")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#fff")]),s._v(";\n            }\n        }\n    }\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")])]),s._v("\n")])]),a("h2",[s._v("效果")]),a("p",[a("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2022/png/32986902/1664417024873-a4d3fc02-6d55-41eb-be44-abbddc07b448.png#clientId=u654110be-bec2-4&crop=0&crop=0&crop=1&crop=1&from=ui&id=u3985b1ac&margin=%5Bobject%20Object%5D&name=QQ%E6%88%AA%E5%9B%BE20220929100213.png&originHeight=695&originWidth=396&originalType=binary&ratio=1&rotation=0&showTitle=false&size=112061&status=done&style=none&taskId=ue66757bb-d792-41e2-b4e2-f430a29a4fe&title=",alt:"QQ截图20220929100213.png"}})]),a("h2",[a("strong",[s._v("动态组件")])]),a("p",[s._v(":::info")]),a("h3",[s._v("1.准备被切换的-UserName.vue/UserInfo.vue 2各组件")]),a("p",[s._v('2.引入到UserDynamic.vue注册 3.准备变量来承载要显示的"组件名" 4.设置挂载点,使用is属性来设置要显示那个组件 :::')]),a("h2",[s._v("UserDynamic组件代码")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("\"comName='UserName'\"")]),s._v(">")]),s._v("账号密码填写"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("\"comName='UserInfo'\"")]),s._v(">")]),s._v("个人信息填写"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("下面显示注册组件-动态切换"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("style")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"border: 1px solid red;"')]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("component")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":is")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"comName"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("component")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("UserInfo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/components/UserInfo.vue'")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("UserName")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/components/UserName.vue'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("comName")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'UserName'")]),s._v(",\n        };\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("components")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("UserInfo")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("UserName")]),s._v("\n    }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n")])]),a("h2",[a("strong",[s._v("注意")])]),a("p",[s._v(":::info")]),a("h3",[a("strong",[s._v("频繁的切换组件会造成组件被频繁的创建与销毁，效率会变低,下面是解决这个问题的方法")])]),a("p",[s._v(":::")]),a("h2",[s._v("组件缓存")]),a("p",[s._v(":::info "),a("strong",[s._v("Vue内置的keep-alive组件 包起来要频繁切换的组件")]),s._v(" :::")]),a("h3",[s._v("语法")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<keep-alive>\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("component")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":is")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"comName"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("component")]),s._v(">")])]),s._v("\n</keep-alive>\n")])]),a("h2",[s._v("引出两个新的生命周期")]),a("ul",[a("li",[a("p",[s._v("方法名 :::info")])]),a("li",[a("p",[a("strong",[s._v("activated-激活时触发")]),s._v(" ::: :::info")])]),a("li",[a("p",[a("strong",[s._v("deactivated-失去激活时触发")]),s._v(" :::")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("activated")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n  "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'激活'")]),s._v(")\n},\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("deactivated")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n  "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'失去激活'")]),s._v(")\n}\n")])]),a("h2",[s._v("组件插槽")]),a("h2",[s._v("目标1")]),a("p",[s._v(":::info")]),a("h3",[s._v("通过slot标签，让组件内可以接收不同的标签结构显示")]),a("p",[s._v(":::")]),a("h2",[s._v("用法")]),a("p",[s._v(":::info")]),a("h3",[s._v("1.组件内用slot标签站位，这个位置就是插入内容要显示的位置")]),a("p",[s._v("2.插入内容直接按<组件名>插入内容</组件名>格式就行 :::")]),a("h2",[s._v("默认内容")]),a("p",[s._v(":::info")]),a("h3",[s._v("组件内slot标签内的内容即为默认内容，当组件不插入的时候显示默认内容")]),a("p",[s._v("即默认内容 :::")]),a("h2",[s._v("作用域插槽")]),a("h3",[s._v("目标2")]),a("p",[s._v(":::info")]),a("h4",[s._v("使用插槽的时候，想使用子组件内变量")]),a("p",[s._v(":::")]),a("h3",[s._v("用法2")]),a("p",[s._v(":::info")]),a("p",[s._v('1.子组件，在slot上绑定属性和子组件内的值 2.使用组件时，传入自定义标签，用template和v-slot="自定义变量名" 3.scope变量名自动绑定到slot上的所有属性和值 scope = {row.defaultObj} :::')]),a("p",[s._v("比如一个Pannel组件 "),a("strong",[s._v("使用组件时")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("    <"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Pannel")]),s._v(">\n      "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n        {{ scope.row.default }}\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")])]),s._v("\n    </"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Pannel")]),s._v(">\n")])]),a("p",[a("strong",[s._v("组件内部配置")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<slot :row="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"defaultObj"')]),s._v(">{{ defaultObj."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("defaultOne")]),s._v(" }}</slot>\n...\n...\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("defaultObj")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("defaultOne")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("defaultTwo")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v("\n}\n")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},279:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("h1",[s._v("自定义指令")]),a("h2",[s._v("目标：获取标签，扩展额外功能")]),a("h3",[s._v("1.全局注册")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("directive")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"指令名"')]),s._v(",{\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"inserted"')]),s._v("(el){\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//可以对el标签扩展额外功能")]),s._v("\n    }\n})\n")])]),a("h3",[s._v("2.局部注册")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("directives")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"指令名"')]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("inserted")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("el")]),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//对el进行操作")]),s._v("\n        }\n    }\n}\n")])]),a("h3",[s._v("3.使用自定义标签")]),a("p",[a("strong",[s._v("在标签上使用自定义指令 v-指令名")]),s._v(".")]),a("h3",[a("strong",[s._v("注意")])]),a("p",[a("strong",[s._v("inserted方法 - 指令所在标签被插入到网页上时就出发")]),s._v(".")]),a("h2",[s._v("自定义指令传值")]),a("h3",[s._v("语法")]),a("p",[a("strong",[s._v("例如定义color指令-传入一个颜色，给标签设置字体颜色")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("directive")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"color"')]),s._v(",{\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("inserted")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("el,binding")]),s._v("){ "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 当贝绑定元素插入到父元素中时调用")]),s._v("\n        el."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("style")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("color")]),s._v(" = binding."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v(";\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("update")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("el,binding")]),s._v("){ "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 值或模板更新时，触发此函数")]),s._v("\n        el."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("style")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("color")]),s._v(" = binding."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v("; "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//传值的时候要传字符串 - v-color=\"'red'\"")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 或者可以在data里设置一个变量colorStr='red'，然后v-color=\"colorStr\"")]),s._v("\n    }\n})\n")])]),a("h2",[s._v("TabBar案例")]),a("p",[s._v(":::info 1.练习了一下用组件标签实现组件切换 2.再次熟悉了用axios请求数据 3.熟悉了刚复习的插槽的使用 4.熟悉了自定义指令的用法，以及对一些Vue指令的用法更加熟练 5.各个组件用了bootstrap包装的样式** :::")]),a("h2",[s._v("MyHeader组件")]),a("p",[a("strong",[s._v("复用了之前购物车案例里的MyHead组件")]),s._v(".")]),a("h2",[s._v("MyTabBar组件")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n   "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"my-tab-bar"')]),s._v(">")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"tab-item"')]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-for")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"(item,index) in arr"')]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":key")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"index"')]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"btn(index,item)"')]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"{current:index===setIndex}"')]),s._v("\n           >")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 图标 --\x3e")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"iconfont"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"item.iconText"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 文字 --\x3e")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v(" {{ item.text }} "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n   "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("props")]),s._v(":{\n       "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("arr")]),s._v(":{\n           "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Array")]),s._v(",\n           "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("require")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(",\n           "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//自定义校验规则")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("validator")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("value")]),s._v("){\n               "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(value."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("length")]),s._v(">="),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("&&value."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("length")]),s._v("<="),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v("){\n                   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(";\n               }\n               "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v("{\n                   "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("error")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"数据员必须在2-5项"')]),s._v(");\n                   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(";\n               }\n           }\n       }\n   },\n   "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n       "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n           "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("setIndex")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(",\n       };\n   },\n   "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n       "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("btn")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("index,obj")]),s._v("){\n           "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("setIndex")]),s._v("=index;\n           "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(".$emit("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'changeName'")]),s._v(",obj."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("componentName")]),s._v(")\n       }\n   }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"less"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("scoped")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".my-tab-bar")]),s._v(" {\n   "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("position")]),s._v(": fixed;\n   "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("left")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n   "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("bottom")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n   "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100%")]),s._v(";\n   "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("50px")]),s._v(";\n   "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border-top")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" solid "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#ccc")]),s._v(";\n   "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": flex;\n   "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("justify-content")]),s._v(": space-around;\n   "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("align-items")]),s._v(": center;\n   "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("background-color")]),s._v(": white;\n   "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".tab-item")]),s._v(" {\n   "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": flex;\n   "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("flex-direction")]),s._v(": column;\n   "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("align-items")]),s._v(": center;\n   }\n}\n   \n"),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".current")]),s._v(" {\n   "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#1d7bff")]),s._v(";\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")])]),s._v("\n")])]),a("h2",[s._v("MyTable组件")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("table")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"table table-bordered table-stripped"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 表格标题区域 --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("thead")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("tr")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("slot")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"header"')]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("th")]),s._v(">")]),s._v("#"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("th")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("th")]),s._v(">")]),s._v("商品名称"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("th")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("th")]),s._v(">")]),s._v("价格"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("th")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("th")]),s._v(">")]),s._v("标签"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("th")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("th")]),s._v(">")]),s._v("操作"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("th")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("slot")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("tr")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("thead")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 表格主体区域 --\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("tbody")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("tr")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-for")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"item in arr"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":key")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"item.id"')]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("slot")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"body"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":row")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"item"')]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("td")]),s._v(">")]),s._v(" {{ item.id }} "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("td")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("td")]),s._v(">")]),s._v("{{ item.goods_name }}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("td")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("td")]),s._v(">")]),s._v("{{ item.goods_price }}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("td")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("td")]),s._v(">")]),s._v("{{ item.tags }}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("td")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("td")]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("删除"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("td")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("slot")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("tr")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("tbody")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("table")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'MyTable'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("props")]),s._v(":["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'arr'")]),s._v("],\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n        \n    }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("scoped")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"less"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".my-goods-list")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".badge")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin-right")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5px")]),s._v(";\n    }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")])]),s._v("\n")])]),a("h2",[s._v("MyGoodsList组件")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyTable")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":arr")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"list"')]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(" #"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("header")]),s._v(">")]),s._v(" \n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("th")]),s._v(">")]),s._v("#"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("th")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("th")]),s._v(">")]),s._v("商品名称"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("th")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("th")]),s._v(">")]),s._v("价格"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("th")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("th")]),s._v(">")]),s._v("标签"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("th")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("th")]),s._v(">")]),s._v("操作"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("th")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-slot:body")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"scope"')]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("td")]),s._v(">")]),s._v(" {{ scope.row.id }} "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("td")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("td")]),s._v(">")]),s._v("{{ scope.row.goods_name }}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("td")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("td")]),s._v(">")]),s._v("{{ scope.row.goods_price }}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("td")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("td")]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" \n                    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"tag-input form-control"')]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-if")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"scope.row.inputVisible"')]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-focus")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@blur")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"scope.row.inputVisible = false"')]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@keydown.enter")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"enterFn(scope.row)"')]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"scope.row.inputValue"')]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("style")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"width:100px"')]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("style")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"display:block"')]),s._v(" \n                    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"btn btn-primary btn-sm add-tag"')]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-else")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"scope.row.inputVisible = true"')]),s._v("\n                    >")]),s._v("+Tag"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"btn btn-primary"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("style")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"background:white;color:blue"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-for")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"(item,index) in scope.row.tags"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":key")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"index"')]),s._v(">")]),s._v("{{ item }}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("td")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("td")]),s._v(">")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"btn btn-danger btn-sm"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"delFn(scope.row.id)"')]),s._v(">")]),s._v("删除"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("td")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyTable")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" axios "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'axios'")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyTable")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/components/MyTable.vue'")]),s._v(";\n    axios."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("defaults")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("baseURL")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'https://www.escook.cn'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("components")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyTable")]),s._v("\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("list")]),s._v(": [],\n        };\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("created")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("axios")]),s._v("({\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/api/goods'")]),s._v("\n        })."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("then")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("res")]),s._v(")=>")]),s._v("{\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(res);\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("list")]),s._v("=res."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v(";\n        })\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("delFn")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("id")]),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" index = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("list")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("findIndex")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v("=>")]),s._v("item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("id")]),s._v("==id);\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("list")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("splice")]),s._v("(index,"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// this.list = this.list.filter(item=>{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//     item.id!=id")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// })")]),s._v("\n        },\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("enterFn")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("inputValue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("trim")]),s._v("()."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("length")]),s._v("=="),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(")"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("alert")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'请输入数据'")]),s._v(")\n            item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("tags")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("(item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("inputValue")]),s._v(")\n            item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("inputValue")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v("\n        }\n    },\n    \n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")])]),s._v("\n")])]),a("h2",[s._v("App.vue")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyHeader")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("background")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"blue"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"white"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("title")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"TabBar案例"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyHeader")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"main"')]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("component")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":is")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"comName"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("component")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyTabBar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":arr")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"tabList"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@changeName")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"changeName"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MyTabBar")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyHeader")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./components/MyHeader.vue'")]),s._v(";\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyTabBar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./components/MyTabBar.vue'")]),s._v(";\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyTable")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./components/MyTable.vue'")]),s._v(";\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyGoodsList")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./view/MyGoodsList.vue'")]),s._v(";\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyGoodsSearch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./view/MyGoodsSearch.vue'")]),s._v(";\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyUserInfo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./view/MyUserInfo.vue'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("comName")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'MyGoodsList'")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("tabList")]),s._v(": [\n          {\n              "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("iconText")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"icon-shangpinliebiao"')]),s._v(",\n              "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("text")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"商品列表"')]),s._v(",\n              "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("componentName")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"MyGoodsList"')]),s._v("\n          },\n          {\n              "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("iconText")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"icon-sousuo"')]),s._v(",\n              "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("text")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"商品搜索"')]),s._v(",\n              "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("componentName")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"MyGoodsSearch"')]),s._v("\n          },\n          {\n              "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("iconText")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"icon-user"')]),s._v(",\n              "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("text")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"我的信息"')]),s._v(",\n              "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("componentName")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"MyUserInfo"')]),s._v("\n          }\n      ]\n    };\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("components")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyHeader")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyTabBar")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyTable")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyGoodsList")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyGoodsSearch")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MyUserInfo")]),s._v(",\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("changeName")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("cName")]),s._v("){\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("comName")]),s._v(" = cName\n    }\n  }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"less"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n  *{\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("padding")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("list-style")]),s._v(": none;\n  }\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")])]),s._v("\n")])]),a("h2",[s._v("main.js里引入bootsap.css和定义自定义指令focus")]),a("h2",[a("strong",[s._v("Vue-Router")])]),a("h2",[s._v("vue-router模块")]),a("p",[s._v(":::info")]),a("ul",[a("li",[a("p",[a("strong",[s._v("步骤")]),s._v(" ::: :::info")]),a("ul",[a("li",[a("strong",[s._v("1.下载vue-router模块到当前工程")])]),a("li",[a("strong",[s._v("2.在main.js里引入VueRouter函数")])]),a("li",[a("strong",[s._v("3.添加到Vue.use()上-注册全局RouterLink和RouterView组件")])]),a("li",[a("strong",[s._v("4.创建路由规则数组-路径和组件名对应关系")])]),a("li",[a("strong",[s._v("5.用规则生成路由对象")])]),a("li",[a("strong",[s._v("6.把路由对象注入到new Vue实例中")])]),a("li",[a("strong",[s._v("7.用router-view作为挂载点，切换不同的路由页面")]),s._v(" :::")])])])]),a("h2",[s._v("声明式导航")]),a("h3",[s._v("目标：可用组件router-link来代替a标签")]),a("p",[a("strong",[s._v("1.vue-router提供了一个全局组件router-link 2.router-link实质上最终会渲染为a链接 to属性等价于提供 href属性（to无需#） 3.router-link提供了声明式导航高亮的功能（自带类名）")])]),a("h2",[s._v("vue-router的基础使用")]),a("h3",[s._v("App.vue组件")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"footer_wrap"')]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("router-link")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/find"')]),s._v(">")]),s._v("发现音乐"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("router-link")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("router-link")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/my"')]),s._v(">")]),s._v("我的音乐"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("router-link")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("router-link")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/part"')]),s._v(">")]),s._v("朋友"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("router-link")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"top"')]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 设置挂载点-当url的hash值路径切换,显示规则里对应的组件到这 --\x3e")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("router-view")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("router-view")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {};\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("scoped")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".footer_wrap")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("position")]),s._v(": fixed;\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("left")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("top")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": flex;\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100%")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("text-align")]),s._v(": center;\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("background-color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#333")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#ccc")]),s._v(";\n  }\n  "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".footer_wrap")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("a")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("flex")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("text-decoration")]),s._v(": none;\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("padding")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20px")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("line-height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20px")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("background-color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#333")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#ccc")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" solid black;\n  }\n  "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".footer_wrap")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("a")]),a("span",{pre:!0,attrs:{class:"hljs-selector-pseudo"}},[s._v(":hover")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("background-color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#555")]),s._v(";\n  }\n  "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".top")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("padding-top")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("62px")]),s._v(";\n  }\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")])]),s._v("\n")])]),a("h3",[s._v("main.js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("App")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./App.vue'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Find")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/view/Find.vue'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("My")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/view/My.vue'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Part")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/view/Part.vue'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("VueRouter")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue-router'")]),s._v("\n\n\n\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("config")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("productionTip")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("VueRouter")]),s._v(")\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" routes = [\n  {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/find'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Find")]),s._v("\n  },\n  {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/my'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("My")]),s._v("\n  },\n  {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/part'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Part")]),s._v("\n  },\n  {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/part/:username'")]),s._v("\n  }\n]\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//生成路由对象")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" router = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("VueRouter")]),s._v("({\n  routes\n})\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("({\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("render")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("h")]),s._v(" =>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("h")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("App")]),s._v("),\n  router\n}).$mount("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'#app'")]),s._v(")\n")])]),a("h2",[s._v("声明式导航-跳转传参")]),a("h3",[s._v("目标：再跳转路由时，可以给路由对应的组件内传值")]),a("h4",[s._v("方式1")]),a("ul",[a("li",[a("strong",[s._v("在router-link上的to属性传值，语法格式：")]),a("ul",[a("li",[a("strong",[s._v("/path?参数名=值")])])])]),a("li",[a("strong",[s._v("对应页面组件接收传递过来的值")]),a("ul",[a("li",[a("strong",[s._v("$router.query.参数名")])])])])]),a("h4",[s._v("方式2")]),a("ul",[a("li",[a("strong",[s._v("在router-link上的to属性传值，语法格式:")]),a("ul",[a("li",[a("strong",[s._v("/path/值")])])])]),a("li",[a("strong",[s._v("对应的路由规则要有定义")]),a("ul",[a("li",[a("strong",[s._v("路由规则path上 定义 /path/:参数名")])])])]),a("li",[a("strong",[s._v("接收：")]),a("ul",[a("li",[a("strong",[s._v("$route.params.参数名")])])])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("    <div>\n        "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("我的朋友"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("我的关注"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("发现精彩"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("人名:{{ $route.query.name }} -- {{ $route.params.username }}"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")])]),s._v("\n    </div>\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("  {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/part/:username'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Part")]),s._v("\n  }\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("      <router-link to="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/part?name=小船"')]),s._v(">朋友-小船</router-link>\n      "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("router-link")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/part/小智"')]),s._v(">")]),s._v("朋友-小智"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("router-link")]),s._v(">")])]),s._v("\n")])]),a("h2",[s._v("路由的重定向")]),a("h3",[s._v("目标：匹配path后，强制跳转path路径")]),a("ul",[a("li",[a("strong",[s._v("网页打开url默认hash值是/路径")])]),a("li",[a("strong",[s._v("redirect是设置要重定向到哪个路由路径")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("{\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//默认hash值路径")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("redirect")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/find'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//重定向到/find")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 浏览器url中#后的路径被改变成/find-重新匹配规则")]),s._v("\n}\n")])]),a("h2",[s._v("路由404设置")]),a("h3",[s._v("目标：找不到路径给个提示页面")]),a("ul",[a("li",[a("em",[a("em",[s._v("路由最后，path匹配")]),s._v("（任意路径）- 前面不匹配就命中最后这个")]),s._v("*")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" routes = [\n  {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/find'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Find")]),s._v("\n  },\n  {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/my'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("My")]),s._v("\n  },\n  {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/part'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Part")]),s._v("\n  },\n  {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/part/:username'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Part")]),s._v("\n  },\n  {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//404在最后(规则是从前往后逐个比较path)")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'*'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("NotFound")]),s._v("\n  }\n]\n")])]),a("h2",[s._v("路由模式修改")]),a("h3",[s._v("目标：修改路由在地址栏的模式")]),a("ul",[a("li",[a("strong",[s._v("hash路由例如：")]),a("a",{attrs:{href:"http://localhost:8080/#/home"}},[a("strong",[s._v("http://localhost:8080/#/home")])])]),a("li",[a("strong",[s._v("history路由例如：'http://lacalhost:8080/home' (以后上线需要服务器端支持)")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" router = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("VueRouter")]),s._v("({\n    routes,\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("mode")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"history"')]),s._v("\n})\n")])]),a("h2",[s._v("编程式导航 - 基础使用")]),a("h3",[s._v("目标：用js代码来进行跳转")]),a("ul",[a("li",[a("strong",[s._v("语法：path或者name任意选一个")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$router")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("({\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'路由路径'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 都去 router/index.js定义")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'路由名'")]),s._v("\n})\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<span @click="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("\"btn('/find','Find')\"")]),s._v(">搜索</span>\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("\"btn('/my','My')\"")]),s._v(">")]),s._v("我的收藏"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("\"btn('/part','Part')\"")]),s._v(">")]),s._v("我的朋友"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")])]),s._v("\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("btn")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("targetPath,targetName")]),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//方式1：path跳转")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$router")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("({\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":targetPath,\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(":targetName\n        })\n    }\n}\n")])]),a("h3",[s._v("注意：虽然用name跳转，但是url的hash值还是切换path路径")]),a("h3",[s._v("场景")]),a("ul",[a("li",[a("strong",[s._v("方便修改：name路由名（在页面上看不见随便定义）")])]),a("li",[a("strong",[s._v("path可以再url的hash值看到（尽量符合组内规范）")])])]),a("h2",[s._v("编程式导航 - 跳转路由传参")]),a("ul",[a("li",[s._v("params/query：")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$router")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("({\n    params/"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("query")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("username")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'小船'")]),s._v("\n    }\n})\n")])]),a("h3",[a("strong",[s._v("重要:path会自动忽略params")])]),a("h3",[s._v("推荐:name+query方式传参")]),a("h2",[s._v("路由嵌套")]),a("h3",[s._v("目标：在现有的一级路由下，在潜逃二级路由")]),a("ul",[a("li",[s._v("1.创建需要用的所有组件")]),a("li",[s._v("2.main.js-继续配置2级路由 "),a("ul",[a("li",[s._v("一级路由path从/开始定义")]),a("li",[s._v("二级路由往后path直接写名字，无需/开头")]),a("li",[s._v("嵌套路由在上级路由的children数组里编写路由信息对象")])])]),a("li",[s._v("3.router-view "),a("ul",[a("li",[s._v("App.vue的router-view负责一级路由")]),a("li",[s._v("二级路由由一级路由里的router-view负责")])])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("{\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/find'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Find")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("children")]),s._v(":[\n      {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'recommend'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Recommend")]),s._v("\n      },\n      {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'music'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Music")]),s._v("\n      },\n      {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'search'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Search")]),s._v("\n      },\n    ]\n  },\n")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},8005:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("h1",[s._v("Vue路由")]),a("h2",[s._v("声明式导航 - 激活类名的区别")]),a("ul",[a("li",[s._v('1.url上的hash值(#/home/recommend) 包含 导航的href值(#/home)- 当前a就有 "router-link-alive"（模糊）')]),a("li",[s._v('2.url上的hash值(#/home/recommend) 等于 导航的href值(#/home/recommend) - 当前a就有 "router-link-exact-active"（精确）')])]),a("h2",[s._v("路由守卫")]),a("h3",[s._v("目标")]),a("ul",[a("li",[s._v("路由跳转前会触发一个函数")]),a("li",[s._v("例如：登录状态去<我的音乐>页面，未登录弹窗提示")]),a("li",[s._v("语法： router.beforeEach((to,from,next) => {})")]),a("li",[s._v("to:要跳转到的路由(路由对象信息) 目标")]),a("li",[s._v("from:从哪里跳转的路由(路由对象信息) 来源")]),a("li",[s._v('next:函数体 - next()才会让路由正常的跳转切换,next(false)在原地停留,next("强制改到另一个路由路径上")')]),a("li",[s._v("不调用next，页面留在原地")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" isLogin = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//未登录")]),s._v("\nrouter."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("beforeEach")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("to,"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" ,next")]),s._v(") =>")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(to."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("path")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/my'")]),s._v(" && isLogin === "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("alert")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"请登录"')]),s._v(")\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("next")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//阻止路由跳转")]),s._v("\n    } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("next")]),s._v("()\n    }\n})\n")])]),a("h2",[s._v("网易云案例")]),a("h3",[s._v("今天最后做了一个网易云音乐的案例")]),a("blockquote",[a("h3",[s._v("主要有获取热门歌单，获取最新歌曲，搜索歌曲，获取热门搜索歌曲以及播放歌曲的功能")])]),a("p",[a("strong",[s._v("下面是效果图")]),s._v(".")]),a("p",[a("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2022/png/32986902/1664544820467-7f463893-132d-4fa9-aec7-5c72aaabefd5.png#clientId=u2ee6fc53-ce93-4&crop=0&crop=0&crop=1&crop=1&errorMessage=unknown%20error&from=ui&id=u354b7b4b&margin=%5Bobject%20Object%5D&name=Snipaste_2022-09-30_21-25-21.png&originHeight=835&originWidth=470&originalType=binary&ratio=1&rotation=0&showTitle=false&size=168711&status=error&style=none&taskId=u7309636f-40cc-40a9-a8f6-048d83830f6&title=",alt:"Snipaste_2022-09-30_21-25-21.png"}})]),a("p",[a("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2022/png/32986902/1664544845881-b0ab0009-1ba8-4126-8186-41de7cfdcace.png#clientId=u2ee6fc53-ce93-4&crop=0&crop=0&crop=1&crop=1&errorMessage=unknown%20error&from=ui&id=u326f8f59&margin=%5Bobject%20Object%5D&name=Snipaste_2022-09-30_21-25-02.png&originHeight=835&originWidth=470&originalType=binary&ratio=1&rotation=0&showTitle=false&size=49620&status=error&style=none&taskId=u862b61f7-8c9c-429a-927b-85648316e65&title=",alt:"Snipaste_2022-09-30_21-25-02.png"}}),a("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2022/png/32986902/1664544855884-5b912d5c-13d7-476f-9285-83e555528ce6.png#clientId=u2ee6fc53-ce93-4&crop=0&crop=0&crop=1&crop=1&errorMessage=unknown%20error&from=ui&id=uba836c5f&margin=%5Bobject%20Object%5D&name=Snipaste_2022-09-30_21-24-49.png&originHeight=835&originWidth=470&originalType=binary&ratio=1&rotation=0&showTitle=false&size=25856&status=error&style=none&taskId=ua85f1578-fc86-4e2e-8e1b-3d989dbb858&title=",alt:"Snipaste_2022-09-30_21-24-49.png"}}),a("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2022/png/32986902/1664544872234-ef006564-457f-426c-9bc6-d430a56d596d.png#clientId=u2ee6fc53-ce93-4&crop=0&crop=0&crop=1&crop=1&errorMessage=unknown%20error&from=ui&id=u7bcfdc2c&margin=%5Bobject%20Object%5D&name=Snipaste_2022-09-30_21-24-36.png&originHeight=835&originWidth=470&originalType=binary&ratio=1&rotation=0&showTitle=false&size=268175&status=error&style=none&taskId=u0235f750-e794-42c3-8646-02928dd94f9&title=",alt:"Snipaste_2022-09-30_21-24-36.png"}})]),a("p",[s._v(":::info")]),a("h3",[s._v("主要大部分是跟着视频做的")]),a("p",[s._v(":::")]),a("p",[s._v(":::info")]),a("h3",[s._v("主要熟悉了之前复习的路由和vant组件库的用法")]),a("p",[s._v(":::")]),a("h3",[s._v("App.vue")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("router-view")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("router-view")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n")])]),a("h3",[s._v("main.js")]),a("p",[s._v("引入了许多vant组件库的组件")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("App")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./App.vue'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/mobile/flexible'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/styles/reset.css'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" router "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/router'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Tabbar")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("TabbarItem")]),s._v(" ,"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("NavBar")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Col")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Row")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Image")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("as")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("VanImage")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cell")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("CellGroup")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Icon")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Search")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("List")]),s._v(",} "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vant'")]),s._v(";\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("List")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Search")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cell")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Icon")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("CellGroup")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("VanImage")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Col")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Row")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Tabbar")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("TabbarItem")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("NavBar")]),s._v(");\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("config")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("productionTip")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("({\n  router,\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("render")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("h")]),s._v(" =>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("h")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("App")]),s._v("),\n}).$mount("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'#app'")]),s._v(")\n")])]),a("h3",[s._v("网络请求-二次封装")]),a("p",[a("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2022/png/32986902/1664545178298-18118423-4ff2-49ac-9825-845afbb61e48.png#clientId=u2ee6fc53-ce93-4&crop=0&crop=0&crop=1&crop=1&errorMessage=unknown%20error&from=paste&height=32&id=p7XTK&margin=%5Bobject%20Object%5D&name=image.png&originHeight=40&originWidth=144&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1982&status=error&style=none&taskId=u855c8998-8d1f-4f76-81ab-1d4e434adef&title=&width=115.2",alt:"image.png"}})]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 网络请求 - 二次封装")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" axios "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"axios"')]),s._v(";\naxios."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("defaults")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("baseURL")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'http://localhost:3000'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" axios\n")])]),a("h3",[s._v("路由配置")]),a("p",[a("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2022/png/32986902/1664545302169-d60e92ff-eb13-49b7-a30a-759fd318b21d.png#clientId=u2ee6fc53-ce93-4&crop=0&crop=0&crop=1&crop=1&errorMessage=unknown%20error&from=paste&height=36&id=WDhju&margin=%5Bobject%20Object%5D&name=image.png&originHeight=45&originWidth=150&originalType=binary&ratio=1&rotation=0&showTitle=false&size=2222&status=error&style=none&taskId=u36e40131-21f8-485b-8cb6-d4b529421e7&title=&width=120",alt:"image.png"}})]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("VueRouter")]),s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue-router'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Layout")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/view/Layout'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Home")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/view/Home'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Search")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/view/Search'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Play")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/view/Play'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("VueRouter")]),s._v(")\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" routes = [\n    {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("redirect")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/layout'")]),s._v("\n    },\n    {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/layout'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Layout")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("children")]),s._v(":[\n            {\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'home'")]),s._v(",\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Home")]),s._v(",\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("meta")]),s._v(":{ "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//meta保存路由对象额外信息")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("title")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'首页'")]),s._v("\n                }\n            },\n            {\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'search'")]),s._v(",\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Search")]),s._v(",\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("meta")]),s._v(":{\n                    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("title")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'搜索'")]),s._v("\n                }\n            }\n        ]\n    },\n    {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/play'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Play")]),s._v("\n    }\n]\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("VueRouter")]),s._v("({\n    routes\n})\n")])]),a("h3",[s._v("各个模js的请求统一到index.js再向外导出")]),a("p",[a("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2022/png/32986902/1664545385339-b633c428-3a0b-4e4e-b10b-dfefde5d28a4.png#clientId=u2ee6fc53-ce93-4&crop=0&crop=0&crop=1&crop=1&errorMessage=unknown%20error&from=paste&height=86&id=zuwEI&margin=%5Bobject%20Object%5D&name=image.png&originHeight=108&originWidth=147&originalType=binary&ratio=1&rotation=0&showTitle=false&size=3859&status=error&style=none&taskId=ud742678f-a74d-401c-b398-7f2fad8bc9b&title=&width=117.6",alt:"image.png"}})]),a("h4",[s._v("index.js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// api文件夹下 各个请求模块js，同一来到index.js再向外导出")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" {recommendMusic,newMusic} "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./Home'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { hotSearch,searchResultList } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./Search'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" {getSongById,getLyricById} "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./Play'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" recommendMusicAPI = recommendMusic "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//请求推荐歌单的方法导出")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" newMusicAPI = newMusic "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//请求最新音乐的方法导出")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" hotSearchAPI = hotSearch "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//搜索-热搜关键词")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" searchResultListAPI = searchResultList "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//搜索-搜索结果")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" getSongByIdAPI = getSongById "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//搜索-搜索结果")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" getLyricByIdAPI = getLyricById "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//搜索-搜索结果")]),s._v("\n")])]),a("h4",[s._v("Home.js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 文件名-尽量和模块页面文件名统一")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" request "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/utils/request'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//首页-推荐歌单")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("recommendMusic")]),s._v(" = params => "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("request")]),s._v("({\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/personalized'")]),s._v(",\n    params\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//将来可能传入params的值{limit:20}")]),s._v("\n})\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 首页-最新音乐")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("newMusic")]),s._v(" = params => "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("request")]),s._v("({\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/personalized/newsong'")]),s._v(",\n    params\n})\n")])]),a("h4",[s._v("Search.js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 搜索模块")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" request "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/utils/request'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("hotSearch")]),s._v(" = params => "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("request")]),s._v("({\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/search/hot'")]),s._v(",\n    params\n})\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("searchResultList")]),s._v(" = params => "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("request")]),s._v("({\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/cloudsearch'")]),s._v(",\n    params\n})\n")])]),a("h4",[s._v("Play.js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" request "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'../utils/request'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 播放页 - 获取歌曲详情")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getSongById")]),s._v(" = ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("id")]),s._v(") => "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("request")]),s._v("({\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`/song/detail?ids="),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${id}")]),s._v("`")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("method")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"GET"')]),s._v("\n})\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 播放页 - 获取歌词")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getLyricById")]),s._v(" = ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("id")]),s._v(") => "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("request")]),s._v("({\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`/lyric?id="),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${id}")]),s._v("`")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("method")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"GET"')]),s._v("\n})\n")])]),a("h3",[s._v("页面组件")]),a("p",[a("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2022/png/32986902/1664545611218-9e58ebb7-a154-487f-b1fd-d1744c284108.png#clientId=u2ee6fc53-ce93-4&crop=0&crop=0&crop=1&crop=1&errorMessage=unknown%20error&from=paste&height=91&id=u07f39941&margin=%5Bobject%20Object%5D&name=image.png&originHeight=114&originWidth=151&originalType=binary&ratio=1&rotation=0&showTitle=false&size=4164&status=error&style=none&taskId=u0139b822-bbf1-4dce-8127-44057006e61&title=&width=120.8",alt:"image.png"}})]),a("h4",[s._v("Layout")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("van-nav-bar")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":title")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"activeTitle"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("fixed")]),s._v("\n        />")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"main"')]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 二级路由挂载点 --\x3e")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("router-view")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("router-view")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("van-tabbar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("route")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("van-tabbar-item")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("replace")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/layout/home"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("icon")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"home-o"')]),s._v(">")]),s._v("首页"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("van-tabbar-item")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("van-tabbar-item")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("replace")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("to")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/layout/search"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("icon")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"search"')]),s._v(">")]),s._v("搜索"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("van-tabbar-item")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("van-tabbar")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("activeTitle")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$route")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("meta")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("title")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//顶部栏要显示的标题(默认获取当前路由对象里的meta中的title)")]),s._v("\n        };\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("watch")]),s._v(":{\n        $route(){\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("activeTitle")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$route")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("meta")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("title")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//提取切换后路由对象里的title")]),s._v("\n        }\n    }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("scoped")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".main")]),s._v(" {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("padding-top")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("46px")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("padding-bottom")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("50px")]),s._v(";\n    }\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")])]),s._v("\n")])]),a("h4",[s._v("Home")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"title"')]),s._v(">")]),s._v("推荐歌单"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("van-row")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("gutter")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"6"')]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("van-col")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("span")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"8"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-for")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"item in relist"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":key")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"item.id"')]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("van-image")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("width")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"100%"')]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("height")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"3rem"')]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("fit")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"cover"')]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"item.picUrl"')]),s._v("\n                />")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"song_name"')]),s._v(">")]),s._v(" {{ item.name }} "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("van-col")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("van-row")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"title"')]),s._v(">")]),s._v("最新音乐"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("SongItem")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-for")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"obj in songList"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":key")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"obj.id"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"obj.name"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":author")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"obj.song.artists[0].name"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":id")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"obj.id"')]),s._v("\n        >")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("SongItem")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("SongItem")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/components/SongItem.vue'")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { recommendMusicAPI,newMusicAPI } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/api'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("components")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("SongItem")]),s._v("\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("relist")]),s._v(": [],"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//推荐歌单数据")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("songList")]),s._v(":[],"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//最新歌曲数据")]),s._v("\n        };\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("created")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" res = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("recommendMusicAPI")]),s._v("({\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("limit")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("6")]),s._v("\n        })\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" res2 = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("newMusicAPI")]),s._v("({\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("limit")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v("\n        })\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(res);\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(res2);\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("relist")]),s._v(" = res."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("result")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("songList")]),s._v(" =res2."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("result")]),s._v("\n    }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("scoped")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* 标题 */")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".title")]),s._v(" {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("padding")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.266667rem")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.24rem")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.24rem")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("background-color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#eee")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#333")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("font-size")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("15px")]),s._v(";\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* 推荐歌单 - 歌名 */")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".song_name")]),s._v(" {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("font-size")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.346667rem")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("padding")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.08rem")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin-bottom")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.266667rem")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("word-break")]),s._v(": break-all;\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("text-overflow")]),s._v(": ellipsis;\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": -webkit-box; "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/** 对象作为伸缩盒子模型显示 **/")]),s._v("\n        -webkit-box-orient: vertical; "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/** 设置或检索伸缩盒对象的子元素的排列方式 **/")]),s._v("\n        -webkit-line-clamp: "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("; "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/** 显示的行数 **/")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("overflow")]),s._v(": hidden; "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/** 隐藏超出的内容 **/")]),s._v("\n    }\n    \n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")])]),s._v("\n")])]),a("h4",[s._v("Search")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("van-search")]),s._v(" \n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("shape")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"round"')]),s._v(" \n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"value"')]),s._v(" \n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"请输入搜索关键词"')]),s._v(" \n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@input")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'inputFn'")]),s._v(" />")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"search_wrap"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-if")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"resultList.length===0"')]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"hot_title"')]),s._v(">")]),s._v("热门搜索"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"hot_name_wrap"')]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"hot_item"')]),s._v(" \n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-for")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"(item,index) in hotList"')]),s._v(" \n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":key")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"index"')]),s._v(" \n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"fn(item.first)"')]),s._v(">")]),s._v("\n                    {{ item.first }}\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"search_wrap"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-else")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"hot_title"')]),s._v(">")]),s._v("最佳匹配"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("van-list")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"loading"')]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":finished")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"finished"')]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("finished-text")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"没有更多了"')]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@load")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"onLoad"')]),s._v("\n            >")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("SongItem")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-for")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"obj in resultList"')]),s._v(" \n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":key")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"obj.id"')]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"obj.name"')]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":author")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"obj.ar[0].name"')]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":id")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"obj.id"')]),s._v("\n            >")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("SongItem")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("van-list")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { hotSearchAPI,searchResultListAPI} "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/api'")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("SongItem")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/components/SongItem.vue'")]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("components")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("SongItem")]),s._v("\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("value")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("hotList")]),s._v(":[], "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//热搜关键字")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("resultList")]),s._v(":[], "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//搜索结果")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("loading")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//加载中  只有为false的时候才会触发onload")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("finished")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//未加载全部  (true为全部加载完成)")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("page")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//当前搜索结果的页码")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("timer")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 输入框防抖的计时器")]),s._v("\n        };\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("created")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" res = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("hotSearchAPI")]),s._v("()\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(res);\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("hotList")]),s._v(" = res."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("result")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("hots")]),s._v("\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getListFn")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("searchResultListAPI")]),s._v("({\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("keywords")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v(",\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("limit")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v(",\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("offset")]),s._v(":("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("page")]),s._v("-"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")*"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//固定公式")]),s._v("\n            })\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// async修饰的函数默认返回一个全新的promise对象")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//拿到getListFn的返回值用await提取结果")]),s._v("\n        },\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("fn")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("val")]),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("page")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//重新获取第一页数据")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("finished")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(";\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v("=val\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" res = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getListFn")]),s._v("();\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(res);\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("resultList")]),s._v(" = res."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("result")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("songs")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("loading")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(";\n        },\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("inputFn")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){ "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//输入框值改变")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("page")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//重新获取第一页数据")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//防抖：计时n秒，最后执行1次，如果再次出发，重新计时")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("timer")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("clearTimeout")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("timer")]),s._v(")\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("timer")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("setTimeout")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" ()=>{\n                "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("finished")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("trim")]),s._v("()."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("length")]),s._v("=="),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("){\n                    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//如果搜索关键词没有那就把搜索结果清空阻止网络请求，提前return")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("resultList")]),s._v("=[];\n                    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v("\n                }\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" res = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getListFn")]),s._v("();\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(res."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("result")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("songs")]),s._v("==="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v("){ "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//无数据")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("resultList")]),s._v("=[];\n                    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v("\n                }\n                "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(res);\n                "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("resultList")]),s._v(" = res."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("result")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("songs")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("loading")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(";\n            },"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("900")]),s._v(")\n\n        },\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("onLoad")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){ "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//触底事件 内部自动将loading改为true")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("page")]),s._v("++;\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" res = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getListFn")]),s._v("()\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(res."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("result")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("songs")]),s._v("==="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v("){ "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//无更多数据")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("finished")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//list再次触发都不会执行onload函数（显示“没有更多数据”）")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("loading")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(";\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v("\n            }\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("resultList")]),s._v(" = [..."),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("resultList")]),s._v(",...res."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("result")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("songs")]),s._v("]\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("loading")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(";\n        }\n    }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("scoped")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* 搜索容器的样式 */")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".search_wrap")]),s._v(" {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("padding")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.266667rem")]),s._v(";\n    }\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/*热门搜索文字标题样式 */")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".hot_title")]),s._v(" {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("font-size")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.32rem")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#666")]),s._v(";\n    }\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* 热搜词_容器 */")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".hot_name_wrap")]),s._v(" {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.266667rem")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    }\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/* 热搜词_样式 */")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".hot_item")]),s._v(" {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": inline-block;\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.853333rem")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin-right")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.213333rem")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin-bottom")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.213333rem")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("padding")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.373333rem")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("font-size")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.373333rem")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("line-height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.853333rem")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#333")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border-color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#d3d4da")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border-radius")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.853333rem")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" solid "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#d3d4da")]),s._v(";\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".van-cell")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border-bottom")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" solid lightgray\n    }\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")])]),s._v("\n")])]),a("h3",[s._v("使用babel对vant进行了局部导入，使用postcss-pxtorem进行了vant组件库适配不同机型")]),a("h4",[s._v("babel.config.js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("module")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("exports")]),s._v(" = {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("presets")]),s._v(": [\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@vue/cli-plugin-babel/preset'")]),s._v("\n  ],\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("plugins")]),s._v(": [\n    ["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"import"')]),s._v(", {\n      "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"libraryName"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"vant"')]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"libraryDirectory"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"es"')]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"style"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n    },"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vant'")]),s._v("]\n  ]\n}\n\n")])]),a("h4",[s._v("postcss.config.js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("module")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("exports")]),s._v(" = {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("plugins")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'postcss-pxtorem'")]),s._v(":{\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("rootValue")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("37.5")]),s._v(",\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("propList")]),s._v(":["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'*'")]),s._v("]\n        }\n    }\n}\n")])]),a("h3",[s._v("歌曲信息组件")]),a("p",[a("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2022/png/32986902/1664546106708-e2fa3cb4-04ef-4c98-bc6f-6a2232fce714.png#clientId=u2ee6fc53-ce93-4&crop=0&crop=0&crop=1&crop=1&errorMessage=unknown%20error&from=paste&height=40&id=u035a787d&margin=%5Bobject%20Object%5D&name=image.png&originHeight=50&originWidth=150&originalType=binary&ratio=1&rotation=0&showTitle=false&size=2750&status=error&style=none&taskId=u87df6584-2576-4557-bc63-fe721824738&title=&width=120",alt:"image.png"}})]),a("h4",[s._v("分别在首页页面和搜索页面进行了复用")]),a("p",[a("strong",[s._v("就是这个")]),a("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2022/png/32986902/1664546221985-6b7ed9a5-038e-4b8a-a02a-6ab679a6d419.png#clientId=u2ee6fc53-ce93-4&crop=0&crop=0&crop=1&crop=1&errorMessage=unknown%20error&from=paste&height=158&id=u5b5117b0&margin=%5Bobject%20Object%5D&name=image.png&originHeight=197&originWidth=470&originalType=binary&ratio=1&rotation=0&showTitle=false&size=8470&status=error&style=none&taskId=u2ec5e088-d833-4655-bcf0-2f1b1e616b1&title=&width=376",alt:"image.png"}})]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("van-cell")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("center")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":title")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"name"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":label")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("\"author + '-' + name\"")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(" #"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("right-icon")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("van-icon")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"play-circle-o"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("size")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"0.7rem"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"playFn"')]),s._v(" />")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("van-cell")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("props")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("String")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//歌名")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("author")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("String")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//歌手")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Number")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//歌曲id")]),s._v("\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("playFn")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$router")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("({\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/play'")]),s._v(",\n                "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("query")]),s._v(":{\n                    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("id")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 歌曲id，通过路由跳转传递过去")]),s._v("\n                }\n            })\n        }\n    }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("scoped")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".van-cell")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border-bottom")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" solid lightgray\n    }\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")])]),s._v("\n")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},7179:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("hr"),a("p",[s._v("title: hexo博客主题与修改 date: 2022-10-09 22:52:23 category: 博客修改 tags:")]),a("ul",[a("li",[s._v("博客修改")]),a("li",[s._v("笔记")])]),a("hr"),a("h2",[s._v("hexo博客主题安装与修改")]),a("h3",[a("strong",[s._v("1.主题下载与安装")])]),a("p",[s._v("点击"),a("a",{attrs:{href:"https://codeload.github.com/blinkfox/hexo-theme-matery/zip/master"}},[s._v("下载地址")]),s._v("下载master分支的最新稳定版的代码，解压缩后，将hexo-theme-matery的文件复制到hexo的theme文件夹中即可")]),a("p",[s._v("当然你也可以在你的站点目录文件夹下使用 git clone 命令来下载：直接在站点根目录下执行下面的命令，即可进行主题的下载，主题有两个版本，稳定版本和最新版本(不定期更新优化)，自主选择版本。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("git clone "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("https")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//github.com/blinkfox/hexo-theme-matery themes/matery     # 稳定版")]),s._v("\ngit clone -b develop "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("https")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//github.com/blinkfox/hexo-theme-matery themes/matery   #最新版(不定期进行优化更新)")]),s._v("\n")])]),a("h3",[a("strong",[s._v("2.主题配置")])]),a("p",[s._v("2.1 "),a("strong",[s._v("切换主题")])]),a("p",[s._v("进入根目录下的_config.yml中，往下滑到大概101行有一个theme，将它改为刚才你引入到根目录theme下的文件夹的名字就行，记得theme:后加一个空格 即theme: 你引入的文件夹的名字（不用加引号）")]),a("p",[s._v("语言选择：如果为中文用户，则在language:后添加值zh-CN，如果不修改，默认为英语； 网址修改：url:的值为你的网址名，如"),a("a",{attrs:{href:"http://xxxx.github.io"}},[s._v("http://xxxx.github.io")]),s._v("，如果有域名，则修改为你的域名即可 点配置文件有个per_page属性，建议修改为6的倍数，这样网站在适应设备时，有较好的显示效果。")]),a("p",[s._v("2.2 "),a("strong",[s._v("新建页面")])]),a("p",[s._v("本次操作需要新建'tags','categories','about','contact'(留言板（可选）),'friends'(友情链接(可选)) 基本操作都是一样 以'tags'为例")]),a("p",[s._v("tags 页是用来展示所有标签的页面，如果在你的博客 source 目录下还没有 tags/index.md 文件，那么你就需要新建一个，命令如下")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("hexo "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" page "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"tags"')]),s._v("\n")])]),a("p",[s._v("编辑你刚刚新建的页面文件 /source/tags/index.md，至少需要以下内容：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-yml"}},[a("span",{pre:!0,attrs:{class:"hljs-meta"}},[s._v("---")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("title:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("tags")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("date:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2018-09-30 18:23:38")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"tags"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("layout:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"tags"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-meta"}},[s._v("---\n")])])]),a("p",[s._v("其他页面的新建也是如此，将tags改为对应的就行，如about，把上面的tags都改为about就行")]),a("p",[s._v("tags和category用法 你新建玩tags和category页面以后")]),a("p",[s._v("在你写post中的md文件时在顶部加入以下代码")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-yml"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("title:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10.5")]),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("(React脚手架)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("categories:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("React")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("tags:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("React")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("笔记")]),s._v("\n")])]),a("p",[s._v("就会生成以下效果")]),a("p",[a("img",{attrs:{src:t(3300),alt:"图片"}})]),a("p",[s._v("新建friend页面后同时，在你的博客"),a("code",{pre:!0},[s._v("source")]),s._v("目录下新建"),a("code",{pre:!0},[s._v("_data")]),s._v("目录，在"),a("code",{pre:!0},[s._v("_data")]),s._v("目录中新建"),a("code",{pre:!0},[s._v("friends.json")]),s._v("文件，文件内容如下所示：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("[{\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"avatar"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"../avatars/1.jpg"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"name"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"灰色的小伊"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"introduction"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"来bilibili了解更多追番，冲冲冲"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"url"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://space.bilibili.com/244375982?spm_id_from=333.1007.0.0"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"title"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"前去学习"')]),s._v("\n}, {\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"avatar"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"../avatars/0.png"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"name"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"太阳"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"introduction"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"更多知识笔记，来语雀一起学习"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"url"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://www.yuque.com/dashboard/my_books"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"title"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"前去学习"')]),s._v("\n}, {\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"avatar"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://avatars.githubusercontent.com/u/100678707?v=4"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"name"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"engravesunny"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"introduction"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"平凡的脚步也可以走出伟大的行程"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"url"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://github.com/Engravesunny"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"title"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"前去学习"')]),s._v("\n}]\n")])]),a("p",[s._v("2.3"),a("strong",[s._v("菜单导航配置")])]),a("p",[s._v("1.菜单导航名称可以是中文也可以是英文(如：Index或主页) 2.图标icon 可以在Font Awesome 中查找")]),a("p",[s._v("在你引入的主题文件夹中的_config.yml中更改以下代码")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-yml"}},[s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("menu:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("Index:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("icon:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fas")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fa-home")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("Tags:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/tags")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("icon:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fas")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fa-tags")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("Categories:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/categories")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("icon:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fas")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fa-bookmark")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("Archives:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/archives")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("icon:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fas")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fa-archive")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("About:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/about")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("icon:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fas")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fa-user-circle")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("Friends:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/friends")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("icon:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fas")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fa-address-book")]),s._v("\n")])]),a("p",[s._v("以上是一级菜单 二级菜单配置方法： 1.在需要添加二级菜单的一级菜单下添加children关键字(如:About菜单下添加children) 2.在children下创建二级菜单的 名称name,路径url和图标icon. 3.注意每个二级菜单模块前要加 -. 4.注意缩进格式")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-yml"}},[s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("menu:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("Index:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("icon:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fas")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fa-home")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("Tags:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/tags")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("icon:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fas")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fa-tags")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("Categories:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/categories")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("icon:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fas")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fa-bookmark")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("Archives:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/archives")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("icon:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fas")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fa-archive")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("About:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/about")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("icon:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fas")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fa-user-circle-o")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("Friends:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/friends")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("icon:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fas")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fa-address-book")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("Medias:")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("icon:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fas")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fa-list")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("children:")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Musics")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/musics")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("icon:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fas")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fa-music")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Movies")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/movies")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("icon:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fas")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fa-film")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Books")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/books")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("icon:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fas")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fa-book")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("Galleries")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("/galleries")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("icon:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fas")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("fa-image")]),s._v("\n")])]),a("p",[s._v("2.4"),a("strong",[s._v("代码高亮")]),s._v(" 由于 Hexo 自带的代码高亮主题显示不好看，所以主题中使用到了 hexo-prism-plugin 的 Hexo 插件来做代码高亮，安装命令如下：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("npm i -S hexo-prism-plugin\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("prism_plugin")]),s._v(":\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("mode")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'preprocess'")]),s._v("    # realtime/preprocess\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("theme")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'tomorrow'")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("line_number")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("    # "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("custom_css")]),s._v(":\n")])]),a("p",[s._v("2.5 "),a("strong",[s._v("搜索")])]),a("p",[s._v("本主题中还使用到了 hexo-generator-search 的 Hexo 插件来做内容搜索，安装命令如下：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("npm install hexo-generator-search --save\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("search")]),s._v(":\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(": search."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("xml")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("field")]),s._v(": post\n")])]),a("p",[s._v("2.6"),a("strong",[s._v("中文链接转拼音（可选的）")]),s._v("   如果你的文章名称是中文的，那么 Hexo 默认生成的永久链接也会有中文，这样不利于 SEO，且 gitment 评论对中文链接也不支持。我们可以用   hexo-permalink-pinyin Hexo 插件使在生成文章时生成中文拼音的永久链接。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("npm i hexo-permalink-pinyin --save\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-yml"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("permalink_pinyin:")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("enable:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("separator:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'-'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# default: '-'")]),s._v("\n")])]),a("p",[a("strong",[s._v("注")]),s._v("：除了此插件外，hexo-abbrlink 插件也可以生成非中文的链接。")]),a("p",[s._v("2.7 "),a("strong",[s._v("文章字数统计插件（可选的）")]),s._v("   如果你想要在文章中显示文章字数、阅读时长信息，可以安装 hexo-wordcount插件。")]),a("p",[s._v("安装命令如下：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("npm i --save hexo-wordcount\n")])]),a("p",[s._v("然后只需在本主题下的 _config.yml 文件中，激活以下配置项即可：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("wordCount")]),s._v(":\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("enable")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(" # 将这个值设置为 "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(" 即可.\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("postWordCount")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("min2read")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("totalCount")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n")])]),a("p",[s._v("2.8 "),a("strong",[s._v("添加 DaoVoice 在线聊天功能（可选的）")]),s._v("   前往 "),a("a",{attrs:{href:"https://www.daocloud.io/"}},[s._v("DaoVoice")]),s._v("官网注册并且获取app_id，并将app_id填入主题的_config.yml 文件中")]),a("p",[s._v("2.9 "),a("strong",[s._v("添加 Tidio 在线聊天功能（可选的）")]),s._v("   前往 "),a("a",{attrs:{href:"https://www.tidio.com/"}},[s._v("Tidio")]),s._v("官网注册并且获取Public Key，并将Public Key填入主题的_config.yml 文件中。")]),a("p",[s._v("2.10 "),a("strong",[s._v("修改页脚")]),s._v("   页脚信息可能需要做定制化修改，而且它不便于做成配置信息，所以可能需要你自己去再修改和加工。修改的地方在主题文件的 /layout/_partial/footer.ejs 文件中，包括站点、使用的主题、访问量等。")]),a("p",[s._v("2.11 "),a("strong",[s._v("修改社交链接")])]),a("p",[s._v("在主题的 _config.yml 文件中，默认支持 QQ、GitHub 和邮箱等的配置，你可以在主题文件的 /layout/_partial/social-link.ejs 文件中，新增、修改你需要的社交链接地址，增加链接可参考如下代码：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<% "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (theme."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("socialLink")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("github")]),s._v(") { %>\n    "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"<%= theme.socialLink.github %>"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"tooltipped"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("target")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"_blank"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data-tooltip")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"访问我的GitHub"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data-position")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"top"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("data-delay")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"50"')]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("i")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"fab fa-github"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("i")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("a")]),s._v(">")])]),s._v("\n<% } %>\n")])]),a("p",[s._v("其中，社交图标（如：fa-github）你可以在 Font Awesome 中搜索找到。以下是常用社交图标的标识，供你参考：")]),a("p",[s._v("Facebook: fab fa-facebook Twitter: fab fa-twitter Google-plus: fab fa-google-plus Linkedin: fab fa-linkedin Tumblr: fab fa-tumblr Medium: fab fa-medium Slack: fab fa-slack Sina Weibo: fab fa-weibo Wechat: fab fa-weixin QQ: fab fa-qq Zhihu: fab fa-zhihu   "),a("strong",[s._v("注意")]),s._v(": 本主题中使用的 Font Awesome 版本为 5.11.0")]),a("p",[s._v("2.12 "),a("strong",[s._v("修改打赏的二维码图片")]),s._v("   在主题文件的 source/medias/reward 文件中，你可以替换成你的的微信和支付宝的打赏二维码图片. 2.13 "),a("strong",[s._v("配置音乐播放器（可选的）")]),s._v("   要支持音乐播放，就必须开启音乐的播放配置和音乐数据的文件。")]),a("p",[s._v("首先，在你的博客 source 目录下的 _data 目录（没有的话就新建一个）中新建 musics.json 文件，文件内容如下所示：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("[{\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"name"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"五月雨变奏电音"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"artist"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"AnimeVibe"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"url"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"http://xxx.com/music1.mp3"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"cover"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"http://xxx.com/music-cover1.png"')]),s._v("\n}, {\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"name"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"Take me hand"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"artist"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"DAISHI DANCE,Cecile Corbel"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"url"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/medias/music/music2.mp3"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"cover"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/medias/music/cover2.png"')]),s._v("\n}, {\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"name"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"Shape of You"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"artist"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"J.Fla"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"url"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"http://xxx.com/music3.mp3"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"cover"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"http://xxx.com/music-cover3.png"')]),s._v("\n}]\n")])]),a("p",[a("strong",[s._v("注")]),s._v("：以上 JSON 中的属性：name、artist、url、cover 分别表示音乐的名称、作者、音乐文件地址、音乐封面")]),a("p",[s._v("然后，在主题的 _config.yml 配置文件中激活配置即可：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-py"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 是否在首页显示音乐.")]),s._v("\nmusic:\n  enable: true\n  showTitle: false\n  title: 听听音乐\n  fixed: false "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 是否开启吸底模式")]),s._v("\n  autoplay: false "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 是否自动播放")]),s._v("\n  theme: "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'#42b983'")]),s._v("\n  loop: "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'all'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 音频循环播放, 可选值: 'all', 'one', 'none'")]),s._v("\n  order: "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'list'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 音频循环顺序, 可选值: 'list', 'random'")]),s._v("\n  preload: "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'auto'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 预加载，可选值: 'none', 'metadata', 'auto'")]),s._v("\n  volume: "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 默认音量，请注意播放器会记忆用户设置，用户手动设置音量后默认音量即失效")]),s._v("\n  listFolded: false "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 列表默认折叠")]),s._v("\n  listMaxHeight: "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 列表最大高度")]),s._v("\n")])]),a("p",[s._v("3."),a("strong",[s._v("文章 Front-matter 介绍")]),s._v("   Front-matter 选项详解   Front-matter 选项中的所有内容均为非必填的。但我仍然建议至少填写 title 和 date 的值。")]),a("p",[s._v("您可以在文章md文件的 front-matter 中指定 reprintPolicy 来给单个文章配置转载规则   以下为文章的 Front-matter 示例。")]),a("p",[s._v("最简示例")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-markdown"}},[s._v("---\ntitle: typora-vue-theme主题介绍\n"),a("span",{pre:!0,attrs:{class:"hljs-section"}},[s._v("date: 2018-09-07 09:25:00\n---")]),s._v("\n")])]),a("p",[s._v("最全示例")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-md"}},[s._v("---\ntitle: typora-vue-theme主题介绍\ndate: 2022-05-02 09:25:00\nauthor: CrazyYu\nimg: /source/images/xxx.jpg\ntop: true\ncover: true\ncoverImg: /images/1.jpg\npassword: 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92\ntoc: false\nmathjax: false\nsummary: 这是你自定义的文章摘要内容，如果这个属性有值，文章卡片摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要\ncategories: Markdown\ntags:\n"),a("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("  -")]),s._v(" Typora\n"),a("span",{pre:!0,attrs:{class:"hljs-section"}},[s._v("  - Markdown\n---")]),s._v("\n")])]),a("p",[s._v("4."),a("strong",[s._v("效果截图")])]),a("p",[s._v("最新版本进行了优化更新，效果图与最初的效果图有差别，下面的图不是最新版本的。")]),a("p",[a("img",{attrs:{src:"https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/46.jpg",alt:"示例1"}})]),a("p",[a("img",{attrs:{src:"https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/47.jpg",alt:"示例2"}})]),a("p",[a("img",{attrs:{src:"https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/48.jpg",alt:"示例3"}})]),a("p",[a("img",{attrs:{src:"https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/49.jpg",alt:"示例4"}})]),a("p",[a("img",{attrs:{src:"https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/50.jpg",alt:"示例5"}})]),a("p",[s._v("今天先到这，我也要洗澡睡觉了(23:44)")])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},2034:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("h1",[s._v("Vue3组合式API笔记")]),a("blockquote",[a("p",[s._v("于2022-11-29 00:10 在做了各项vue2项目以及用博客框架和不用框架分别搭建了博客之后，决定开始学习Vue3")])]),a("h2",[s._v("组合式API")]),a("p",[s._v("最先开始，介绍一下Vue3的优点吧")]),a("ul",[a("li",[s._v("最火框架，它是国内最火的前端框架之一，官方文档 (opens new window)中文文档(opens new window)")]),a("li",[s._v("性能提升，运行速度事vue2.x的1.5倍左右")]),a("li",[s._v("体积更小，按需编译体积比vue2.x要更小")]),a("li",[s._v("类型推断，更好的支持Ts（typescript）这个也是趋势")]),a("li",[s._v("高级给予，暴露了更底层的API和提供更先进的内置组件")]),a("li",[s._v("★组合API (composition api) ，能够更好的组织逻辑，封装逻辑，复用逻辑")])]),a("p",[s._v("而最开始vue3中最令我感觉到不同的是组合式API以及按需引入")]),a("p",[s._v("什么是组合API写法："),a("strong",[a("code",{pre:!0},[s._v("Compositon API")])])]),a("ul",[a("li",[s._v("咱们在vue3.0项目中将会使用 组合API 写法 "),a("ul",[a("li",[s._v("代码风格：一个功能逻辑的代码组织在一起（包含数据，函数...）")])])]),a("li",[s._v("优点：功能逻辑复杂繁多情况下，各个功能逻辑代码组织再一起，便于阅读和维护")]),a("li",[s._v("缺点：需要有良好的代码组织能力和拆分逻辑能力，PS：大家没问题。")]),a("li",[s._v("补充：为了能让大家较好的过渡到vue3.0的版本来，也支持vue2.x选项API写法")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v("<template>\n  <div class=\"container\">\n    <div>鼠标位置：</div>\n    <div>X轴：{{x}}</div>\n    <div>Y轴：{{y}}</div>\n    <hr>\n    <div>{{count}} <button @click=\"add()\">自增</button></div>  \n  </div>\n</template>\n<script>\nimport { onMounted, onUnmounted, reactive, ref, toRefs } from 'vue'\nexport default {\n  name: 'App',\n  setup () {\n    // 鼠标移动逻辑\n    const mouse = reactive({\n      x: 0,\n      y: 0\n    })\n    const move = e => {\n      mouse.x = e.pageX\n      mouse.y = e.pageY\n    }\n    onMounted(()=>{\n      document.addEventListener('mousemove',move)\n    })\n    onUnmounted(()=>{\n      document.removeEventListener('mousemove',move)\n    })\n\n    // 累加逻辑\n    const count = ref(0)\n    const add = () => {\n      count.value ++ \n    }\n\n    // 返回数据\n    return {\n      ...toRefs(mouse),\n      count,\n      add\n    }\n  }\n}\n<\/script>\n")])]),a("h3",[s._v("组合式API——setup函数")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("setup")]),s._v("函数式"),a("code",{pre:!0},[s._v("vue3")]),s._v("中一个新的组件选项，也是组件中使用组合式API的起点")]),a("li",[s._v("作为一个生命周期"),a("code",{pre:!0},[s._v("setup")]),s._v("函数在"),a("code",{pre:!0},[s._v("vue2")]),s._v("中的"),a("code",{pre:!0},[s._v("beforeCreate")]),s._v("钩子之前执行")]),a("li",[s._v("在"),a("code",{pre:!0},[s._v("setup")]),s._v("函数中"),a("code",{pre:!0},[s._v("this")]),s._v("还不是组件实例，此时的"),a("code",{pre:!0},[s._v("this")]),s._v("是undefined")]),a("li",[s._v("在模板中使用的数据，函数，需要在setup函数中返回")])]),a("h3",[s._v("组合式API——生命周期")]),a("p",[s._v("回顾vue2.x生命周期钩子函数：")]),a("ul",[a("li",[s._v("beforeCreate")]),a("li",[s._v("created")]),a("li",[s._v("beforeMount")]),a("li",[s._v("mounted")]),a("li",[s._v("beforeUpdate")]),a("li",[s._v("updated")]),a("li",[s._v("beforeDestroy")]),a("li",[s._v("destroyed")])]),a("p",[s._v("认识vue3.0生命周期钩子函数:")]),a("ul",[a("li",[s._v("setup 创建实例前")]),a("li",[s._v("onBeforeMount 挂载DOM前")]),a("li",[s._v("onMounted 挂载DOM后")]),a("li",[s._v("onBeforeUpdate 更新组件前")]),a("li",[s._v("onUpdated 更新组件后")]),a("li",[s._v("onBeforeUnmount 卸载销毁前")]),a("li",[s._v("onUnmounted 卸载销毁后")])]),a("blockquote",[a("p",[s._v("组合API的生命周期钩子有7个，可以多次使用同一个钩子，执行顺序和书写顺序相同。")])]),a("h3",[s._v("组合式API——reactive函数")]),a("ul",[a("li",[s._v("reactive是一个函数，它可以定义一个复杂数据类型，成为响应式数据。")])]),a("blockquote",[a("p",[s._v("通常是用来定义响应式对象数据")])]),a("h3",[s._v("组合式API——toRef函数")]),a("ul",[a("li",[s._v("toRef可以将reactive中的"),a("strong",[s._v("响应式对象")]),s._v("的"),a("strong",[s._v("某个属性")]),s._v("转换为"),a("strong",[s._v("响应式数据")]),s._v("，并且"),a("strong",[s._v("值是关联的")])])]),a("blockquote",[a("p",[s._v("toRef转换响应式数据包装成对象，value存放值的位置")])]),a("h3",[s._v("组合式API——toRefs函数")]),a("ul",[a("li",[s._v("toRefs是函数，转换响应式对象中所有属性为单独响应式数据，对象成为普通对象，并且值是关联的")])]),a("h3",[s._v("代码")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v("// setup函数\n<template>\n  <div class=\"container\">\n    <h1 @click=\"say()\">{{msg}}</h1>\n  </div>\n</template>\n<script>\nexport default {\n  setup () {\n    console.log('setup执行了')\n    console.log(this)\n    // 定义数据和函数\n    const msg = 'hi vue3'\n    const say = () => {\n      console.log(msg)\n    }\n\n    return { msg , say}\n  },\n  beforeCreate() {\n    console.log('beforeCreate执行了')\n    console.log(this)\n  }\n}\n<\/script>\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v("// reactive函数\n<template>\n  <div class=\"container\">\n    <div>{{obj.name}}</div>\n    <div>{{obj.age}}</div>\n    <button @click=\"updateName\">修改数据</button>\n  </div>\n</template>\n<script>\nimport { reactive } from 'vue'\nexport default {\n  name: 'App',\n  setup () {\n    // 普通数据\n    // const obj = {\n    //   name: 'ls',\n    //   age: 18\n    // }\n    const obj = reactive({\n      name: 'ls',\n      age: 18\n    })\n\n    // 修改名字\n    const updateName = () => {\n      console.log('updateName')\n      obj.name = 'zs'\n    }\n\n    return { obj ,updateName}\n  }\n}\n<\/script>\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v("// toRef函数\n<template>\n  <div class=\"container\">\n    {{name}} <button @click=\"updateName\">修改数据</button>\n  </div>\n</template>\n<script>\nimport { reactive, toRef } from 'vue'\nexport default {\n  name: 'App',\n  setup () {\n    // 1. 响应式数据对象\n    const obj = reactive({\n      name: 'ls',\n      age: 10\n    })\n    console.log(obj)\n    // 2. 模板中只需要使用name数据\n    // 注意：从响应式数据对象中解构出的属性数据，不再是响应式数据\n    // let { name } = obj 不能直接解构，出来的是一个普通数据\n    const name = toRef(obj, 'name')\n    // console.log(name)\n    const updateName = () => {\n      console.log('updateName')\n      // toRef转换响应式数据包装成对象，value存放值的位置\n      name.value = 'zs'\n    }\n\n    return {name, updateName}\n  }\n}\n<\/script>\n<style scoped lang=\"less\"></style>\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v("// toRefs函数\n<template>\n  <div class=\"container\">\n    <div>{{name}}</div>\n    <div>{{age}}</div>\n    <button @click=\"updateName\">修改数据</button>\n  </div>\n</template>\n<script>\nimport { reactive, toRef, toRefs } from 'vue'\nexport default {\n  name: 'App',\n  setup () {\n    // 1. 响应式数据对象\n    const obj = reactive({\n      name: 'ls',\n      age: 10\n    })\n    console.log(obj)\n    // 2. 解构或者展开响应式数据对象\n    // const {name,age} = obj\n    // console.log(name,age)\n    // const obj2 = {...obj}\n    // console.log(obj2)\n    // 以上方式导致数据就不是响应式数据了\n    const obj3 = toRefs(obj)\n    console.log(obj3)\n\n    const updateName = () => {\n      // obj3.name.value = 'zs'\n      obj.name = 'zs'\n    }\n\n    return {...obj3, updateName}\n  }\n}\n<\/script>\n<style scoped lang=\"less\"></style>\n\n")])]),a("h3",[s._v("组合式API-ref函数")]),a("p",[s._v("定义响应式数据：")]),a("ul",[a("li",[s._v("ref函数，常用于简单数据类型定义为响应式数据 "),a("ul",[a("li",[s._v("在修改值获取值的时候，需要.value")]),a("li",[s._v("在模板中使用ref申明的响应式数据，可以省略.value")])])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v("<template>\n  <div class=\"container\">\n    <div>{{name}}</div>\n    <div>{{age}}</div>\n    <button @click=\"updateName\">修改数据</button>\n  </div>\n</template>\n<script>\nimport { ref } from 'vue'\nexport default {\n  name: 'App',\n  setup () {\n    // 1. name数据\n    const name = ref('ls')\n    console.log(name)\n    const updateName = () => {\n      name.value = 'zs'\n    }\n    // 2. age数据\n    const age = ref(10)\n\n    // ref常用定义简单数据类型的响应式数据\n    // 其实也可以定义复杂数据类型的响应式数据\n    // 对于数据未之的情况下 ref 是最适用的\n    // const data = ref(null)\n    // setTimeout(()=>{\n    //   data.value = res.data\n    // },1000)\n\n    return {name, age, updateName}\n  }\n}\n<\/script>\n\n")])]),a("h3",[s._v("组合式API-computed函数")]),a("p",[s._v("定义计算属性：")]),a("ul",[a("li",[s._v("computed函数，是用来定义计算属性的，计算属性不能修改。")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v('<template>\n  <div class="container">\n    <div>今年：{{age}}岁</div>\n    <div>后年：{{newAge}}岁</div>\n    \x3c!-- 使用v-model绑定计算属性 --\x3e\n    <input type="text" v-model="newAge">\n  </div>\n</template>\n<script>\nimport { computed, ref } from \'vue\'\nexport default {\n  name: \'App\',\n  setup () {\n    // 1. 计算属性：当你需要依赖现有的响应式数据，根据一定逻辑得到一个新的数据。\n    const age = ref(16)\n    // 得到后年的年龄\n    // const newAge = computed(()=>{\n    //   // 该函数的返回值就是计算属性的值\n    //   return age.value + 2\n    // })\n\n    // 计算属性高级用法，传人对象\n    const newAge = computed({\n      // get函数，获取计算属性的值\n      get(){\n        return age.value + 2\n      },\n      // set函数，当你给计算属性设置值的时候触发\n      set (value) {\n        age.value = value - 2\n      }\n    })\n\n\n    return {age, newAge}\n  }\n}\n<\/script>\n')])]),a("p",[s._v("总结：计算属性两种用法")]),a("ul",[a("li",[s._v("给computed传入函数，返回值就是计算属性的值")]),a("li",[s._v("给computed传入对象，get获取计算属性的值，set监听计算属性改变。")])]),a("h3",[s._v("组合式API-watch函数")]),a("p",[s._v("监听ref定义的响应式数据")]),a("p",[s._v("监听多个响应式数据数据")]),a("p",[s._v("监听reactive定义的响应式数据")]),a("p",[s._v("监听reactive定义的响应式数据，某一个属性")]),a("p",[s._v("深度监听")]),a("p",[s._v("默认执行")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v("<template>\n  <div class=\"container\">\n    <div>\n      <p>count的值：{{count}}</p>\n      <button @click=\"add\">改数据</button>\n    </div>\n    <hr>\n    <div>\n      <p>{{obj.name}}</p>\n      <p>{{obj.age}}</p>\n      <p>{{obj.brand.name}}</p>\n      <button @click=\"updateName\">改名字</button>\n      <button @click=\"updateBrandName\">改品牌名字</button>\n    </div>\n  </div>\n</template>\n<script>\nimport { reactive, ref, watch } from 'vue'\nexport default {\n  name: 'App',\n  setup () {\n    const count = ref(0)\n    const add = () => {\n      count.value++\n    }\n    // 当你需要监听数据的变化就可以使用watch\n    // 1. 监听一个ref数据\n    // 1.1 第一个参数  需要监听的目标\n    // 1.2 第二个参数  改变后触发的函数\n    // watch(count, (newVal,oldVal)=>{\n    //   console.log(newVal,oldVal)\n    // })\n\n\n    const obj = reactive({\n      name: 'ls',\n      age: 10,\n      brand: {\n        id: 1,\n        name: '宝马'\n      }\n    })\n    const updateName = () => {\n      obj.name = 'zs'\n    }\n    const updateBrandName = () => {\n      obj.brand.name = '奔驰'\n    }\n    // 2. 监听一个reactive数据\n    watch(obj, ()=>{\n      console.log('数据改变了')\n    })\n\n    watch(()=>obj.brand, ()=>{\n      console.log('brand数据改变了')\n    },{\n      // 5. 需要深度监听\n      deep: true,\n      // 6. 想默认触发\n      immediate: true\n    })\n\n    // 3. 监听多个数据的变化\n    // watch([count, obj], ()=>{\n    //   console.log('监听多个数据改变了')\n    // }) \n\n\n    // 4. 此时监听对象中某一个属性的变化 例如：obj.name \n    // 需要写成函数返回该属性的方式才能监听到\n    // watch(()=>obj.name,()=>{\n    //   console.log('监听obj.name改变了')\n    // })\n\n    return {count, add, obj, updateName, updateBrandName}\n  }\n}\n<\/script>\n")])]),a("h3",[s._v("组合式API-ref属性")]),a("p",[s._v("获取DOM或者组件实例可以使用ref属性，写法和vue2.0需要区分开")]),a("p",[s._v("获取单个DOM或者组件")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v('<template>\n  <div class="container">\n    \x3c!-- vue2.0 获取单个元素 --\x3e\n    \x3c!-- 1. 通过ref属性绑定该元素 --\x3e\n    \x3c!-- 2. 通过this.$refs.box获取元素 --\x3e\n    \x3c!-- <div ref="box">我是box</div> --\x3e\n    \x3c!-- vue2.0 获取v-for遍历的多个元素 --\x3e\n    \x3c!-- 1. 通过ref属性绑定被遍历元素 --\x3e\n    \x3c!-- 2. 通过this.$refs.li 获取所有遍历元素  --\x3e\n    \x3c!-- <ul>\n      <li v-for="i in 4" :key="i" ref="li">{{i}}</li>\n    </ul> --\x3e\n\n    \x3c!-- 单个元素 --\x3e\n    <div ref="dom">我是box</div>\n    \x3c!-- 被遍历的元素 --\x3e\n    <ul>\n      <li v-for="i in 4" :key="i" :ref="setDom">第{{i}}LI</li>\n    </ul>\n  </div>\n</template>\n<script>\nimport { onMounted, ref } from \'vue\'\nexport default {\n  name: \'App\',\n  setup () {\n    // 1. 获取单个元素\n    // 1.1 先定义一个空的响应式数据ref定义的\n    // 1.2 setup中返回该数据，你想获取那个dom元素，在该元素上使用ref属性绑定该数据即可。\n    const dom = ref(null)\n    onMounted(()=>{\n       console.log(dom.value)\n    })\n  }\n}\n<\/script>\n<style scoped lang="less"></style>\n')])]),a("p",[s._v("获取v-for遍历的DOM或者组件")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v("  // 2. 获取v-for遍历的元素\n  // 2.1 定义一个空数组，接收所有的LI\n  // 2.2 定义一个函数，往空数组push DOM\n  const domList = []\n  const setDom = (el) => {\n    domList.push(el)\n  }\n  onMounted(()=>{\n    console.log(domList)\n  })\n  return {dom, setDom}\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v("  // ref获取v-for遍历的DOM元素，需要在组件更新的时候重置接受dom元素的数组。\n  onBeforeUpdate(()=>{\n    list = []\n  })\n")])]),a("h3",[s._v("组合式API-父子通讯")]),a("p",[s._v("父传子：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v("<template>\n  <div class=\"container\">\n    <h1>父组件</h1>\n    <p>{{money}}</p>\n    <hr>\n    <Son :money=\"money\" />\n  </div>\n</template>\n<script>\nimport { ref } from 'vue'\nimport Son from './Son.vue'\nexport default {\n  name: 'App',\n  components: {\n    Son\n  },\n  // 父组件的数据传递给子组件\n  setup () {\n    const money = ref(100)\n    return { money }\n  }\n}\n<\/script>\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v("<template>\n  <div class=\"container\">\n    <h1>子组件</h1>\n    <p>{{money}}</p>\n  </div>\n</template>\n<script>\nimport { onMounted } from 'vue'\nexport default {\n  name: 'Son',\n  // 子组件接收父组件数据使用props即可\n  props: {\n    money: {\n      type: Number,\n      default: 0\n    }\n  },\n  setup (props) {\n    // 获取父组件数据money\n    console.log(props.money)\n  }\n}\n<\/script>\n")])]),a("p",[s._v("子传父：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v("<template>\n  <div class=\"container\">\n    <h1>父组件</h1>\n    <p>{{money}}</p>\n    <hr>\n    <Son :money=\"money\" @change-money=\"updateMoney\" />\n  </div>\n</template>\n<script>\nimport { ref } from 'vue'\nimport Son from './Son.vue'\nexport default {\n  name: 'App',\n  components: {\n    Son\n  },\n  // 父组件的数据传递给子组件\n  setup () {\n    const money = ref(100)\n    const updateMoney = (newMoney) => {\n      money.value = newMoney\n    }\n    return { money , updateMoney}\n  }\n}\n<\/script>\n\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v("<template>\n  <div class=\"container\">\n    <h1>子组件</h1>\n    <p>{{money}}</p>\n+    <button @click=\"changeMoney\">花50元</button>\n  </div>\n</template>\n<script>\nimport { onMounted } from 'vue'\nexport default {\n  name: 'Son',\n  // 子组件接收父组件数据使用props即可\n  props: {\n    money: {\n      type: Number,\n      default: 0\n    }\n  },\n  // props 父组件数据\n  // emit 触发自定义事件的函数\n  setup (props, {emit}) {\n    // 获取父组件数据money\n    console.log(props.money)\n    // 向父组件传值\n    const changeMoney = () => {\n      // 消费50元\n      // 通知父组件，money需要变成50\n      emit('change-money', 50)\n    }\n    return {changeMoney}\n  }\n}\n<\/script>\n")])]),a("p",[a("strong",[s._v("扩展：")])]),a("ul",[a("li",[a("strong",[s._v("在vue2.x的时候 .sync 除去v-model实现双向数据绑定的另一种方式")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v("\x3c!-- <Son :money='money' @update:money=\"fn\"  /> --\x3e\n<Son :money.sync='money'  />\n")])]),a("ul",[a("li",[a("strong",[s._v('在vue3.0的时候，使用 v-model:money="money" 即可')])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v('  \x3c!-- <Son :money="money" @update:money="updateMoney" /> --\x3e\n  <Son v-model:money="money" />\n')])]),a("p",[a("strong",[s._v("总结：")])]),a("ul",[a("li",[s._v("父传子：在"),a("code",{pre:!0},[s._v("setup")]),s._v("种使用"),a("code",{pre:!0},[s._v("props")]),s._v("数据"),a("code",{pre:!0},[s._v("setup(props){ // props就是父组件数据 }")])]),a("li",[s._v("子传父：触发自定义事件的时候"),a("code",{pre:!0},[s._v("emit")]),s._v("来自 "),a("code",{pre:!0},[s._v("setup(props,{emit}){ // emit 就是触发事件函数 }")])]),a("li",[s._v("在vue3.0中"),a("code",{pre:!0},[s._v("v-model")]),s._v("和"),a("code",{pre:!0},[s._v(".sync")]),s._v("已经合并成"),a("code",{pre:!0},[s._v("v-model")]),s._v("指令")])]),a("h3",[s._v("组合式API-依赖注入")]),a("p",[s._v("使用场景：有一个父组件，里头有子组件，有孙组件，有很多后代组件，共享父组件数据。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v("<template>\n  <div class=\"container\">\n    <h1>父组件 {{money}} <button @click=\"money=1000\">发钱</button></h1>\n    <hr>\n    <Son />\n  </div>\n</template>\n<script>\nimport { provide, ref } from 'vue'\nimport Son from './Son.vue'\nexport default {\n  name: 'App',\n  components: {\n    Son\n  },\n  setup () {\n    const money = ref(100)\n    const changeMoney = (saleMoney) => {\n      console.log('changeMoney',saleMoney)\n      money.value = money.value - saleMoney\n    }\n    // 将数据提供给后代组件 provide\n    provide('money', money)\n    // 将函数提供给后代组件 provide\n    provide('changeMoney', changeMoney)\n\n    return { money }\n  }\n}\n<\/script>\n<style scoped lang=\"less\"></style>\n\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v("<template>\n  <div class=\"container\">\n    <h2>子组件 {{money}}</h2>\n    <hr>\n    <GrandSon />\n  </div>\n</template>\n<script>\nimport { inject } from 'vue'\nimport GrandSon from './GrandSon.vue'\nexport default {\n  name: 'Son',\n  components: {\n    GrandSon\n  },\n  setup () {\n    // 接收祖先组件提供的数据\n    const money = inject('money')\n    return { money }\n  }\n}\n<\/script>\n<style scoped lang=\"less\"></style>\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v("<template>\n  <div class=\"container\">\n    <h3>孙组件 {{money}} <button @click=\"fn\">消费20</button></h3>\n  </div>\n</template>\n<script>\nimport { inject } from 'vue'\nexport default {\n  name: 'GrandSon',\n  setup () {\n    const money = inject('money')\n    // 孙组件，消费50，通知父组件App.vue组件，进行修改\n    // 不能自己修改数据，遵循单选数据流原则，大白话：数据谁定义谁修改\n    const changeMoney = inject('changeMoney')\n    const fn = () => {\n      changeMoney(20)\n    }\n    return {money, fn}\n  }\n}\n<\/script>\n<style scoped lang=\"less\"></style>\n")])]),a("p",[s._v("总结：")]),a("ul",[a("li",[s._v("provide函数提供数据和函数给后代组件使用")]),a("li",[s._v("inject函数给当前组件注入provide提供的数据和函数")])]),a("h2",[s._v("v-model语法糖")]),a("p",[s._v("在vue2.0中v-mode语法糖简写的代码 "),a("code",{pre:!0},[s._v('<Son :value="msg" @input="msg=$event" />')])]),a("p",[s._v("在vue3.0中v-model语法糖有所调整："),a("code",{pre:!0},[s._v('<Son :modelValue="msg" @update:modelValue="msg=$event" />')])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v('<template>\n  <div class="container">\n    \x3c!-- 如果你想获取原生事件事件对象 --\x3e\n    \x3c!-- 如果绑定事函数 fn fn(e){ // e 就是事件对象 } --\x3e\n    \x3c!-- 如果绑定的是js表达式  此时提供一个默认的变量 $event --\x3e\n    <h1 @click="$event.target.style.color=\'red\'">父组件 {{count}}</h1>\n    <hr>\n    \x3c!-- 如果你想获取自定义事件  --\x3e\n    \x3c!-- 如果绑定事函数 fn fn(data){ // data 触发自定义事件的传参 } --\x3e\n    \x3c!-- 如果绑定的是js表达式  此时 $event代表触发自定义事件的传参 --\x3e\n    \x3c!-- <Son :modelValue="count" @update:modelValue="count=$event" /> --\x3e\n    <Son v-model="count" />\n  </div>\n</template>\n<script>\nimport { ref } from \'vue\'\nimport Son from \'./Son.vue\'\nexport default {\n  name: \'App\',\n  components: {\n    Son\n  },\n  setup () {\n    const count = ref(10)\n    return { count }\n  }\n}\n<\/script>\n')])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v("<template>\n  <div class=\"container\">\n    <h2>子组件 {{modelValue}} <button @click=\"fn\">改变数据</button></h2>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'Son',\n  props: {\n    modelValue: {\n      type: Number,\n      default: 0\n    }\n  },\n  setup (props, {emit}) {\n    const fn = () => {\n      // 改变数据\n      emit('update:modelValue', 100)\n    }\n    return { fn }\n  }\n}\n<\/script>\n")])]),a("p",[s._v("总结： vue3.0封装组件支持v-model的时候，父传子"),a("code",{pre:!0},[s._v(":modelValue")]),s._v(" 子传父 "),a("code",{pre:!0},[s._v("@update:modelValue")])]),a("p",[s._v("补充： vue2.0的 "),a("code",{pre:!0},[s._v("xxx.sync")]),s._v(" 语法糖解析 父传子 "),a("code",{pre:!0},[s._v(":xxx")]),s._v(" 子传父 "),a("code",{pre:!0},[s._v("@update:xxx")]),s._v(" 在vue3.0 使用 "),a("code",{pre:!0},[s._v("v-model:xxx")]),s._v(" 代替。")])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},1776:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("h1",[s._v("vue中解析并渲染markdown文件")]),a("p",[s._v("1."),a("code",{pre:!0},[s._v("package.json")]),s._v("文件中添加以下依赖，然后重新运行npm install")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"vue-template-compiler"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"2.6.10"')]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"github-markdown-css"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"^4.0.0"')]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"highlight.js"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"^10.5.0"')]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"html-loader"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"^1.3.2"')]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"markdown-it"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"^12.0.4"')]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"markdown-it-container"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"^3.0.0"')]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"markdown-loader"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"^6.0.0"')]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"vue-loader"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"^15.9.6"')]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"vue-markdown-loader"')]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"^2.4.1"')]),s._v("\n")])]),a("p",[s._v("2."),a("code",{pre:!0},[s._v("vue.config.js")]),s._v("中添加以下配置:")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("module")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("exports")]),s._v(" = {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("chainWebpack")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("config")]),s._v(" =>")]),s._v(" {\n    config."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("module")]),s._v("\n      ."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("rule")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'md'")]),s._v(")\n      ."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("test")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/\\.md/")]),s._v(")\n      ."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue-loader'")]),s._v(")\n        ."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("loader")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue-loader'")]),s._v(")\n        ."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("end")]),s._v("()\n      ."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue-markdown-loader'")]),s._v(")\n        ."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("loader")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue-markdown-loader/lib/markdown-compiler'")]),s._v(")\n        ."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("options")]),s._v("({\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("wrapper")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'article'")]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("wrapperName")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'123'")]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("raw")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("preventExtract")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("use")]),s._v(": [\n            ["),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'markdown-it-container'")]),s._v("), "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'tip'")]),s._v("],\n            ["),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'markdown-it-container'")]),s._v("), "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'warning'")]),s._v("],\n            ["),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'markdown-it-container'")]),s._v("), "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'danger'")]),s._v("],\n            ["),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'markdown-it-container'")]),s._v("), "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'details'")]),s._v("],\n          ],\n        })\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// .end()")]),s._v("\n  }\n}\n")])]),a("p",[s._v("3."),a("code",{pre:!0},[s._v("main.js")]),s._v("中添加:")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'github-markdown-css'")]),s._v("\n")])]),a("p",[s._v("4."),a("code",{pre:!0},[s._v("App.vue")]),s._v("中引入.md文件")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"app"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"markdown-body"')]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("markdown-test")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-slot:footer")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("test"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("footer"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("markdown-test")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<script>\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" markdownTest "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./components/markdownTest.md'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'App'")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("components")]),s._v(": {\n    markdownTest\n  }\n}\n<\/script>\n")])]),a("p",[s._v("5.markdownTest.md文件的编写：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-markdown"}},[a("span",{pre:!0,attrs:{class:"hljs-section"}},[s._v("#### 按钮状态")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("1.")]),s._v(" 普通状态\n"),a("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("2.")]),s._v(" hover 鼠标悬停状态\n"),a("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("3.")]),s._v(" active 点击状态\n"),a("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("4.")]),s._v(" focus 获取焦点状态\n"),a("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("5.")]),s._v(" 忙碌/等待状态\n"),a("span",{pre:!0,attrs:{class:"hljs-bullet"}},[s._v("6.")]),s._v(" 禁用状态\n\n​"),a("span",{pre:!0,attrs:{class:"hljs-code"}},[s._v("```scss\nbutton {  \n    background: orange;\n    &:hover {\n        \n    }\n    &:active {\n        \n    }\n    &:focus {\n        \n    }\n    &.busy {\n        \n    }\n    &:disabled {\n        \n    }\n}\n​```")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("slot")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"footer"')]),s._v(">")])]),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("slot")]),s._v(">")])]),s._v("\n\n::: warning\n注意：\n:::\n\n::: danger\n警告：\n:::\n\n::: tip\n提示：这是一段提示\n:::\n\n"),a("span",{pre:!0,attrs:{class:"hljs-code"}},[s._v("```md\n{{ 1 + 1 }}\n")])])]),a("blockquote",[a("p",[s._v("vue.config.js中配置markdown-it-container是为了渲染引用块的样式和vuepress中的类似，.md文件中支持插槽的写法，还能引入全局组件。")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},5127:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("h1",[s._v("人力资源后台管理vue2项目")]),a("p",[s._v("这是我做的第二个项目，较第一个项目更庞大，业务逻辑也更多，对我了解和熟悉前端项目的搭建与完备有着很大的帮助 项目基于vue和element-ui，用的vue-element-admin的后台前端解决方案")]),a("p",[a("img",{attrs:{src:"'./img/image-20200810012833240.png'",alt:"项目设计"}})]),a("h2",[s._v("vue-element-admin的了解和介绍")]),a("p",[a("a",{attrs:{href:"https://panjiachen.gitee.io/vue-element-admin-site/zh/"}},[s._v("vue-element-admin")]),s._v(" 是一个后台前端解决方案，它基于 "),a("a",{attrs:{href:"https://github.com/vuejs/vue"}},[s._v("vue")]),s._v(" 和 "),a("a",{attrs:{href:"https://github.com/ElemeFE/element"}},[s._v("element-ui")]),s._v("实现。它使用了最新的前端技术栈，内置了 i18 国际化解决方案，动态路由，权限验证，提炼了典型的业务模型，提供了丰富的功能组件，它可以帮助你快速搭建企业级中后台产品原型。")]),a("p",[a("a",{attrs:{href:"http://panjiachen.github.io/vue-element-admin"}},[s._v("vue-element-admin")]),s._v(" 是一个后台集成方案, 集成了PC项目中很多的业务场景和功能, 尤其在当下SPA的趋势下,我们可以从中获得很多成熟的解决方案.")]),a("blockquote",[a("p",[a("a",{attrs:{href:"http://panjiachen.github.io/vue-element-admin"}},[s._v("vue-element-admin")]),s._v(" 有一个成熟的"),a("a",{attrs:{href:"https://github.com/PanJiaChen/%3Evue-element-admin"}},[s._v("集成方案")]),s._v("，里面包含了所有的业务功能和场景,并不适合直接拿来进行二次开发, 但是可以通过该项目中的一个案例来进行学习和使用. ./img/ 这里是"),a("a",{attrs:{href:"https://panjiachen.gitee.io/vue-element-admin-site/zh/"}},[s._v("官网地址")])])]),a("p",[s._v("这里是"),a("a",{attrs:{href:"https://panjiachen.github.io/vue-element-admin/#/dashboard"}},[s._v("线上demo地址")])]),a("blockquote",[a("p",[s._v("如果你想查看该项目的具体功能和效果，可以拉取代码，启动进行预览￥")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[a("span",{pre:!0,attrs:{class:"hljs-variable"}},[s._v("$git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("clone")]),s._v(" https://github.com/PanJiaChen/vue-element-admin.git  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#拉取代码")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-variable"}},[s._v("$cd")]),s._v(" vue-element-admin "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#切换到具体目录下")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-variable"}},[s._v("$npm")]),s._v(" run dev  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#启动开发调试模式  查看package.json文件的scripts可知晓启动命令")]),s._v("\n")])]),a("p",[a("strong",[a("code",{pre:!0},[s._v("注意")])]),s._v("：当前项目下载速度如果过慢，可以直接下载代码的压缩包运行")]),a("p",[a("img",{attrs:{src:t(929),alt:"基础模板"}})]),a("blockquote",[a("p",[s._v("集成方案并不适合我们直接拿来进行二次开发，"),a("a",{attrs:{href:"https://github.com/PanJiaChen/vue-admin-template"}},[s._v("基础模板")]),s._v("则是一个更好的选择")])]),a("p",[s._v("基础模板, 包含了基本的 "),a("strong",[s._v("登录 / 鉴权 / 主页布局")]),s._v(" 的一些基础功能模板, 我们可以直接在该模板上进行功能的扩展和项目的二次开发")]),a("h2",[s._v("Axios的拦截器介绍")]),a("blockquote",[a("p",[s._v("该项目采用了API的单独模块封装和axios拦截器的方式进行开发")])]),a("p",[s._v("axios的拦截器原理如下")]),a("p",[a("img",{attrs:{src:"'./img/image-20200811012945409.png'",alt:"image-20200811012945409"}})]),a("p",[s._v("axios拦截器")]),a("p",[s._v("axios作为网络请求的第三方工具, 可以进行请求和响应的拦截")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 创建了一个新的axios实例")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" service = axios."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("create")]),s._v("({\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("baseURL")]),s._v(": process."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("env")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("VUE_APP_BASE_API")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// url = base url + request url")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// withCredentials: true, // send cookies when cross-domain requests")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("timeout")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 超时时间")]),s._v("\n})\n")])]),a("p",[s._v("请求拦截器")]),a("p",[s._v("请求拦截器主要处理 token的**"),a("code",{pre:!0},[s._v("统一注入问题")]),s._v("**")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// axios的请求拦截器")]),s._v("\nservice."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("interceptors")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("request")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("(\n  "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("config")]),s._v(" =>")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// do something before request is sent")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (store."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("getters")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("token")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// let each request carry token")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// ['X-Token'] is a custom headers key")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// please modify it according to the actual situation")]),s._v("\n      config."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("headers")]),s._v("["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'X-Token'")]),s._v("] = "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getToken")]),s._v("()\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" config\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("error")]),s._v(" =>")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// do something with request error")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(error) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// for debug")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Promise")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("reject")]),s._v("(error)\n  }\n)\n")])]),a("p",[s._v("响应拦截器")]),a("p",[s._v("响应拦截器主要处理 返回的**"),a("code",{pre:!0},[s._v("数据异常")]),s._v("** 和**"),a("code",{pre:!0},[s._v("数据结构")]),s._v("**问题")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 响应拦截器")]),s._v("\nservice."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("interceptors")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("response")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("(\n  "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("response")]),s._v(" =>")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" res = response."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// if the custom code is not 20000, it is judged as an error.")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (res."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("code")]),s._v(" !== "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20000")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Message")]),s._v("({\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": res."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("message")]),s._v(" || "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Error'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'error'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("duration")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(" * "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1000")]),s._v("\n      })\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (res."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("code")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("50008")]),s._v(" || res."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("code")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("50012")]),s._v(" || res."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("code")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("50014")]),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// to re-login")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("MessageBox")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("confirm")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'You have been logged out, you can cancel to stay on this page, or log in again'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Confirm logout'")]),s._v(", {\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("confirmButtonText")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Re-Login'")]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("cancelButtonText")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Cancel'")]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'warning'")]),s._v("\n        })."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("then")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" {\n          store."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("dispatch")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'user/resetToken'")]),s._v(")."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("then")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" {\n            location."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("reload")]),s._v("()\n          })\n        })\n      }\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Promise")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("reject")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Error")]),s._v("(res."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("message")]),s._v(" || "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Error'")]),s._v("))\n    } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" res\n    }\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("error")]),s._v(" =>")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'err'")]),s._v(" + error) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// for debug")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Message")]),s._v("({\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": error."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("message")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'error'")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("duration")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(" * "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1000")]),s._v("\n    })\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Promise")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("reject")]),s._v("(error)\n  }\n)\n")])]),a("blockquote",[a("p",[s._v("这里为了后续更清楚的书写代码,我们将原有代码注释掉,换成如下代码")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 导出一个axios的实例  而且这个实例要有请求拦截器 响应拦截器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" axios "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'axios'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" service = axios."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("create")]),s._v("() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 创建一个axios的实例")]),s._v("\nservice."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("interceptors")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("request")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 请求拦截器")]),s._v("\nservice."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("interceptors")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("response")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 响应拦截器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" service "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 导出axios实例")]),s._v("\n")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},9398:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("hr"),a("p",[s._v("title: 优化设置Token date: 2022-10-27 10:49:33 categories: 黑马头条项目 tags:")]),a("ul",[a("li",[s._v("项目总结")]),a("li",[s._v("vue")]),a("li",[s._v("token")])]),a("hr"),a("h2",[a("strong",[s._v("优化设置Token")])]),a("p",[s._v("项目中的接口大部分需要我们提供token才有访问权限 通过接口文档我们可以看到，后端接口要求我们将token放到请求头header中并以下面的格式发送 "),a("img",{attrs:{src:t(2953),alt:"token发送格式"}})]),a("blockquote",[a("p",[s._v("字段名称: Authorization 字段值: Bearer token")])]),a("p",[s._v("方式一: 在每次请求的时候手动添加(麻烦)。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("axios")]),s._v("({\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("method")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("header")]),s._v(": {\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Authorization")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Bearer token'")]),s._v("\n    }\n})\n")])]),a("p",[s._v("方式二：使用请求拦截器统一添加(推荐，更方便)")]),a("p",[a("img",{attrs:{src:t(7628),alt:"请求拦截器"}})]),a("p",[s._v("在 "),a("code",{pre:!0},[s._v("src/utils/request.js")]),s._v(" 中添加拦截器统一设置 token：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/**\n * 请求模块\n */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" axios "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'axios'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" store "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/store'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" request = axios."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("create")]),s._v("({\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("baseURL")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'http://toutiao.itheima.net'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 接口的基准地址")]),s._v("\n})\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 请求拦截器")]),s._v("\nrequest."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("interceptors")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("request")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("config")]),s._v(" =>")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// config: 本次请求的配置对象")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// config 里面有一个属性：header")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { user } = store."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("state")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(user && user."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("token")]),s._v(") {\n        config."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("header")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("Authorization")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`Bearer "),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${user.token}")]),s._v("`")]),s._v("\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" config\n}, "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("error")]),s._v(" =>")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Promise")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("reject")]),s._v("(error)\n})\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//响应拦截器")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" request\n")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},3879:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("hr"),a("p",[s._v("title: 关于.postcssrc.js配置文件 date: 2022-10-27 9:52:23 categories: 黑马头条项目 tags:")]),a("ul",[a("li",[s._v("项目总结")]),a("li",[s._v("vue")]),a("li",[s._v("postcssrc插件")])]),a("hr"),a("h2",[a("strong",[s._v("关于"),a("code",{pre:!0},[s._v(".postcssrc.js")]),s._v("配置文件")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("module")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("exports")]),s._v(" = {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("plugin")]),s._v(": {\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'autoprefixer'")]),s._v(": {\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("browsers")]),s._v(": ["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Android >= 4.0'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'iOS >= 8'")]),s._v("]\n        },\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'postcss-pxtorem'")]),s._v(": {\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("rootValue")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("37.5")]),s._v(",\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("propList")]),s._v(": ["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'*'")]),s._v("]\n        }\n    }\n}\n")])]),a("p",[a("code",{pre:!0},[s._v(".postcssrc.js")]),s._v("是 PostCSS 的配置文件。")]),a("p",[s._v("（1）PostCSS 介绍")]),a("p",[a("a",{attrs:{href:"https://postcss.org/"}},[s._v("PostCSS")]),s._v(" 是一个处理 CSS 的处理工具，本身功能比较单一，它主要负责解析 CSS 代码，再交由插件来进行处理，它的插件体系非常强大，所能进行的操作是多种多样的，例如：")]),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/postcss/autoprefixer"}},[s._v("Autoprefixer")]),s._v(" 插件可以实现自动添加浏览器相关的声明前缀")]),a("li",[a("a",{attrs:{href:"https://github.com/csstools/postcss-preset-env"}},[s._v("PostCSS Preset Env")]),s._v(" 插件可以让你使用更新的CSS语法特性并实现向下兼容")]),a("li",[a("a",{attrs:{href:"https://github.com/cuth/postcss-pxtorem"}},[s._v("postcss-pxtorem")]),s._v(" 可以实现将 px 转换为 rem")]),a("li",[s._v("...")])]),a("p",[s._v("目前 PostCSS 已经有 "),a("a",{attrs:{href:"https://github.com/postcss/postcss/blob/master/docs/plugins.md"}},[s._v("200 多个功能各异的插件")]),s._v("。开发人员也可以根据项目的需要，开发出自己的 PostCSS 插件。")]),a("p",[s._v("PostCSS 一般不单独使用，而是与已有的构建工具进行集成。")]),a("p",[a("a",{attrs:{href:"https://cli.vuejs.org/zh/guide/css.html#postcss"}},[s._v("Vue CLI 默认集成了 PostCSS")]),s._v("，并且默认开启了 "),a("a",{attrs:{href:"https://github.com/postcss/autoprefixer"}},[s._v("autoprefixer")]),s._v(" 插件。")]),a("blockquote",[a("p",[s._v("Vue CLI内部使用了PostCSS。 你可以通过"),a("code",{pre:!0},[s._v(".postcssrc")]),s._v("或任何 "),a("a",{attrs:{href:"https://github.com/michael-ciniawsky/postcss-load-config"}},[s._v("postcss-load-config")]),s._v("支持的配置资源来配置PostCSS 也可以通过vue.config.js中的css.loaderOptions.postcss配置 "),a("a",{attrs:{href:"https://github.com/postcss/postcss-loader"}},[s._v("postcss-loader")]),s._v("。 我们默认开启了"),a("a",{attrs:{href:"https://github.com/postcss/autoprefixer"}},[s._v("autoprefixer")]),s._v("。如果要配置目标浏览器，可使用 "),a("code",{pre:!0},[s._v("package.json")]),s._v(" 的 "),a("a",{attrs:{href:"https://cli.vuejs.org/zh/guide/browser-compatibility.html#browserslist"}},[s._v("browserslist")]),s._v(" 字段。")])]),a("p",[s._v("（2）Autoprefixer 插件的配置")]),a("p",[a("img",{attrs:{src:t(7725),alt:"Autoprefixer插件的配置"}})]),a("p",[a("a",{attrs:{href:"https://github.com/postcss/autoprefixer"}},[s._v("autoprefixer")]),s._v("是一个自动添加浏览器前缀的 PostCss 插件，"),a("code",{pre:!0},[s._v("browsers")]),s._v(" 用来配置兼容的浏览器版本信息，但是写在这里的话会引起编译器警告。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-error"}},[s._v("Replace Autoprefixer browsers option to Browserslist config.\nUse browserslist key in package.json or .browserslistrc file.\n\nUsing browsers option can cause errors. Browserslist config\ncan be used for Babel, Autoprefixer, postcss-normalize and other tools.\n\nIf you really need to use option, rename it to overrideBrowserslist.\n\nLearn more at:\nhttps://github.com/browserslist/browserslist#readme\nhttps://twitter.com/browserslist\n")])]),a("p",[s._v("警告意思就是说你应该将 "),a("code",{pre:!0},[s._v("browsers")]),s._v(" 选项写到 "),a("code",{pre:!0},[s._v("package.json")]),s._v(" 或 "),a("code",{pre:!0},[s._v(".browserlistrc")]),s._v(" 文件中。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-default"}},[s._v("[Android]\n>= 4.0\n\n[iOS]\n>= 8\n")])]),a("blockquote",[a("p",[s._v("具体语法请"),a("a",{attrs:{href:"https://github.com/browserslist/browserslist"}},[s._v("参考这里")]),s._v("。 （3）postcss-pxtorem 插件的配置")])]),a("p",[a("img",{attrs:{src:t(7194),alt:"postcss-pxtorem插件的配置"}})]),a("ul",[a("li",[a("code",{pre:!0},[s._v("rootValue")]),s._v(": 表示根元素字体大小，它会根据元素大小进行单位转换")]),a("li",[a("code",{pre:!0},[s._v("propList")]),s._v(": 用来设定可以从px转为rem的属性 "),a("ul",[a("li",[s._v("例如"),a("code",{pre:!0},[s._v("*")]),s._v("就是所有的属性都要转换，"),a("code",{pre:!0},[s._v("width")]),s._v("就是仅仅转换"),a("code",{pre:!0},[s._v("width")]),s._v("属性")])])])]),a("p",[a("code",{pre:!0},[s._v("rootValue")]),s._v(" 应该如何设置呢？")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-default"}},[s._v("如果你使用的是基于 lib-flexable 的 REM 适配方案，则应该设置为你的设计稿的十分之一。\n例如设计稿是 750 宽，则应该设置为 75。\n")])]),a("p",[s._v("大多数设计稿的原型都是以 iphone6 为原型，iphone6 设备的宽是 750，我们的设计稿也是这样。")]),a("p",[s._v("但是 Vant 建议设置为 37.5，为什么呢？")]),a("blockquote",[a("p",[s._v("因为 Vant 是基于 375 写的，所以如果你设置为 75 的话，Vant 的样式就小了一半。")])]),a("p",[s._v("所以如果设置为"),a("code",{pre:!0},[s._v("37.5")]),s._v("的话，Vant 的样式是没有问题的，但是我们在测量设计稿的时候都必须除2才能使用，否则就会变得很大。")]),a("p",[s._v("这样做其实也没有问题，但是有没有更好的办法呢？我就想实现测量多少写多少（不用换算）。于是聪明的你就想，可以不可以这样来做？")]),a("ul",[a("li",[s._v("如果是 Vant 的样式，就把 "),a("code",{pre:!0},[s._v("rootValue")]),s._v(" 设置为 37.5 来转换")]),a("li",[s._v("如果是我们的样式，就按照 75 的 "),a("code",{pre:!0},[s._v("rootValue")]),s._v(" 来转换")])]),a("p",[s._v("通过"),a("a",{attrs:{href:"https://github.com/cuth/postcss-pxtorem#options"}},[s._v("查阅文档")]),s._v("我们可以看到 "),a("code",{pre:!0},[s._v("rootValue")]),s._v(" 支持两种参数类型：")]),a("ul",[a("li",[s._v("数字：固定值")]),a("li",[s._v("函数：动态计算返回 "),a("ul",[a("li",[s._v("postcss-pxtorem处理每个 CSS 文件的时候都会来调用这个函数")]),a("li",[s._v("它会把被处理的 CSS 文件相关的信息通过参数传递给该函数")])])])]),a("p",[s._v("所以我们修改配置如下:")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/**\n * PostCSS配置文件\n */")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("module")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("exports")]),s._v(" - {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 配置要是用的PostCSS插件")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("plugins")]),s._v(": {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 配置使用 postcss-pxtorem 插件")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 作用：把px 转为 rem")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'postcss-pxtorem'")]),s._v(": {\n            rootValue ({ file }) {\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" file."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("indexOf")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vant'")]),s._v(") !== -"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(" ? "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("37.5")]),s._v(" : "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("75")]),s._v("\n            },\n            "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("propList")]),s._v(": ["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'*'")]),s._v("]\n        }\n    }\n}\n")])]),a("p",[s._v("配置完毕，把服务重启一下，最后测试，very good。")])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},625:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("hr"),a("p",[s._v("title: 关于后端返回的大数字问题 date: 2022-10-30 10:29:22 categories: 黑马头条项目 tags:")]),a("ul",[a("li",[s._v("项目总结")]),a("li",[s._v("vue")]),a("li",[s._v("后端的大数字")])]),a("hr"),a("h2",[a("strong",[s._v("关于后端返回的大数字问题")])]),a("p",[s._v("我们在请求文章详情的接口时会返回404，是因为我们请求发送的文章id不正确")]),a("p",[s._v("javaScript可以准确地表示2^-53到2^53之间的整数（不包含端点），超过这个范围就无法精确的表示这个值，因此使得javaScript不适合进行科学和金融方面的精确计算")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Math")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("pow")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("53")]),s._v(")  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 9007199254740992")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("9007199254740992")]),s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 9007199254740992")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("9007199254740993")]),s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 9007199254740992")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Math")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("pow")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("53")]),s._v(") === "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Math")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("pow")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("53")]),s._v(") + "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// true")]),s._v("\n")])]),a("p",[s._v("ES6 引入了"),a("code",{pre:!0},[s._v("Number.MAX_SAFE_INTEGER")]),s._v("和"),a("code",{pre:!0},[s._v("Number.MIN_SAFE_INTEGER")]),s._v("这两个常量，用来表示这个范围的上下限。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Number")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("MAX_SAFE_INTEGER")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Math")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("pow")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("53")]),s._v(") - "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Number")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("MAX_SAFE_INTEGER")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("9007199254740991")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// true")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Number")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("MIN_SAFE_INTEGER")]),s._v(" === -"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Number")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("MAX_SAFE_INTEGER")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Number")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("MIN_SAFE_INTEGER")]),s._v(" === -"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("9007199254740991")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// true")]),s._v("\n")])]),a("p",[s._v("上面代码可以看出javaScript可以精确表示的整数的极限")]),a("p",[s._v("后端返回的数据一般都是JSON格式的字符串")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('\'{ "id": 9007199254740995, "name": "Jack", "age": 18 }\'')]),s._v("\n")])]),a("p",[s._v("如果这个字符不做任何处理，你能方便的获取到字符串中的指定数据吗？非常麻烦。所以我们要把它转换为 JavaScript 对象来使用就很方便了。")]),a("p",[s._v("幸运的是 axios 为了方便我们使用数据，它会在内部使用 "),a("code",{pre:!0},[s._v("JSON.parse()")]),s._v(" 把后端返回的数据转为 JavaScript 对象。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// { id: 9007199254740996, name: 'Jack', age: 18 }")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("JSON")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("parse")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('\'{ "id": 9007199254740995, "name": "Jack", "age": 18 }\'')]),s._v(")\n")])]),a("p",[s._v("可以看到，超出安全整数范围的 id 无法精确表示，这个问题并不是 axios 的错。")]),a("p",[s._v("了解了什么是大整数的概念，接下来的问题是如何解决？")]),a("p",[a("a",{attrs:{href:"https://github.com/sidorares/json-bigint"}},[s._v("json-bigint")]),s._v(" 是一个第三方包，它可以帮我们很好的处理这个问题。")]),a("p",[s._v("使用它的第一步就是把它安装到你的项目中。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-sh"}},[s._v("npm i json-bigint\n")])]),a("p",[s._v("下面是使用它的一个简单示例。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" jsonStr = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'{ \"art_id\": 1245953273786007552}'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("JSON")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("parse")]),s._v("(jsonStr))  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 1245953273786007600")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// JSON.stringify()")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// JSONBig 可以处数据中超过 JavaScript 安全整数范围的问题")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("JSON")]),s._v("Big."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("parse")]),s._v("(jsonStr)) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 把 JSON 格式的字符串转为 JavaScript 对象")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 使用的时候需要把 BigNumber 类型的数据转为字符串来使用")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("JSON")]),s._v("Big."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("parse")]),s._v("(jsonStr)."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("art_id")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("toString")]),s._v("()) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 1245953273786007552")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("JSON")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("stringify")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("JSON")]),s._v("Big."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("parse")]),s._v("(jsonStr)))\n\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("JSON")]),s._v("Big."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("stringify")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("JSON")]),s._v("Big."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("parse")]),s._v("(jsonStr))) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 把 JavaScript 对象 转为 JSON 格式的字符串转")]),s._v("\n")])]),a("blockquote",[a("p",[s._v("json-bigint 会把超出 JS 安全整数范围的数字转为一个 BigNumber 类型的对象，对象数据是它内部的一个算法处理之后的，我们要做的就是在使用的时候转为字符串来使用。")])]),a("p",[s._v("通过 Axios 请求得到的数据都是 Axios 处理（JSON.parse）之后的，我们应该在 Axios 执行处理之前手动使用 json-bigint 来解析处理。Axios 提供了自定义处理原始后端返回数据的 API："),a("code",{pre:!0},[s._v("transformResponse")]),s._v(" 。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" axios "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'axios'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" jsonBig "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'json-bigint'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" json = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('\'{ "value" : 9223372036854775807, "v2": 123 }\'')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(jsonBig."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("parse")]),s._v("(json))\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" request = axios."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("create")]),s._v("({\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("baseURL")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'http://ttapi.research.itcast.cn/'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 接口基础路径")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// transformResponse 允许自定义原始的响应数据（字符串）")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("transformResponse")]),s._v(": ["),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("data")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("try")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如果转换成功则返回转换的数据结果")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" jsonBig."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("parse")]),s._v("(data)\n    } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("catch")]),s._v(" (err) {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如果转换失败，则包装为统一数据格式并返回")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n        data\n      }\n    }\n  }]\n})\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" request\n\n")])]),a("blockquote",[a("p",[s._v("扩展：ES2020 BigInt ES2020 引入了一种新的数据类型 BigInt（大整数），来解决这个问题。BigInt 只用来表示整数，没有位数的限制，任何位数的整数都可以精确表示。 参考链接： "),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/BigInt"}},[s._v("链接1")]),a("a",{attrs:{href:"http://es6.ruanyifeng.com/#docs/number#BigInt-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"}},[s._v("链接2")])])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},3775:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("hr"),a("p",[s._v("title: 关于用户token的处理 date: 2022-10-26 10:02:33 categories: 黑马头条项目 tags:")]),a("ul",[a("li",[s._v("项目总结")]),a("li",[s._v("vue")]),a("li",[s._v("token")])]),a("hr"),a("h2",[a("strong",[s._v("处理用户 Token")])]),a("p",[a("code",{pre:!0},[s._v("Token")]),s._v("是用户登录成功后服务端返回的一个身份令牌，在项目中的多个业务中需要使用到:")]),a("ul",[a("li",[s._v("访问需要授权的API")]),a("li",[s._v("校验页面的访问权限")]),a("li",[s._v("...")])]),a("p",[s._v("但是我们只有在第一次用户登录成功之后才能拿到"),a("code",{pre:!0},[s._v("Token")]),s._v("。 所以为了能在其它模块中获取到"),a("code",{pre:!0},[s._v("Token")]),s._v("数据，我们需要把它存储到一个公共的位置，方便随时取用。 往哪儿存？")]),a("ul",[a("li",[s._v("本地储存 "),a("ul",[a("li",[s._v("获取麻烦")]),a("li",[s._v("数据不是响应式")])])]),a("li",[s._v("Vuex容器（推荐） "),a("ul",[a("li",[s._v("获取方便")]),a("li",[s._v("响应式的")])])])]),a("p",[s._v("使用容器存储"),a("code",{pre:!0},[s._v("Token")]),s._v("的思路：")]),a("p",[a("img",{attrs:{src:t(4140),alt:"容器存储Token"}})]),a("ul",[a("li",[s._v("登录成功后，将"),a("code",{pre:!0},[s._v("Token")]),s._v("存储到"),a("code",{pre:!0},[s._v("Vuex")]),s._v("容器中 "),a("ul",[a("li",[s._v("获取方便")]),a("li",[s._v("响应式")])])]),a("li",[s._v("为了持久化，还需要把"),a("code",{pre:!0},[s._v("Token")]),s._v("存到本地储存 "),a("ul",[a("li",[s._v("持久化")])])])]),a("p",[s._v("下面是具体实现")]),a("p",[s._v("1、在"),a("code",{pre:!0},[s._v("src/store/index.js")]),s._v("中")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vuex")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vuex'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vuex")]),s._v(")\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vuex")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Store")]),s._v("({\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("state")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 用户登录的状态信息")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("user")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("JSON")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("parse")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("window")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("localStorage")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getItem")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"TOUTIAO_USER"')]),s._v("))\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// user: null")]),s._v("\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("mutations")]),s._v(": {\n        setUser (state, user) {\n            state."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("user")]),s._v(" = user\n            "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("window")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("localStorage")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setItem")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'TOUTIAO_USER'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("JSON")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("stringify")]),s._v("(user))\n        }\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("action")]),s._v(": {\n\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("modules")]),s._v(": {\n\n    }\n})\n")])]),a("p",[s._v("2、登录成功以后将后端返回的 token 相关数据存储到容器中")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" onLogin () {\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$toast")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("loading")]),s._v("({\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("duration")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 持续时间，0表示持续展示不停止")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("forbidClick")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 是否禁止背景点击")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("message")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'登录中...'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 提示消息")]),s._v("\n    })\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("try")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" res = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("login")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("user")]),s._v(")\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$store")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("commit")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'setUser'")]),s._v(",res."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v(")\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$toast")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("success")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'登陆成功'")]),s._v(")\n    } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("catch")]),s._v(" (err) {\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'登录失败'")]),s._v(", err)\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$toast")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("fail")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'登录失败，手机号或验证码错误'")]),s._v(")\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 停止 loading，它会把当前页面中所有的 toast 都给清除")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// loginToast.clear()")]),s._v("\n}\n")])]),a("h2",[a("strong",[s._v("优化封装本地存储操作模块")])]),a("p",[s._v("创建"),a("code",{pre:!0},[s._v("src/utils/storage.js")]),s._v("模块。")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getItem")]),s._v(" = name => {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" data = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("window")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("localStorage")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getItem")]),s._v("(name)\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("try")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("JSON")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("parse")]),s._v("(data)\n    } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("catch")]),s._v(" (err) {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" data\n    }\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setItem")]),s._v(" = ("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("name, value")]),s._v(") => {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" value === "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'object'")]),s._v(") {\n        value = "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("JSON")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("stringify")]),s._v("(value)\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("window")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("localStorage")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setItem")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'name'")]),s._v(",value)\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("removeItem")]),s._v(" = name => {\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("window")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("localStorage")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("removeItem")]),s._v("(name)\n}\n")])]),a("h2",[a("strong",[s._v("关于 Token 过期问题")])]),a("p",[s._v("登录成功之后后端会返回两个 Token：")]),a("ul",[a("li",[a("code",{pre:!0},[s._v("token")]),s._v("：访问令牌，有效期2小时")]),a("li",[a("code",{pre:!0},[s._v("refresh_token")]),s._v("：刷新令牌，有效期14天，用于访问令牌过期之后重新获取新的访问令牌")])]),a("p",[s._v("我们的项目接口中设定的 "),a("code",{pre:!0},[s._v("Token")]),s._v(" 有效期是 "),a("code",{pre:!0},[s._v("2 小时")]),s._v("，超过有效期服务端会返回 "),a("code",{pre:!0},[s._v("401")]),s._v(" 表示 Token 无效或过期了。")]),a("p",[s._v("为什么过期时间这么短？")]),a("ul",[a("li",[s._v("为了安全，例如 Token 被别人盗用")])]),a("p",[s._v("过期了怎么办？")]),a("ul",[a("li",[a("s",[s._v("让用户重新登录")]),s._v("，用户体验太差了")]),a("li",[s._v("使用"),a("code",{pre:!0},[s._v("refresh-token")]),s._v("解决"),a("code",{pre:!0},[s._v("token")]),s._v("过期")])]),a("p",[s._v("如何使用 "),a("code",{pre:!0},[s._v("refresh_token")]),s._v(" 解决 "),a("code",{pre:!0},[s._v("token")]),s._v(" 过期？")]),a("p",[s._v("到课程的后面我们开发的业务功能丰富起来之后，再给大家讲解 Token 过期处理。")]),a("p",[s._v("大家需要注意的是"),a("strong",[s._v("在学习测试的时候如果收到 401 响应码，请重新登录再测试")]),s._v("。")]),a("p",[a("img",{attrs:{src:t(2958),alt:"Token 过期处理"}})]),a("p",[s._v("概述：服务器生成"),a("code",{pre:!0},[s._v("token")]),s._v("的过程中，会有两个时间，一个是"),a("code",{pre:!0},[s._v("token")]),s._v("失效时间，一个是"),a("code",{pre:!0},[s._v("token")]),s._v("刷新时间，刷新时间肯定比失效时间长，当用户的 "),a("code",{pre:!0},[s._v("token")]),s._v(" 过期时，你可以拿着过期的"),a("code",{pre:!0},[s._v("token")]),s._v("去换取新的"),a("code",{pre:!0},[s._v("token")]),s._v("，来保持用户的登陆状态，当然你这个过期"),a("code",{pre:!0},[s._v("token")]),s._v("的过期时间必须在刷新时间之内，如果超出了刷新时间，那么返回的依旧是 401。")]),a("p",[s._v("处理流程:")]),a("ol",[a("li",[s._v("在axios的拦截器中加入token刷新逻辑")]),a("li",[s._v("当用户token过期时，去向服务器请求新的 token")]),a("li",[s._v("把旧的token替换为新的token")]),a("li",[s._v("然后继续用户当前的请求")])]),a("p",[s._v("在请求的响应拦截器中统一处理 token 过期：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/**\n * 封装 axios 请求模块\n */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" axios "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"axios"')]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" jsonBig "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"json-bigint"')]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" store "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"@/store"')]),s._v(";\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" router "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"@/router"')]),s._v(";\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// axios.create 方法：复制一个 axios")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" request = axios."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("create")]),s._v("({\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("baseURL")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"http://ttapi.research.itcast.cn/"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 基础路径")]),s._v("\n});\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/**\n * 配置处理后端返回数据中超出 js 安全整数范围问题\n */")]),s._v("\nrequest."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("defaults")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("transformResponse")]),s._v(" = [\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("data")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("try")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" jsonBig."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("parse")]),s._v("(data);\n    } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("catch")]),s._v(" (err) {\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {};\n    }\n  }\n];\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 请求拦截器")]),s._v("\nrequest."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("interceptors")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("request")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("(\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("config")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" user = store."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("state")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("user")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (user) {\n      config."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("headers")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("Authorization")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`Bearer "),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${user.token}")]),s._v("`")]),s._v(";\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Do something before request is sent")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" config;\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("error")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Do something with request error")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Promise")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("reject")]),s._v("(error);\n  }\n);\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 响应拦截器")]),s._v("\nrequest."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("interceptors")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("response")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("(\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 响应成功进入第1个函数")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 该函数的参数是响应对象")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("response")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Any status code that lie within the range of 2xx cause this function to trigger")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Do something with response data")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" response;\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 响应失败进入第2个函数，该函数的参数是错误对象")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("error")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Any status codes that falls outside the range of 2xx cause this function to trigger")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Do something with response error")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如果响应码是 401 ，则请求获取新的 token")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 响应拦截器中的 error 就是那个响应的错误对象")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("dir")]),s._v("(error);\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (error."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("response")]),s._v(" && error."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("response")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("status")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("401")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 校验是否有 refresh_token")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" user = store."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("state")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("user")]),s._v(";\n\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (!user || !user."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("refresh_token")]),s._v(") {\n        router."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/login"')]),s._v(");\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 代码不要往后执行了")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(";\n      }\n\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如果有refresh_token，则请求获取新的 token")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("try")]),s._v(" {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" res = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("axios")]),s._v("({\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("method")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"PUT"')]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"http://ttapi.research.itcast.cn/app/v1_0/authorizations"')]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("headers")]),s._v(": {\n            "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Authorization")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`Bearer "),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${user.refresh_token}")]),s._v("`")]),s._v("\n          }\n        });\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如果获取成功，则把新的 token 更新到容器中")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"刷新 token  成功"')]),s._v(", res);\n        store."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("commit")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"setUser"')]),s._v(", {\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("token")]),s._v(": res."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("token")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 最新获取的可用 token")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("refresh_token")]),s._v(": user."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("refresh_token")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 还是原来的 refresh_token")]),s._v("\n        });\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 把之前失败的用户请求继续发出去")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// config 是一个对象，其中包含本次失败请求相关的那些配置信息，例如 url、method 都有")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// return 把 request 的请求结果继续返回给发请求的具体位置")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("request")]),s._v("(error."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("config")]),s._v(");\n      } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("catch")]),s._v(" (err) {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如果获取失败，直接跳转 登录页")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"请求刷线 token 失败"')]),s._v(", err);\n        router."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/login"')]),s._v(");\n      }\n    }\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Promise")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("reject")]),s._v("(error);\n  }\n);\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" request;\n")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},693:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("h1",[s._v("主页模块")]),a("h2",[s._v("主页的token拦截")]),a("h3",[s._v("权限拦截的流程图")]),a("blockquote",[a("p",[s._v("我们已经完成了登录的过程，并且存储了token，但是此时主页并没有因为token的有无而被控制访问权限")])]),a("p",[s._v("接下来我们需要实现以下如下的流程图")]),a("p",[a("img",{attrs:{src:t(570),alt:"流程图"}})]),a("blockquote",[a("p",[s._v("在基础框架阶段，我们已经知道**"),a("code",{pre:!0},[s._v("src/permission.js")]),s._v("**是专门处理路由权限的，所以我们在这里处理")])]),a("h3",[s._v("流程图转化代码")]),a("p",[a("strong",[s._v("流程图转化的代码")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 权限拦截 导航守卫 路由守卫  router")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" router "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/router'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 引入路由实例")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" store "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/store'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 引入vuex store实例")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("NProgress")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'nprogress'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 引入一份进度条插件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'nprogress/nprogress.css'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 引入进度条样式")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" whiteList = ["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/login'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/404'")]),s._v("] "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 定义白名单  所有不受权限控制的页面")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 路由的前置守卫")]),s._v("\nrouter."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("beforeEach")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("to, "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(", next")]),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("NProgress")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("start")]),s._v("() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 开启进度条")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//  首先判断有无token")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (store."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("getters")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("token")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   如果有token 继续判断是不是去登录页")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (to."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("path")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/login'")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//  表示去的是登录页")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("next")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/'")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 跳到主页")]),s._v("\n    } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("next")]),s._v("() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 直接放行")]),s._v("\n    }\n  } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如果没有token")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (whiteList."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("indexOf")]),s._v("(to."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("path")]),s._v(") > -"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如果找到了 表示在在名单里面")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("next")]),s._v("()\n    } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("next")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/login'")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 跳到登录页")]),s._v("\n    }\n  }\n  "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("NProgress")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("done")]),s._v("() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 手动强制关闭一次  为了解决 手动切换地址时  进度条的不关闭的问题")]),s._v("\n})\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 后置守卫")]),s._v("\nrouter."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("afterEach")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("NProgress")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("done")]),s._v("() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 关闭进度条")]),s._v("\n})\n\n")])]),a("p",[s._v("**")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 权限拦截 导航守卫 路由守卫  router")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" router "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/router'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 引入路由实例")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" store "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/store'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 引入vuex store实例")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("NProgress")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'nprogress'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 引入一份进度条插件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'nprogress/nprogress.css'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 引入进度条样式")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" whiteList = ["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/login'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/404'")]),s._v("] "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 定义白名单  所有不受权限控制的页面")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 路由的前置守卫")]),s._v("\nrouter."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("beforeEach")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("to, "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(", next")]),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("NProgress")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("start")]),s._v("() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 开启进度条")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//  首先判断有无token")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (store."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("getters")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("token")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   如果有token 继续判断是不是去登录页")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (to."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("path")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/login'")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//  表示去的是登录页")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("next")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/'")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 跳到主页")]),s._v("\n    } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("next")]),s._v("() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 直接放行")]),s._v("\n    }\n  } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如果没有token")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (whiteList."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("indexOf")]),s._v("(to."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("path")]),s._v(") > -"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如果找到了 表示在在名单里面")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("next")]),s._v("()\n    } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("next")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/login'")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 跳到登录页")]),s._v("\n    }\n  }\n  "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("NProgress")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("done")]),s._v("() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 手动强制关闭一次  为了解决 手动切换地址时  进度条的不关闭的问题")]),s._v("\n})\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 后置守卫")]),s._v("\nrouter."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("afterEach")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("NProgress")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("done")]),s._v("() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 关闭进度条")]),s._v("\n})\n\n")])]),a("blockquote",[a("p",[s._v("在导航守卫的位置，我们添加了NProgress的插件，可以完成进入时的进度条效果")])]),a("h2",[s._v("获取用户资料接口和token注入")]),a("p",[a("strong",[s._v("获取用户资料接口")]),s._v(".")]),a("p",[s._v("在**"),a("code",{pre:!0},[s._v("src/api/user.js")]),s._v("**中封装获取用户资料的方法")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/**\n *  获取用户的基本资料\n *\n * **/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getUserInfo")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("request")]),s._v("({\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/sys/profile'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("method")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'post'")]),s._v("\n  })\n}\n")])]),a("p",[s._v("headers中的"),a("strong",[s._v("Authorization")]),s._v("相当于我们"),a("strong",[s._v("开门")]),s._v("（"),a("strong",[s._v("调用接口")]),s._v("）时**"),a("code",{pre:!0},[s._v("钥匙(token)")]),a("strong",[s._v("，我们在打开任何带安全权限的门的时候都需要")]),a("code",{pre:!0},[s._v("钥匙(token)")]),s._v("** 如图")]),a("p",[a("img",{attrs:{src:t(5431),alt:"image-20200715233339927"}})]),a("p",[s._v("每次在接口中携带**"),a("code",{pre:!0},[s._v("钥匙（token）")]),s._v("**很麻烦，所以我们可以在axios拦截器中统一注入token")]),a("p",[a("img",{attrs:{src:t(5519),alt:"image-20200716000203862"}})]),a("p",[a("strong",[s._v("统一注入token")]),s._v(" "),a("strong",[a("code",{pre:!0},[s._v("src/utils/request.js")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("service."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("interceptors")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("request")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("config")]),s._v(" =>")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 在这个位置需要统一的去注入token")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (store."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("getters")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("token")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如果token存在 注入token")]),s._v("\n    config."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("headers")]),s._v("["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Authorization'")]),s._v("] = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`Bearer "),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${store.getters.token}")]),s._v("`")]),s._v("\n  }\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 必须返回配置")]),s._v("\n}, "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("error")]),s._v(" =>")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Promise")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("reject")]),s._v("(error)\n}) \n")])]),a("h2",[s._v("封装获取用户资料的action并共享用户状态")]),a("p",[a("img",{attrs:{src:t(8468),alt:"image-20200827111324564"}})]),a("p",[a("strong",[s._v("封装获取用户资料action")]),s._v(" "),a("strong",[a("code",{pre:!0},[s._v("action")])]),s._v(" "),a("strong",[a("code",{pre:!0},[s._v("src/store/modules/user.js")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { login, getUserInfo } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/api/user'")]),s._v("\n  \n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 获取用户资料action")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" getUserInfo (context) {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" result = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getUserInfo")]),s._v("()  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 获取返回值")]),s._v("\n    context."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("commit")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'setUserInfo'")]),s._v(", result) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 将整个的个人信息设置到用户的vuex数据中")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" result "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 这里为什么要返回 为后面埋下伏笔")]),s._v("\n  }\n")])]),a("blockquote",[a("p",[s._v("同时，配套的我们还进行了关于用户状态的mutations方法的设计")])]),a("p",[a("strong",[s._v("初始化state")]),s._v(" "),a("strong",[a("code",{pre:!0},[s._v("state")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" state = {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("token")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getToken")]),s._v("(), "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 设置token初始状态   token持久化 => 放到缓存中")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("userInfo")]),s._v(": {} "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 定义一个空的对象 不是null 因为后边我要开发userInfo的属性给别人用  userInfo.name")]),s._v("\n}\n")])]),a("blockquote",[a("p",[s._v("userInfo为什么我们不设置为null，而是设置为 {}")])]),a("p",[s._v("因为我们会在**"),a("code",{pre:!0},[s._v("getters")]),s._v("**中引用userinfo的变量，如果设置为null，则会引起异常和报错")]),a("p",[a("strong",[s._v("设置和删除用户资料")]),s._v(" "),a("strong",[a("code",{pre:!0},[s._v("mutations")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 设置用户信息")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setUserInfo")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("state, userInfo")]),s._v(") {\n    state."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("userInfo")]),s._v(" = { ...userInfo } "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 用 浅拷贝的方式去赋值对象 因为这样数据更新之后，才会触发组件的更新")]),s._v("\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 删除用户信息")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("reomveUserInfo")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("state")]),s._v(") {\n    state."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("userInfo")]),s._v(" = {}\n  }\n")])]),a("blockquote",[a("p",[s._v("同学们，我们将所有的资料设置到了"),a("strong",[s._v("userInfo")]),s._v("这个对象中，如果想要取其中一个值，我们还可以在getters中建立相应的映射")])]),a("p",[s._v("因为我们要做映射，如果初始值为null，一旦引用了getters，就会报错")]),a("p",[a("strong",[s._v("建立用户名的映射")]),s._v(" "),a("strong",[a("code",{pre:!0},[s._v("src/store/getters.js")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" getters = {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sidebar")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("state")]),s._v(" =>")]),s._v(" state."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("app")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("sidebar")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("device")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("state")]),s._v(" =>")]),s._v(" state."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("app")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("device")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("token")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("state")]),s._v(" =>")]),s._v(" state."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("user")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("token")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("state")]),s._v(" =>")]),s._v(" state."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("user")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("userInfo")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("username")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 建立用户名称的映射")]),s._v("\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" getters\n")])]),a("p",[s._v("到现在为止，我们将用户资料的"),a("strong",[s._v("action => mutation => state => getters")]),s._v(" 都设置好了， 那么我们应该在什么位置来调用这个action呢 ？")]),a("h2",[s._v("权限拦截处调用获取资料action")]),a("h2",[s._v("权限拦截器调用action")]),a("p",[s._v("用户资料有个硬性要求，**"),a("code",{pre:!0},[s._v("必须有token")]),s._v("**才可以获取，那么我们就可以在确定有token的位置去获取用户资料")]),a("p",[a("img",{attrs:{src:t(6380),alt:"image-20200716004526838"}})]),a("blockquote",[a("p",[s._v("由上图可以看出，一旦确定我们进行了放行，就可以获取用户资料")])]),a("p",[a("img",{attrs:{src:t(5077),alt:"image-20200813013009294"}})]),a("p",[a("strong",[s._v("调用action")]),s._v(" "),a("strong",[a("code",{pre:!0},[s._v("src/permission.js")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(!store."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("state")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("user")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("userInfo")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("userId")]),s._v(") {\n       "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" store."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("dispatch")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'user/getUserInfo'")]),s._v(")\n }\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("userId")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("state")]),s._v(" =>")]),s._v(" state."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("user")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("userInfo")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("userId")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 建立用户id的映射")]),s._v("\n")])]),a("p",[s._v("代码就变成了")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (!store."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("getters")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("userId")]),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如果没有id这个值 才会调用 vuex的获取资料的action")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" store."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("dispatch")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'user/getUserInfo'")]),s._v(")\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 为什么要写await 因为我们想获取完资料再去放行")]),s._v("\n      }\n")])]),a("p",[s._v("此时，我们可以通过dev-tools工具在控制台清楚的看到数据已经获取")]),a("p",[a("img",{attrs:{src:t(6757),alt:"image-20200716012120619"}})]),a("h2",[s._v("Token失效的主动介入")]),a("h3",[s._v("主动介入token处理的业务逻辑")]),a("blockquote",[a("p",[s._v("开门的钥匙不是一直有效的，如果一直有效，会有安全风险，所以我们尝试在客户端进行一下token的时间检查")])]),a("p",[s._v("具体业务图如下")]),a("p",[a("img",{attrs:{src:t(2349),alt:"image-20200716231205153"}})]),a("p",[a("strong",[s._v("流程图转化代码")]),s._v(".")]),a("p",[a("strong",[s._v("流程图转化代码")]),s._v(" "),a("strong",[a("code",{pre:!0},[s._v("src/utils/auth.js")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" timeKey = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'hrsaas-timestamp-key'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 设置一个独一无二的key")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 获取时间戳")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getTimeStamp")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cookies")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("get")]),s._v("(timeKey)\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 设置时间戳")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setTimeStamp")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cookies")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("set")]),s._v("(timeKey, "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Date")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("now")]),s._v("())\n}\n\n")])]),a("p",[s._v("`**")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" timeKey = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'hrsaas-timestamp-key'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 设置一个独一无二的key")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 获取时间戳")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getTimeStamp")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cookies")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("get")]),s._v("(timeKey)\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 设置时间戳")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setTimeStamp")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cookies")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("set")]),s._v("(timeKey, "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Date")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("now")]),s._v("())\n}\n")])]),a("p",[a("strong",[a("code",{pre:!0},[s._v("src/utils/request.js")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" axios "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'axios'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" store "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/store'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" router "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/router'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Message")]),s._v(" } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'element-ui'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { getTimeStamp } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/utils/auth'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("TimeOut")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3600")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 定义超时时间")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" service = axios."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("create")]),s._v("({\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 当执行 npm run dev  => .evn.development => /api => 跨域代理")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("baseURL")]),s._v(": process."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("env")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("VUE_APP_BASE_API")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// npm  run dev  => /api npm run build =>  /prod-api")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("timeout")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 设置超时时间")]),s._v("\n})\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 请求拦截器")]),s._v("\nservice."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("interceptors")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("request")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("config")]),s._v(" =>")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// config 是请求的配置信息")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 注入token")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (store."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("getters")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("token")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 只有在有token的情况下 才有必要去检查时间戳是否超时")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("IsCheckTimeOut")]),s._v("()) {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如果它为true表示 过期了")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// token没用了 因为超时了")]),s._v("\n      store."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("dispatch")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'user/logout'")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 登出操作")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 跳转到登录页")]),s._v("\n      router."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/login'")]),s._v(")\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Promise")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("reject")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Error")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'token超时了'")]),s._v("))\n    }\n    config."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("headers")]),s._v("["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Authorization'")]),s._v("] = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`Bearer "),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${store.getters.token}")]),s._v("`")]),s._v("\n  }\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 必须要返回的")]),s._v("\n}, "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("error")]),s._v(" =>")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Promise")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("reject")]),s._v("(error)\n})\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 响应拦截器")]),s._v("\nservice."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("interceptors")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("response")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("response")]),s._v(" =>")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// axios默认加了一层data")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { success, message, data } = response."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   要根据success的成功与否决定下面的操作")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (success) {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" data\n  } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 业务已经错误了 还能进then ? 不能 ！ 应该进catch")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Message")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("error")]),s._v("(message) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 提示错误消息")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Promise")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("reject")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Error")]),s._v("(message))\n  }\n}, "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("error")]),s._v(" =>")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Message")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("error")]),s._v("(error."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("message")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 提示错误信息")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Promise")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("reject")]),s._v("(error) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 返回执行错误 让当前的执行链跳出成功 直接进入 catch")]),s._v("\n})\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 是否超时")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 超时逻辑  (当前时间  - 缓存中的时间) 是否大于 时间差")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("IsCheckTimeOut")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" currentTime = "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Date")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("now")]),s._v("() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 当前时间戳")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" timeStamp = "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getTimeStamp")]),s._v("() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 缓存时间戳")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (currentTime - timeStamp) / "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1000")]),s._v(" > "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("TimeOut")]),s._v("\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" service\n")])]),a("blockquote",[a("p",[s._v("同理，在登录的时候，如果登录成功，我们应该设置时间戳")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 定义login action  也需要参数 调用action时 传递过来的参数")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// async 标记的函数其实就是一个异步函数 -> 本质是还是 一个promise")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("login")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("context, data")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 经过响应拦截器的处理之后 这里的result实际上就是 token")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" result = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("login")]),s._v("(data) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 实际上就是一个promise  result就是执行的结果")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// axios默认给数据加了一层data")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 表示登录接口调用成功 也就是意味着你的用户名和密码是正确的")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 现在有用户token")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// actions 修改state 必须通过mutations")]),s._v("\n    context."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("commit")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'setToken'")]),s._v(", result)\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 写入时间戳")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setTimeStamp")]),s._v("() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 将当前的最新时间写入缓存")]),s._v("\n  }\n")])]),a("h2",[s._v("Token失效的被动处理")]),a("blockquote",[a("p",[s._v("除了token的主动介入之外，我们还可以对token进行被动的处理，如图")])]),a("p",[a("img",{attrs:{src:t(8135),alt:"image-20200818155842864"}})]),a("p",[a("strong",[s._v("代码实现")]),s._v(" "),a("strong",[a("code",{pre:!0},[s._v("src/utils/request.js")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("error => {\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// error 信息 里面 response的对象")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (error."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("response")]),s._v(" && error."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("response")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v(" && error."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("response")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("code")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10002")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 当等于10002的时候 表示 后端告诉我token超时了")]),s._v("\n    store."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("dispatch")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'user/logout'")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 登出action 删除token")]),s._v("\n    router."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/login'")]),s._v(")\n  } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Message")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("error")]),s._v("(error."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("message")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 提示错误信息")]),s._v("\n  }\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Promise")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("reject")]),s._v("(error)\n}\n")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},3290:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("h1",[s._v("员工管理")]),a("h2",[s._v("通用工具栏的组件结构")]),a("p",[a("img",{attrs:{src:t(1251),alt:"image-20200723223704401"}})]),a("p",[s._v("在后续的业务开发中，经常会用到一个类似下图的工具栏，作为公共组件，进行一下封装")]),a("p",[s._v("组件 "),a("strong",[a("code",{pre:!0},[s._v("src/components/PageTools/index.vue")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-card")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"page-tools"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-row")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"flex"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("justify")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"space-between"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("align")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"middle"')]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-col")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-if")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"showBefore"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"before"')]),s._v(">")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("i")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"el-icon-info"')]),s._v(" />")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 定义前面得插槽 --\x3e")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("slot")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"before"')]),s._v(" />")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-col")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-col")]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-row")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"flex"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("justify")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"end"')]),s._v(">")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 定义后面的插槽 --\x3e")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("slot")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"after"')]),s._v(" />")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-row")]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-col")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-row")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-card")]),s._v(">")])]),s._v("\n</template>\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-javascript"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("props")]),s._v(": {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("showBefore")]),s._v(": {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Boolean")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("default")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n    }\n\n  }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'scss'")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".page-tools")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10px")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".before")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("line-height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("34px")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("i")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin-right")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5px")]),s._v(";\n      "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#409eff")]),s._v(";\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": inline-block;\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("padding")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0px")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10px")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border-radius")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3px")]),s._v(";\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" solid "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("rgba")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("145")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("213")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("255")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(");\n    "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("background")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("rgba")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("230")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("247")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("255")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(");\n  }\n }\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")])]),s._v("\n\n")])]),a("h2",[s._v("组件统一注册")]),a("blockquote",[a("p",[s._v("为了方便所有的页面都可以不用引用该组件，可以进行全局注册")])]),a("p",[s._v("提供注册入口 "),a("strong",[a("code",{pre:!0},[s._v("src/componets/index.js")])])]),a("p",[s._v("// 该文件负责所有的公共的组件的全局注册 Vue.use import PageTools from './PageTools' export default { install(Vue) { // 注册全局的通用栏组件对象 Vue.component('PageTools', PageTools) } }")]),a("blockquote",[a("p",[s._v("在入口处进行注册 "),a("strong",[a("code",{pre:!0},[s._v("src/main.js")])])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Component")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/components'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Component")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 注册自己的插件")]),s._v("\n")])]),a("h2",[s._v("员工导入组件封装")]),a("p",[a("strong",[a("code",{pre:!0},[s._v("目标")])]),s._v("：封装一个导入excel数据的文件")]),a("p",[s._v("首先封装一个类似的组件，首先需要注意的是，类似功能，vue-element-admin已经提供了，我们只需要改造即可 "),a("a",{attrs:{href:"https://github.com/PanJiaChen/vue-element-admin/blob/master/src/components/UploadExcel/index.vue"}},[s._v("代码地址")])]),a("p",[s._v("excel导入功能需要使用npm包**"),a("code",{pre:!0},[s._v("xlsx")]),a("strong",[s._v("，所以需要安装")]),a("code",{pre:!0},[s._v("xlsx")]),s._v("**插件")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[a("span",{pre:!0,attrs:{class:"hljs-variable"}},[s._v("$npm")]),s._v(" i xlsx\n")])]),a("blockquote",[a("p",[s._v("将vue-element-admin提供的导入功能新建一个组件，位置： "),a("strong",[a("code",{pre:!0},[s._v("src/components/UploadExcel")])])])]),a("p",[a("strong",[s._v("注册全局的导入excel组件")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PageTools")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./PageTools'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("UploadExcel")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./UploadExcel'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v("{\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("install")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("Vue")]),s._v("){\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("component")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'PageTools'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("PageTools")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 注册工具栏组件")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("component")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'UploadExcel'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("UploadExcel")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 注册导入Excel组件")]),s._v("\n    }\n}\n")])]),a("p",[a("strong",[s._v("修改样式和布局")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"upload-excel"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"btn-upload"')]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":loading")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"loading"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("size")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"mini"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"primary"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"handleUpload"')]),s._v(">")]),s._v("\n        点击上传\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-button")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"excel-upload-input"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"excel-upload-input"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"file"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("accept")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('".xlsx, .xls"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@change")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"handleClick"')]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"drop"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@drop")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"handleDrop"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@dragover")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"handleDragover"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@dragenter")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"handleDragover"')]),s._v(">")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("i")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"el-icon-upload"')]),s._v(" />")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("将文件拖到此处"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("scoped")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"scss"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".upload-excel")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": flex;\n  "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("justify-content")]),s._v(": center;\n   "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("margin-top")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100px")]),s._v(";\n   "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".excel-upload-input")]),s._v("{\n       "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": none;\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("z-index")]),s._v(": -"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("9999")]),s._v(";\n     }\n   "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".btn-upload")]),s._v(" , "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".drop")]),s._v("{\n      "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("border")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1px")]),s._v(" dashed "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#bbb")]),s._v(";\n      "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("width")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("350px")]),s._v(";\n      "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("160px")]),s._v(";\n      "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("text-align")]),s._v(": center;\n      "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("line-height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("160px")]),s._v(";\n   }\n   "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".drop")]),s._v("{\n       "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("line-height")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("80px")]),s._v(";\n       "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("#bbb")]),s._v(";\n      "),a("span",{pre:!0,attrs:{class:"hljs-selector-tag"}},[s._v("i")]),s._v(" {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("font-size")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("60px")]),s._v(";\n        "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": block;\n      }\n   }\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")]),s._v("\n")])]),a("h2",[s._v("员工的导入")]),a("h3",[s._v("建立公共导入的页面路由")]),a("p",[a("strong",[s._v("新建一个公共的导入页面，挂载路由")]),s._v(" "),a("strong",[a("code",{pre:!0},[s._v("src/router/index.js")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("{\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/import'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Layout")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("hidden")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 隐藏在左侧菜单")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("children")]),s._v(": [{\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 二级路由path什么都不写 表示二级默认路由")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("import")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/views/import'")]),s._v(")\n    }]\n}\n")])]),a("p",[a("strong",[s._v("创建import路由组件")]),s._v(" "),a("strong",[a("code",{pre:!0},[s._v("src/views/import/index.vue")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("<template>\n  \x3c!-- 公共导入组件 --\x3e \n  "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("upload-excel")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":on-success")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"success"')]),s._v(" />")])]),s._v("\n</template>\n")])]),a("p",[a("strong",[s._v("获取导入的excel数据, 导入excel接口")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("success")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("{ header, results }")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如果是导入员工")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" userRelations = {\n          "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'入职日期'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'timeOfEntry'")]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'手机号'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'mobile'")]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'姓名'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'username'")]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'转正日期'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'correctionTime'")]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'工号'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'workNumber'")]),s._v("\n        }\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" arr = []\n       results."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("forEach")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v(" =>")]),s._v(" {\n          "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" userInfo = {}\n          "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Object")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("keys")]),s._v("(item)."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("forEach")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("key")]),s._v(" =>")]),s._v(" {\n            userInfo[userRelations[key]] = item[key]\n          })\n         arr."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("(userInfo) \n        })\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("importEmployee")]),s._v("(arr) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 调用导入接口")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$router")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("back")]),s._v("()\n    }\n")])]),a("blockquote",[a("p",[s._v("为了让这个页面可以服务更多的导入功能，我们可以在页面中用参数来判断，是否是导入员工")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$route")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("query")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("type")]),s._v("\n    }\n  },\n")])]),a("p",[s._v("当excel中有日期格式的时候，实际转化的值为一个数字，我们需要一个方法进行转化")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("formatDate")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("numb, format")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" time = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Date")]),s._v("((numb - "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(") * "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("24")]),s._v(" * "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3600000")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")\n      time."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setYear")]),s._v("(time."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getFullYear")]),s._v("() - "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("70")]),s._v(")\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" year = time."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getFullYear")]),s._v("() + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" month = time."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getMonth")]),s._v("() + "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" date = time."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getDate")]),s._v("() - "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (format && format."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("length")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" year + format + month + format + date\n      }\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" year + (month < "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v(" ? "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'0'")]),s._v(" + month : month) + (date < "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v(" ? "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'0'")]),s._v(" + date : date)\n    }\n")])]),a("p",[a("strong",[s._v("逻辑判断")]),s._v(" .")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("success")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("{ header, results }")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("type")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'user'")]),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" userRelations = {\n          "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'入职日期'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'timeOfEntry'")]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'手机号'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'mobile'")]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'姓名'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'username'")]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'转正日期'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'correctionTime'")]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'工号'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'workNumber'")]),s._v("\n        }\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" arr = []\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 遍历所有的数组")]),s._v("\n        results."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("forEach")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v(" =>")]),s._v(" {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 需要将每一个条数据里面的中文都换成英文")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" userInfo = {}\n          "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Object")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("keys")]),s._v("(item)."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("forEach")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("key")]),s._v(" =>")]),s._v(" {\n          "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// key是当前的中文名 找到对应的英文名")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (userRelations[key] === "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'timeOfEntry'")]),s._v(" || userRelations[key] === "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'correctionTime'")]),s._v(") {\n              userInfo[userRelations[key]] = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Date")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("formatDate")]),s._v("(item[key], "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/'")]),s._v(")) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 只有这样, 才能入库")]),s._v("\n              "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v("\n            }\n            userInfo[userRelations[key]] = item[key]\n          })\n          "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 最终userInfo变成了全是英文")]),s._v("\n          arr."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("(userInfo)\n        })\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("importEmployee")]),s._v("(arr)\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$message")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("success")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'导入成功'")]),s._v(")\n      }\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$router")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("back")]),s._v("() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 回到上一页")]),s._v("\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("formatDate")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("numb, format")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" time = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Date")]),s._v("((numb - "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(") * "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("24")]),s._v(" * "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3600000")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")\n      time."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setYear")]),s._v("(time."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getFullYear")]),s._v("() - "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("70")]),s._v(")\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" year = time."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getFullYear")]),s._v("() + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" month = time."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getMonth")]),s._v("() + "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" date = time."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getDate")]),s._v("() - "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (format && format."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("length")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" year + format + month + format + date\n      }\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" year + (month < "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v(" ? "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'0'")]),s._v(" + month : month) + (date < "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v(" ? "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'0'")]),s._v(" + date : date)\n    }\n")])]),a("h2",[s._v("员工导出excel功能")]),a("p",[a("strong",[s._v("目标")]),s._v("： 实现将员工数据导出功能")]),a("p",[s._v("Excel 的导入导出都是依赖于"),a("a",{attrs:{href:"https://github.com/SheetJS/js-xlsx"}},[s._v("js-xlsx")]),s._v("来实现的。")]),a("p",[s._v("在 "),a("code",{pre:!0},[s._v("js-xlsx")]),s._v("的基础上又封装了"),a("a",{attrs:{href:"https://github.com/PanJiaChen/vue-element-admin/blob/master/src/vendor/Export2Excel.js"}},[s._v("Export2Excel.js")]),s._v("来方便导出数据。")]),a("p",[s._v("由于 "),a("code",{pre:!0},[s._v("Export2Excel")]),s._v("不仅依赖"),a("code",{pre:!0},[s._v("js-xlsx")]),s._v("还依赖"),a("code",{pre:!0},[s._v("file-saver")]),s._v("和"),a("code",{pre:!0},[s._v("script-loader")]),s._v("。")]),a("p",[s._v("所以你先需要安装如下命令：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("npm install xlsx file-saver -S\nnpm install script-loader -S -D\n")])]),a("p",[s._v("由于"),a("code",{pre:!0},[s._v("js-xlsx")]),s._v("体积还是很大的，导出功能也不是一个非常常用的功能，所以使用的时候建议使用懒加载。使用方法如下：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("import")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/vendor/Export2Excel'")]),s._v(")."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("then")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("excel")]),s._v(" =>")]),s._v(" {\n  excel."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("export_json_to_excel")]),s._v("({\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("header")]),s._v(": tHeader, "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//表头 必填")]),s._v("\n    data, "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//具体数据 必填")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("filename")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'excel-list'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//非必填")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("autoWidth")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//非必填")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("bookType")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'xlsx'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//非必填")]),s._v("\n  })\n})\n")])]),a("p",[s._v("因为数据中的key是英文，想要导出的表头是中文的话，需要将中文和英文做对应")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("   "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" headers = {\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'手机号'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'mobile'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'姓名'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'username'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'入职日期'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'timeOfEntry'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'聘用形式'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'formOfEmployment'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'转正日期'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'correctionTime'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'工号'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'workNumber'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'部门'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'departmentName'")]),s._v("\n      }\n")])]),a("p",[s._v("然后，"),a("strong",[s._v("完成导出代码")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 导出excel数据")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("exportData")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//  做操作")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 表头对应关系")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" headers = {\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'姓名'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'username'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'手机号'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'mobile'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'入职日期'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'timeOfEntry'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'聘用形式'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'formOfEmployment'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'转正日期'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'correctionTime'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'工号'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'workNumber'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'部门'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'departmentName'")]),s._v("\n      }\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 懒加载")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("import")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/vendor/Export2Excel'")]),s._v(")."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("then")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" excel => {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { rows } = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getEmployeeList")]),s._v("({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("page")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("size")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("page")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("total")]),s._v(" })\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" data = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("formatJson")]),s._v("(headers, rows)\n\n        excel."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("export_json_to_excel")]),s._v("({\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("header")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Object")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("keys")]),s._v("(headers),\n          data,\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("filename")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'员工信息表'")]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("autoWidth")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(",\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("bookType")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'xlsx'")]),s._v("\n\n        })\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 获取所有的数据")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// excel.export_json_to_excel({")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   header: ['姓名', '薪资'],")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   data: [['张三', 12000], ['李四', 5000]],")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   filename: '员工薪资表',")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   autoWidth: true,")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   bookType: 'csv'")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// })")]),s._v("\n      })\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 该方法负责将数组转化成二维数组")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("formatJson")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("headers, rows")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 首先遍历数组")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// [{ username: '张三'},{},{}]  => [[’张三'],[],[]]")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" rows."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("map")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v(" =>")]),s._v(" {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Object")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("keys")]),s._v("(headers)."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("map")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("key")]),s._v(" =>")]),s._v(" {\n          "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (headers[key] === "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'timeOfEntry'")]),s._v(" || headers[key] === "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'correctionTime'")]),s._v(") {\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("formatDate")]),s._v("(item[headers[key]]) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 返回格式化之前的时间")]),s._v("\n          } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (headers[key] === "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'formOfEmployment'")]),s._v(") {\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" en = "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("EmployeeEnum")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("hireType")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("find")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("obj")]),s._v(" =>")]),s._v(" obj."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("id")]),s._v(" === item[headers[key]])\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" en ? en."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v(" : "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'未知'")]),s._v("\n          }\n          "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" item[headers[key]]\n        }) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// => ["张三", "13811"，"2018","1", "2018", "10002"]')]),s._v("\n      })\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// return data")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// return rows.map(item => {")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   // item是对象  => 转化成只有值的数组 => 数组值的顺序依赖headers  {username: '张三'  }")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('//   // Object.keys(headers)  => ["姓名", "手机号",...]')]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   return Object.keys(headers).map(key => {")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//     return item[headers[key]]")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   }) // /  得到 ['张三'，’129‘，’dd‘,'dd']")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// })")]),s._v("\n    }\n")])]),a("h3",[s._v("复杂表头的导出")]),a("blockquote",[a("p",[s._v("当需要导出复杂表头的时候，vue-element-admin同样支持该类操作")])]),a("p",[a("strong",[s._v("vue-element-admin")]),s._v(" 提供的导出方法中有 "),a("strong",[s._v("multiHeader")]),s._v("和"),a("strong",[s._v("merges")]),s._v(" 的参数")]),a("p",[s._v("multiHeader里面是一个二维数组，里面的一个元素是一行表头，假设你想得到一个如图的结构")]),a("p",[a("img",{attrs:{src:t(7883),alt:"image-20201014152302636"}})]),a("p",[s._v("mutiHeader应该这样定义")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" multiHeader = [["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'姓名'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'主要信息'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'部门'")]),s._v("]]\n")])]),a("p",[s._v("multiHeader中的一行表头中的字段的个数需要和真正的列数相等，假设想要跨列，多余的空间需要定义成空串")]),a("p",[s._v("它主要对应的是标准的表头")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" header = ["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'姓名'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'手机号'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'入职日期'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'聘用形式'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'转正日期'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'工号'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'部门'")]),s._v("]\n\n")])]),a("p",[s._v("如果，我们要实现其合并的效果， 需要设定merges选项")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" merges = ["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'A1:A2'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'B1:F1'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'G1:G2'")]),s._v("]\n")])]),a("p",[s._v("merges的顺序是没关系的，只要配置这两个属性，就可以导出复杂表头的excel了")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("exportData")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" headers = {\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'姓名'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'username'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'手机号'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'mobile'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'入职日期'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'timeOfEntry'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'聘用形式'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'formOfEmployment'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'转正日期'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'correctionTime'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'工号'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'workNumber'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'部门'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'departmentName'")]),s._v("\n      }\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 导出excel")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("import")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/vendor/Export2Excel'")]),s._v(")."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("then")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" excel => {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//  excel是引入文件的导出对象")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 导出  header从哪里来")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// data从哪里来")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 现在没有一个接口获取所有的数据")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 获取员工的接口 页码 每页条数    100   1 10000")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { rows } = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getEmployeeList")]),s._v("({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("page")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("size")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("page")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("total")]),s._v(" })\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" data = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("formatJson")]),s._v("(headers, rows) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 返回的data就是 要导出的结构")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" multiHeader = [["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'姓名'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'主要信息'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'部门'")]),s._v("]]\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" merges = ["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'A1:A2'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'B1:F1'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'G1:G2'")]),s._v("]\n        excel."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("export_json_to_excel")]),s._v("({\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("header")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Object")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("keys")]),s._v("(headers),\n          data,\n          "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("filename")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'员工资料表'")]),s._v(",\n          multiHeader, "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 复杂表头")]),s._v("\n          merges "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 合并选项")]),s._v("\n        })\n\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// excel.export_json_to_excel({")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   header: ['姓名', '工资'],")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   data: [['张三', 3000], ['李四', 5000]],")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   filename: '员工工资表'")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// })")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// [{ username: '张三',mobile: 13112345678 }]  => [[]]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 要转化 数据结构 还要和表头的顺序对应上")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 要求转出的标题是中文")]),s._v("\n      })\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 将表头数据和数据进行对应")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// [{}]  =>   [[]]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("formatJson")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("headers, rows")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" rows."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("map")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v(" =>")]),s._v(" {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// item是一个对象  { mobile: 132111,username: '张三'  }")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// ["手机号", "姓名", "入职日期" 。。]')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Object")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("keys")]),s._v("(headers)."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("map")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("key")]),s._v(" =>")]),s._v(" {\n          "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 需要判断 字段")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (headers[key] === "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'timeOfEntry'")]),s._v(" || headers[key] === "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'correctionTime'")]),s._v(") {\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 格式化日期")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("formatDate")]),s._v("(item[headers[key]])\n          } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (headers[key] === "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'formOfEmployment'")]),s._v(") {\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" obj = "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("EmployeeEnum")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("hireType")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("find")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("obj")]),s._v(" =>")]),s._v(" obj."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("id")]),s._v(" === item[headers[key]])\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" obj ? obj."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("value")]),s._v(" : "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'未知'")]),s._v("\n          }\n          "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" item[headers[key]]\n        })\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// ["132", \'张三’， ‘’，‘’，‘’d]')]),s._v("\n      })\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// return rows.map(item => Object.keys(headers).map(key => item[headers[key]]))")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 需要处理时间格式问题")]),s._v("\n    }\n")])]),a("h2",[s._v("更改头像")]),a("p",[s._v("由于该项目为课上项目的特殊性，项目官方不希望把所有头像图片都上传到他们的服务器上，这里我们采用一个腾讯云的图片方案")]),a("p",[a("img",{attrs:{src:t(9763),alt:"image-20200805200831035"}})]),a("blockquote",[a("p",[s._v("上边图的意思就是说，我们找一个可以免费上传图片的服务器，帮我们**"),a("code",{pre:!0},[s._v("代管图片")]),a("strong",[s._v("，我们在自己的数据库里只保存一个地址就行， 这其实也是很多项目的处理方案，会有一个")]),a("code",{pre:!0},[s._v("公共的文件服务器")]),s._v("**")])]),a("p",[s._v("接下来，我们需要来创建一个存储图片的存储桶")]),a("p",[s._v("登录 "),a("a",{attrs:{href:"https://console.cloud.tencent.com/cos5"}},[s._v("对象存储控制台")]),s._v(" ，"),a("a",{attrs:{href:"https://cloud.tencent.com/document/product/436/13309"}},[s._v("创建存储桶")]),s._v("。设置存储桶的权限为 "),a("strong",[a("code",{pre:!0},[s._v("公有读，私有写")])])]),a("p",[a("img",{attrs:{src:t(4707),alt:"image-20200806135409338"}})]),a("p",[a("img",{attrs:{src:t(890),alt:"image-20200916231600661"}})]),a("p",[a("img",{attrs:{src:t(7241),alt:"image-20200916231949174"}})]),a("p",[a("img",{attrs:{src:t(1900),alt:"image-20200805211749522"}})]),a("blockquote",[a("p",[s._v("因为我们本身没有域名，所以这里设置成**"),a("code",{pre:!0},[s._v("*")]),s._v("**，仅限于测试，正式环境的话，这里需要配置真实的域名地址")])]),a("h2",[s._v("封装上传图片组件-上传组件需求分析")]),a("p",[a("strong",[s._v("初始化cos对象参数")]),s._v(".")]),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[s._v("名称")]),a("th",{staticStyle:{"text-align":"left"}},[s._v("描述")])])]),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[s._v("SecretId")]),a("td",{staticStyle:{"text-align":"left"}},[s._v("开发者拥有的项目身份识别 ID，用以身份认证，可在 "),a("a",{attrs:{href:"https://console.cloud.tencent.com/capi"}},[s._v("API 密钥管理")]),s._v(" 页面获取")])]),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[s._v("SecretKey")]),a("td",{staticStyle:{"text-align":"left"}},[s._v("开发者拥有的项目身份密钥，可在 "),a("a",{attrs:{href:"https://console.cloud.tencent.com/capi"}},[s._v("API 密钥管理")]),s._v(" 页面获取")])])])]),a("blockquote",[a("p",[s._v("注意，上述的参数我们在本次开发过程中，直接将参数放置在前端代码中存储，但是腾讯云本身是不建议这么做的，因为**"),a("code",{pre:!0},[s._v("敏感信息")]),s._v("**放在前端很容易被捕获，由于我们本次是测试研发，所以这个过程可以忽略 正确的做法应该是，通过网站调用接口换取敏感信息")])]),a("p",[a("a",{attrs:{href:"https://cloud.tencent.com/document/product/436/11459"}},[s._v("相关文档")])]),a("p",[s._v("实例化 上传sdk")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" cos = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("COS")]),s._v("({\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("SecretId")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'COS_SECRETID'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 身份识别 ID")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("SecretKey")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'COS_SECRETKEY'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 身份密钥")]),s._v("\n});\n")])]),a("p",[a("img",{attrs:{src:t(5474),alt:"image-20200806174643390"}})]),a("p",[a("strong",[s._v("安装JavaScript SDK")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[a("span",{pre:!0,attrs:{class:"hljs-variable"}},[s._v("$npm")]),s._v(" i cos-js-sdk-v5 --save\n")])]),a("h3",[s._v("点击图片进行预览")]),a("p",[a("strong",[s._v("限定上传的图片数量和action")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-upload")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("list-type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"picture-card"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":limit")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"1"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("action")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"#"')]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-upload")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n")])]),a("blockquote",[a("p",[s._v("action为什么给#， 因为前面我们讲过了，我们要上传到腾讯云，需要自定义的上传方式,action给个#防止报错")])]),a("p",[a("strong",[s._v("预览")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("fileList")]),s._v(": [], "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 图片地址设置为数组 ")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("showDialog")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 控制显示弹层")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("imgUrl")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v("\n    }\n  },\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("     "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("preview")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("file")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 这里应该弹出一个层 层里是点击的图片地址")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("imgUrl")]),s._v(" = file."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("url")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("showDialog")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n  },  \n")])]),a("p",[a("strong",[s._v("预览弹层")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("  <el-dialog title="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"图片"')]),s._v(" :visible."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("sync")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"showDialog"')]),s._v(">\n      "),a("span",{pre:!0,attrs:{class:"language-xml"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("img")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"imgUrl"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("style")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"width:100%"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("alt")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('""')]),s._v(">")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-dialog")]),s._v(">")])]),s._v("\n")])]),a("h3",[s._v("根据上传数量控制上传按钮")]),a("p",[a("strong",[s._v("控制上传显示")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("computed")]),s._v(": {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 设定一个计算属性 判断是否已经上传完了一张")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("fileComputed")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("fileList")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("length")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("\n    }\n  },\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-upload")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":on-preview")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"preview"')]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":on-remove")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"handleRemove"')]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":on-change")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"changeFile"')]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":file-list")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"fileList"')]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("list-type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"picture-card"')]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("action")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"#"')]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":limit")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"1"')]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":class")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"{disabled: fileComputed }"')]),s._v("\n    >")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"language-css"}},[s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".disabled")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-selector-class"}},[s._v(".el-upload--picture-card")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("display")]),s._v(": none\n}\n")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")]),s._v("\n\n")])]),a("h3",[s._v("删除图片和添加图片")]),a("p",[a("strong",[s._v("删除文件")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("handleRemove")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("file")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// file是点击删除的文件")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   将原来的文件给排除掉了 剩下的就是最新的数组了")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("fileList")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("fileList")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("filter")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v(" =>")]),s._v(" item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("uid")]),s._v(" !== file."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("uid")]),s._v(")\n  },\n")])]),a("p",[a("strong",[s._v("添加文件")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 修改文件时触发")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 此时可以用fileList 因为该方法会进来很多遍 不能每次都去push")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// fileList因为fileList参数是当前传进来的最新参数 我们只需要将其转化成数组即可 需要转化成一个新的数组")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// [] => [...fileList] [] => fileList.map()")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 上传成功之后 还会进来 需要实现上传代码的逻辑 这里才会成功")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("changeFile")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("file, fileList")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("fileList")]),s._v(" = fileList."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("map")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v(" =>")]),s._v(" item)\n  }\n")])]),a("h3",[s._v("上传之前检查")]),a("blockquote",[a("p",[s._v("控制上传图片的类型和上传大小， 如果不满足条件 返回false上传就会停止")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("beforeUpload")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("file")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 要开始做文件上传的检查了")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 文件类型 文件大小")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" types = ["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'image/jpeg'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'image/gif'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'image/bmp'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'image/png'")]),s._v("]\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (!types."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("includes")]),s._v("(file."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("type")]),s._v(")) {\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$message")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("error")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'上传图片只能是 JPG、GIF、BMP、PNG 格式!'")]),s._v(")\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//  检查大小")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" maxSize = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(" * "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1024")]),s._v(" * "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1024")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (maxSize < file."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("size")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$message")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("error")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'图片大小最大不能超过5M'")]),s._v(")\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n  }\n")])]),a("h3",[s._v("上传动作调用上传腾讯云")]),a("p",[a("strong",[s._v("上传动作为el-upload的http-request属性")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v(" :http-request="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"upload"')]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 自定义上传动作 有个参数 有个file对象，是我们需要上传到腾讯云服务器的内容")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("upload")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("params")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(params."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("file")]),s._v(")\n  } \n")])]),a("blockquote",[a("p",[s._v("我们需要在该方法中，调用腾讯云的上传方法")])]),a("p",[a("a",{attrs:{href:"https://cloud.tencent.com/document/product/436/35649#.E7.AE.80.E5.8D.95.E4.B8.8A.E4.BC.A0.E5.AF.B9.E8.B1.A1"}},[s._v("腾讯云文档地址")])]),a("p",[s._v("身份ID和密钥可以通过腾讯云平台获取")]),a("p",[s._v("登录 "),a("a",{attrs:{href:"https://console.cloud.tencent.com/capi"}},[s._v("访问管理控制台")]),s._v(" ，获取您的项目 SecretId 和 SecretKey。")]),a("p",[a("img",{attrs:{src:t(2670),alt:"image-20200805211539544"}})]),a("p",[s._v("实现代码")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 进行上传操作")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("upload")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("params")]),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   console.log(params.file)")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (params."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("file")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 执行上传操作")]),s._v("\n      cos."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("putObject")]),s._v("({\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Bucket")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'shuiruohanyu-106-1302806742'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 存储桶")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Region")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'ap-beijing'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 地域")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Key")]),s._v(": params."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("file")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("name")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 文件名")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Body")]),s._v(": params."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("file")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 要上传的文件对象")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("StorageClass")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'STANDARD'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 上传的模式类型 直接默认 标准模式即可")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 上传到腾讯云 =》 哪个存储桶 哪个地域的存储桶 文件  格式  名称 回调")]),s._v("\n      }, "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("err, data")]),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// data返回数据之后 应该如何处理")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(err || data)\n      })\n    }\n  }\n")])]),a("h3",[s._v("上传成功之后处理返回数据")]),a("p",[s._v("确定要上传记录id")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("beforeUpload")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("file")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   先检查文件类型")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" types = ["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'image/jpeg'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'image/gif'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'image/bmp'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'image/png'")]),s._v("]\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (!types."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("some")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v(" =>")]),s._v(" item === file."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("type")]),s._v(")) {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   如果不存在")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$message")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("error")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'上传图片只能是 JPG、GIF、BMP、PNG 格式!'")]),s._v(")\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 上传终止")]),s._v("\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 检查文件大小  5M 1M = 1024KB 1KB = 1024B")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" maxSize = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(" * "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1024")]),s._v(" * "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1024")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (file."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("size")]),s._v(" > maxSize) {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   超过了限制的文件大小")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$message")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("error")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'上传的图片大小不能大于5M'")]),s._v(")\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   已经确定当前上传的就是当前的这个file了")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("currentFileUid")]),s._v(" = file."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("uid")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 最后一定要return  true")]),s._v("\n},\n")])]),a("blockquote",[a("p",[s._v("处理返回数据")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 进行上传操作")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("upload")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("params")]),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   console.log(params.file)")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (params."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("file")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 执行上传操作")]),s._v("\n      cos."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("putObject")]),s._v("({\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Bucket")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'shuiruohanyu-106-1302806742'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 存储桶")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Region")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'ap-beijing'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 地域")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Key")]),s._v(": params."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("file")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("name")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 文件名")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Body")]),s._v(": params."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("file")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 要上传的文件对象")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("StorageClass")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'STANDARD'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 上传的模式类型 直接默认 标准模式即可")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 上传到腾讯云 =》 哪个存储桶 哪个地域的存储桶 文件  格式  名称 回调")]),s._v("\n      }, "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("err, data")]),s._v(") =>")]),s._v(" {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// data返回数据之后 应该如何处理")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("(err || data)\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// data中有一个statusCode === 200 的时候说明上传成功")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (!err && data."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("statusCode")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("200")]),s._v(") {\n          "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   此时说明文件上传成功  要获取成功的返回地址")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// fileList才能显示到上传组件上 此时我们要将fileList中的数据的url地址变成 现在上传成功的地址")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 目前虽然是一张图片 但是请注意 我们的fileList是一个数组")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 需要知道当前上传成功的是哪一张图片")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("fileList")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("fileList")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("map")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v(" =>")]),s._v(" {\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 去找谁的uid等于刚刚记录下来的id")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("uid")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("currentFileUid")]),s._v(") {\n              "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 将成功的地址赋值给原来的url属性")]),s._v("\n              "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'http://'")]),s._v(" + data."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("Location")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("upload")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(" }\n              "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// upload 为true 表示这张图片已经上传完毕 这个属性要为我们后期应用的时候做标记")]),s._v("\n              "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 保存  => 图片有大有小 => 上传速度有快又慢 =>要根据有没有upload这个标记来决定是否去保存")]),s._v("\n            }\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" item\n          })\n          "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 将上传成功的地址 回写到了fileList中 fileList变化  =》 upload组件 就会根据fileList的变化而去渲染视图")]),s._v("\n        }\n      })\n    }\n  }\n")])]),a("blockquote",[a("p",[s._v("我们在fileList中设置了属性为upload为true的属性，表示该图片已经上传成功了，如果fileList还有upload不为true的数据，那就表示该图片还没有上传完毕")])]),a("h2",[s._v("利用vue-print-nb进行打印")]),a("p",[s._v("首先，打印功能我们借助一个比较流行的插件")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[a("span",{pre:!0,attrs:{class:"hljs-variable"}},[s._v("$npm")]),s._v(" i vue-print-nb\n")])]),a("p",[s._v("使用v-print指令的方式进行打印")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-row")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"flex"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("justify")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"end"')]),s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-print")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"printObj"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("size")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"small"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"primary"')]),s._v(">")]),s._v("打印"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-button")]),s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-row")]),s._v(">")]),s._v("\n\n  printObj: {\n      id: 'myPrint'\n  }\n")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},2236:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("h1",[s._v("权限设计与管理")]),a("h2",[s._v("权限设计-RBAC的权限设计思想")]),a("blockquote",[a("p",[s._v("首先，我们先了解下什么是传统的权限设计")])]),a("p",[a("img",{attrs:{src:t(6139),alt:"image-20200901150655343"}})]),a("p",[s._v("从上面的图中，我们发现，传统的权限设计是对每个人进行单独的权限设置，但这种方式已经不适合目前企业的高效管控权限的发展需求，因为每个人都要单独去设置权限")]),a("blockquote",[a("p",[s._v("基于此，RBAC的权限模型就应运而生了，RBAC(Role-Based Access control) ，也就是基于角色的权限分配解决方案，相对于传统方案，RBAC提供了中间层Role（角色），其权限模式如下")])]),a("p",[a("img",{attrs:{src:t(6117),alt:"image-20200901151025021"}})]),a("p",[s._v("RBAC实现了用户和权限点的分离，想对某个用户设置权限，只需要对该用户设置相应的角色即可，而该角色就拥有了对应的权限，这样一来，权限的分配和设计就做到了极简，高效，当想对用户收回权限时，只需要收回角色即可，接下来，我们就在该项目中实施这一设想")]),a("h2",[s._v("给分配员工角色")]),a("h3",[s._v("新建分配角色窗体")]),a("p",[s._v("首先，新建分配角色窗体 "),a("strong",[a("code",{pre:!0},[s._v("assign-role.vue")])])]),a("p",[a("img",{attrs:{src:t(1005),alt:"image-20200728172853451"}})]),a("h3",[s._v("获取角色列表和当前用户角色")]),a("h3",[s._v("给员工分配角色")]),a("h2",[s._v("权限点管理页面开发")]),a("h3",[s._v("新建权限点管理页面")]),a("blockquote",[a("p",[s._v("API权限多见于在后端进行拦截，这里只做了页面访问和按钮操作授权")])]),a("p",[a("img",{attrs:{src:t(9230),alt:"image-20200901160508382"}})]),a("h2",[s._v("前端权限应用-页面访问和菜单")]),a("h3",[s._v("权限受控的主体思路")]),a("p",[s._v("在上面，已经把给用户分配了角色， 给角色分配了权限，那么在用户登录获取资料的时候，会自动查出该用户拥有哪些权限，这个权限需要和我们的菜单还有路由有效结合起来")]),a("p",[a("img",{attrs:{src:t(8528),alt:"image-20200730002842243"}})]),a("p",[s._v("在权限管理页面，每个模块都以一个如上图的"),a("strong",[s._v("标识")]),s._v(",这个标识可以和我们的路由模块相关联，用户有这个标识就可以访问对应路由，没有就不能访问")]),a("p",[s._v("vue-router提供了一个叫做"),a("a",{attrs:{href:"https://router.vuejs.org/zh/api/#router-addroutes"}},[s._v("addRoutes")]),s._v("的API方法，这个方法的含义是"),a("strong",[s._v("动态添加路由规则")])]),a("p",[a("img",{attrs:{src:t(6304),alt:"image-20200901164312005"}})]),a("h3",[s._v("新建Vuex中管理权限的模块")]),a("p",[a("strong",[a("code",{pre:!0},[s._v("src/store/modules/permission.js")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// vuex的权限模块")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { constantRouters } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/router'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// vuex中的permission用于存放静态路由+当前用户拥有的动态路由")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" state = {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("routes")]),s._v(": constantRoutes\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" mutation = {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// newRoutes为用户通关权限获取的动态路由")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setRoutes")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("state, newRoutes")]),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 下面这种写法是不对的")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// state.routes = [ ...state.route, ...newRoutes ]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 应该在静态路由的基础上加上动态路由")]),s._v("\n        state."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("routes")]),s._v(" = [ ...constantRoutes, ...newRoutes ]\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 否则会出现如")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 张三有2个动态路由，李四有两个和张三不一样的动态路由")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 张三登录了有2个动态路由李四登陆会在张三的基础上再加张三的路由，就是4个动态路由")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 但李四只有2个动态路由，造成了错误")]),s._v("\n    }\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" actions = {}\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("namespaced")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(",\n    state,\n    mutations,\n    actions\n    }\n}\n")])]),a("p",[s._v("在Vuex管理模块中引入permisson模块")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" permission "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./modules/permission'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" store = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vuex")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Store")]),s._v("({\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("modules")]),s._v(": {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 子模块   $store.state.app.")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// mapGetters([])")]),s._v("\n    app,\n    settings,\n    user,\n    permission\n  },\n  getters\n})\n")])]),a("h3",[s._v("Vuex筛选权限路由")]),a("p",[a("img",{attrs:{src:t(5378),alt:"image-20200815184203715"}})]),a("p",[s._v("我们可以在这张图中，进一步的进行操作")]),a("p",[a("img",{attrs:{src:t(8225),alt:"image-20200815184407204"}})]),a("blockquote",[a("p",[s._v("可以将路由模块的根节点**"),a("code",{pre:!0},[s._v("name")]),s._v("**属性命名和权限标识一致，这样只要标识能对上，就说明用户拥有了该权限")])]),a("p",[s._v("接下来， vuex的permission中提供一个action，进行关联")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { asyncRoutes, constantRoutes } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/router'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" action = {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 筛选权限路由")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 第二个参数为当前用户的所拥有的菜单权限")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('// menus: ["settings","permissions"]')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// asyncRoutes是所有的动态路由")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// asyncRoutes  [{path: 'setting',name: 'setting'},{}]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("filterRoutes")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("context, menus")]),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" routes = []\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   筛选出 动态路由中和menus中能够对上的路由   ")]),s._v("\n        menus."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("forEach")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("key")]),s._v(" =>")]),s._v(" {\n            routes."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("(...asyncRoutes."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("filter")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v(" =>")]),s._v(" item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("name")]),s._v(" === key))\n        })\n        context."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("commit")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'setRoutes'")]),s._v(", routes)\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" routes\n    }\n}\n")])]),a("h3",[s._v("在权限拦截处调用action筛选权限路由")]),a("p",[s._v("在路由模块的路由前置守卫处调用路由权限筛选，获取新的routes，并且addRoutes")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" router "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/router'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" store "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/store'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 引入store实例 和组件中的this.$store是一回事")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" nprogress "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'nprogress'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 引入进度条")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" whiteList = ["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/login'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/404'")]),s._v("] "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 定义白名单")]),s._v("\n\nrouter."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("beforeEach")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("async")]),s._v("(to, "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(", next) => {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(store."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("getters")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("token")]),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如果有token证明已经登录")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(to."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("path")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/login'")]),s._v("){\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 有token去访问登录页，自动跳转到首页")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("next")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/'")]),s._v(")\n        } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(!store."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("getters")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("userId")]),s._v(") {\n                "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 没有用户id，证明用户资料还没有获取")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { roles } = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" store."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("dispatch")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'user/getUserInfo'")]),s._v(")\n                "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// actions中函数 默认是Promise对象 调用这个对象 想要获取返回的值话 必须 加 await或者是then")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// actions是做异步操作的")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" routes = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" store."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("dispatch")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'permission/filterRoutes'")]),s._v(",roles."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("menus")]),s._v(")\n                "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// routes为筛选得到的动态路由")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 动态路由 添加到 路由表中 默认的路由表 只有静态路由 没有动态路由")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// addRoutes  必须 用 next(地址) 不能用next()")]),s._v("\n                router."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("addRoutes")]),s._v("(routes) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 添加动态路由到路由表  铺路")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("next")]),s._v("(to."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("path")]),s._v(")\n            } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n                "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("next")]),s._v("()\n            }\n        }\n    } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 没有token的情况下")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(whiteList."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("indexOf")]),s._v("(to."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("path")]),s._v(") > -"),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(") {\n            "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("next")]),s._v("()\n        } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n            "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("next")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/login'")]),s._v(")\n        }\n    }\n})\n")])]),a("p",[s._v("在**"),a("code",{pre:!0},[s._v("src/store/getters.js")]),s._v("**配置导出routes")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" getters = {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sidebar")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("state")]),s._v(" =>")]),s._v(" state."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("app")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("sidebar")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("device")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("state")]),s._v(" =>")]),s._v(" state."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("app")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("device")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("token")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("state")]),s._v(" =>")]),s._v(" state."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("user")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("token")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("state")]),s._v(" =>")]),s._v(" state."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("user")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("userInfo")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("username")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 建立用户名称的映射")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("userId")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("state")]),s._v(" =>")]),s._v(" state."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("user")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("userInfo")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("userId")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 建立用户id的映射")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("companyId")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("state")]),s._v(" =>")]),s._v(" state."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("user")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("userInfo")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("companyId")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 建立用户的公司Id映射")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("routes")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("state")]),s._v(" =>")]),s._v(" state."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("permission")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("routes")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 导出当前的路由")]),s._v("\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" getters\n")])]),a("p",[s._v("在左侧菜单组件中引入routes")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("computed")]),s._v(": {\n    ..."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("mapGetters")]),s._v("([\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'sidebar'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'routes'")]),s._v("\n]),\n")])]),a("h2",[s._v("登出时，重置路由权限和 404问题")]),a("blockquote",[a("p",[s._v("前面在"),a("strong",[s._v("addRoutes")]),s._v("的时候，一直都是在"),a("strong",[s._v("加")]),s._v("，登出的时候，我们并没有删，也没有重置，也就是说，我们之前加的路由在登出之后一直在，这怎么处理？")])]),a("p",[a("strong",[s._v("router/index.js")]),s._v("文件，发现一个重置路由方法")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 重置路由")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("resetRouter")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" newRouter = "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("createRouter")]),s._v("()\n  router."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("matcher")]),s._v(" = newRouter."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("matcher")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 重新设置路由的可匹配路径")]),s._v("\n}\n")])]),a("p",[s._v("这个方法就是将路由重新实例化，相当于换了一个新的路由，之前**"),a("code",{pre:!0},[s._v("加的路由")]),s._v("**自然不存在了，只需要在登出的时候， 处理一下即可")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 登出的action")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("logout")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 删除token")]),s._v("\n    context."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("commit")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'removeToken'")]),s._v(") \n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 删除用户资料")]),s._v("\n    context."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("commit")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'removeUserInfo'")]),s._v(")\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 重置路由")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("resetRouter")]),s._v("()\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 还有一步  vuex中的数据是不是还在")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 要清空permission模块下的state数据")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// vuex中 user子模块  permission子模块")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 子模块调用子模块的action  默认情况下 子模块的context是子模块的")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 父模块 调用 子模块的action")]),s._v("\n    context."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("commit")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'permission/setRoutes'")]),s._v(", [], { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("root")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(" })\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 子模块调用子模块的action 可以 将 commit的第三个参数 设置成  { root: true } 就表示当前的context不是子模块了 而是父模块")]),s._v("\n}\n\n")])]),a("p",[s._v("除此之外，在页面刷新的时候，本来应该拥有权限的页面出现了404，这是因为404的匹配权限放在了静态路由，而动态路由在没有addRoutes之前，找不到对应的地址，就会显示404，所以我们需要将404放置到动态路由的最后")]),a("p",[a("strong",[a("code",{pre:!0},[s._v("src/permission.js")])]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("router."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("addRoutes")]),s._v("([...routes, { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'*'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("redirect")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/404'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("hidden")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(" }]) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 添加到路由表")]),s._v("\n")])]),a("h2",[s._v("功能权限应用")]),a("p",[s._v("功能权限的受控思路")]),a("blockquote",[a("p",[s._v("一个页面的访问权限之后，页面中的某些功能，用户可能有，也可能没有，这就是功能权限")])]),a("p",[s._v("查询出来的数据中的**"),a("code",{pre:!0},[s._v("points")]),s._v("**")]),a("p",[s._v("首先需要在员工管理的权限点下， 新增一个删除权限点，启用")]),a("p",[a("img",{attrs:{src:t(8901),alt:"image-20200730020732919"}})]),a("blockquote",[a("p",[s._v("要做的就是看看用户，是否拥有"),a("strong",[s._v("point-user-delete")]),s._v("这个point，有就可以让删除能用，没有就隐藏或者禁用")])]),a("h3",[s._v("使用Mixin技术将检查方法注入")]),a("p",[s._v("所以，可以采用一个新的技术 "),a("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/mixins.html"}},[s._v("mixin(混入)")]),s._v("来让所有的组件可以拥有一个公共的方法")]),a("p",[a("strong",[a("code",{pre:!0},[s._v("src/mixin/checkPermission.js")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" store "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/store'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n        "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("checkPermission")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("key")]),s._v(") {\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { userInfo } = store."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("state")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("user")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(userInfo."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("roles")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("points")]),s._v(" && userInfo."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("roles")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("points")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("length")]),s._v("){\n                "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" userInfo."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("roles")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("points")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("some")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v(" =>")]),s._v(" item === key)\n            }\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n        }\n    }\n}\n")])]),a("p",[s._v("并且在全局注册")]),a("p",[a("strong",[s._v("在"),a("code",{pre:!0},[s._v("main.js")]),s._v("中")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" checkPermission "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/mixin/checkPermission'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Vue")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("mixin")]),s._v("(checkPermission)\n")])]),a("p",[a("strong",[s._v("在员工组件中检查权限点")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-button")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":disabled")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("\"!checkPermission('POINT-USER-UPDATE')\"")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("size")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"small"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"$router.push(`/employees/detail/${obj.row.id}`)"')]),s._v(">")]),s._v("查看"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("el-button")]),s._v(">")]),s._v("\n")])]),a("p",[s._v("此时，可以通过配置权限的方式，检查权限的可用性了")])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},3524:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("h1",[s._v("登录模块")]),a("p",[a("a",{attrs:{href:"http://ihrm-java.itheima.net/#/login"}},[s._v("线上地址")])]),a("p",[a("img",{attrs:{src:t(6194),alt:"image-20200811014205189"}})]),a("p",[s._v("我们看到上面的 **"),a("code",{pre:!0},[s._v("process.env.port")]),s._v("**实际上是一个nodejs服务下的环境变量，该变量在哪里设置呢？")]),a("p",[s._v("在项目下, 我们发现了**"),a("code",{pre:!0},[s._v(".env.development")]),a("strong",[s._v("和")]),a("code",{pre:!0},[s._v(".env.production")]),s._v("**两个文件")]),a("p",[s._v("development => 开发环境")]),a("p",[s._v("production => 生产环境")]),a("p",[s._v("当我们运行"),a("strong",[s._v("npm run dev")]),s._v("进行开发调试的时候,此时会加载执行**"),a("code",{pre:!0},[s._v(".env.development")]),s._v("**文件内容")]),a("p",[s._v("当我们运行"),a("strong",[s._v("npm run build:prod")]),s._v("进行生产环境打包的时候,会加载执行**"),a("code",{pre:!0},[s._v(".env.production")]),s._v("**文件内容")]),a("p",[s._v("所以,如果想要设置开发环境的接口,直接在**"),a("code",{pre:!0},[s._v(".env.development")]),s._v("**中写入对于port变量的赋值即可")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 设置端口号")]),s._v("\nport = 8888\n")])]),a("p",[a("strong",[s._v("网站名称")]),s._v(".")]),a("p",[s._v("网站名称实际在"),a("strong",[s._v("configureWebpack")]),s._v("选项中的"),a("strong",[s._v("name")]),s._v("选项,通过阅读代码,我们会发现name实际上来源于src目录下")]),a("p",[s._v("**"),a("code",{pre:!0},[s._v("settings.js")]),s._v("**文件")]),a("p",[s._v('所以,我们可以将网站名称改成"'),a("strong",[a("code",{pre:!0},[s._v("人力资源管理平台")])]),s._v('"')]),a("p",[s._v("![更改名称](./img/image-20200710164040042.png)")]),a("h2",[s._v("Vue-Cli配置跨域代理")]),a("p",[a("strong",[a("code",{pre:!0},[s._v("目标")])]),s._v(": 通过配置vue-cli的代理解决跨域访问的问题")]),a("p",[a("strong",[s._v("为什么会出现跨域？")])]),a("p",[s._v("当下,最流行的就是**"),a("code",{pre:!0},[s._v("前后分离")]),a("strong",[s._v("项目,也就是")]),a("code",{pre:!0},[s._v("前端项目")]),a("strong",[s._v("和")]),a("code",{pre:!0},[s._v("后端接口")]),a("strong",[s._v("并不在一个域名之下，那么前端项目访问后端接口必然存在")]),a("code",{pre:!0},[s._v("跨域")]),s._v("**的行为.")]),a("p",[a("img",{attrs:{src:t(5570),alt:"跨域"}})]),a("blockquote",[a("p",[s._v("怎么解决这种跨域 ？")])]),a("p",[a("strong",[a("code",{pre:!0},[s._v("请注意")])]),s._v("，我们所遇到的这种跨域是位于"),a("strong",[s._v("开发环境")]),s._v("的，真正部署上线时的跨域是"),a("strong",[s._v("生产环境")]),s._v("的")]),a("p",[s._v("解决开发环境的跨域问题")]),a("p",[a("strong",[s._v("开发环境的跨域")]),s._v(".")]),a("p",[s._v("开发环境的跨域，也就是在**"),a("code",{pre:!0},[s._v("vue-cli脚手架环境")]),a("strong",[s._v("下开发启动服务时，我们访问接口所遇到的跨域问题，vue-cli为我们在本地")]),a("code",{pre:!0},[s._v("开启了一个服务")]),a("strong",[s._v(",可以通过这个服务帮我们")]),a("code",{pre:!0},[s._v("代理请求")]),s._v("**,解决跨域问题")]),a("p",[s._v("这就是vue-cli配置"),a("strong",[s._v("webpack的反向代理")])]),a("p",[a("img",{attrs:{src:t(4445),alt:"反向代理"}})]),a("blockquote",[a("p",[s._v("采用vue-cli的代理配置")])]),a("p",[s._v("vue-cli的配置文件即**"),a("code",{pre:!0},[s._v("vue.config.js")]),s._v("**,这里有我们需要的 "),a("a",{attrs:{href:"https://cli.vuejs.org/zh/config/#devserver-proxy"}},[s._v("代理选项")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("module")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("exports")]),s._v(" = {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("devServer")]),s._v(": {\n   "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 代理配置")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("proxy")]),s._v(": {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 这里的api 表示如果我们的请求地址有/api的时候,就出触发代理机制")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// localhost:8888/api/abc  => 代理给另一个服务器")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 本地的前端  =》 本地的后端  =》 代理我们向另一个服务器发请求 （行得通）")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 本地的前端  =》 另外一个服务器发请求 （跨域 行不通）")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/api'")]),s._v(": {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("target")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'www.baidu.com'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 我们要代理的地址")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("changeOrigin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 是否跨域 需要设置此值为true 才可以让本地服务代理我们发出请求")]),s._v("\n         "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 路径重写")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("pathRewrite")]),s._v(": {\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 重新路由  localhost:8888/api/login  => www.baidu.com/api/login")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'^/api'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 假设我们想把 localhost:8888/api/login 变成www.baidu.com/login 就需要这么做 ")]),s._v("\n        }\n      },\n    }\n  }\n}\n")])]),a("p",[s._v("以上就是我们在vue-cli项目中配置的代理设置")]),a("blockquote",[a("p",[s._v("接下来,我们在代码中将要代理的后端地址变成 "),a("a",{attrs:{href:"http://ihrm-java.itheima.net"}},[s._v("后端接口地址")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 代理跨域的配置")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("proxy")]),s._v(": {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 当我们的本地的请求 有/api的时候，就会代理我们的请求地址向另外一个服务器发出请求")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/api'")]),s._v(": {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("target")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'http://ihrm-java.itheima.net/'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 跨域请求的地址")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("changeOrigin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 只有这个值为true的情况下 才表示开启跨域")]),s._v("\n      }\n    }\n")])]),a("h2",[s._v("封装Vuex的登录Action并处理token")]),a("p",[s._v("**"),a("code",{pre:!0},[s._v("目标")]),s._v("**在vuex中封装登录的action,并处理token")]),a("blockquote",[a("p",[s._v("在这个小节中，我们将在vuex中加入对于用户的登录的处理")])]),a("p",[s._v("在Vuex中对token进行管理")]),a("p",[s._v("在传统模式中，我们登录的逻辑很简单，如图")]),a("p",[a("img",{attrs:{src:t(9498),alt:"存储token"}})]),a("blockquote",[a("p",[s._v("上图中，组件直接和接口打交道，这并没有什么问题，但是对于用户token这一高频使用的**"),a("code",{pre:!0},[s._v("钥匙")]),s._v("**，我们需要让vuex来介入，将用户的token状态共享，更方便的读取，如图")])]),a("p",[a("img",{attrs:{src:t(6443),alt:"存储token"}})]),a("p",[s._v("在**"),a("code",{pre:!0},[s._v("utils/auth.js")]),a("strong",[s._v("中,基础模板已经为我们提供了")]),a("code",{pre:!0},[s._v("获取token")]),a("strong",[s._v(",")]),a("code",{pre:!0},[s._v("设置token")]),a("strong",[s._v(",")]),a("code",{pre:!0},[s._v("删除token")]),s._v("**的方法,可以直接使用")]),a("p",[s._v("只需要将存储的key放置成特定值即可")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cookies")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'js-cookie'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("TokenKey")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'hrsaas-ihrm-token'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 设定一个独一无二的key")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getToken")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cookies")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("get")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("TokenKey")]),s._v(")\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setToken")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("token")]),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cookies")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("set")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("TokenKey")]),s._v(", token)\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("removeToken")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Cookies")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("remove")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("TokenKey")]),s._v(")\n}\n")])]),a("p",[a("strong",[s._v("初始化token状态")]),s._v(" - **`store/modules/user.js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { getToken, setToken, removeToken } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/utils/auth'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 状态")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 初始化的时候从缓存中读取状态 并赋值到初始化的状态上")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Vuex的持久化 如何实现 ？ Vuex和前端缓存相结合")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" state = {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("token")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getToken")]),s._v("() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 设置token初始状态   token持久化 => 放到缓存中")]),s._v("\n}\n")])]),a("p",[a("strong",[s._v("提供修改token的mutations")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 修改状态")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" mutations = {\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 设置token")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setToken")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("state, token")]),s._v(") {\n    state."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("token")]),s._v(" = token "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 设置token  只是修改state的数据  123 =》 1234")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// vuex变化 => 缓存数据")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("setToken")]),s._v("(token) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// vuex和 缓存数据的同步")]),s._v("\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 删除缓存")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("removeToken")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("state")]),s._v(") {\n    state."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("token")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 删除vuex的token")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("removeToken")]),s._v("() "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 先清除 vuex  再清除缓存 vuex和 缓存数据的同步")]),s._v("\n  }\n}\n")])]),a("h3",[s._v("封装登录的Action")]),a("blockquote",[a("p",[s._v("登录action要做的事情,"),a("strong",[a("code",{pre:!0},[s._v("调用登录接口")])]),s._v(","),a("strong",[a("code",{pre:!0},[s._v("成功后设置token到vuex")])]),s._v(","),a("strong",[a("code",{pre:!0},[s._v("失败则返回失败")])])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 执行异步")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" actions = {\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 定义login action  也需要参数 调用action时 传递过来的参数")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("login")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("context, data")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" result = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("login")]),s._v("(data) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 实际上就是一个promise  result就是执行的结果")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// axios默认给数据加了一层data")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (result."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("success")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 表示登录接口调用成功 也就是意味着你的用户名和密码是正确的")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 现在有用户token")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// actions 修改state 必须通过mutations")]),s._v("\n      context."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("commit")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'setToken'")]),s._v(", result."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v(")\n    }\n  }\n}\n")])]),a("blockquote",[a("p",[s._v("上述代码中,我们使用了**"),a("code",{pre:!0},[s._v("async/await")]),a("strong",[s._v("语法,如果用")]),a("code",{pre:!0},[s._v("then")]),s._v("**语法也是可以的")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 为什么async/await 不用返回new Promise,因为 async函数本身就是 Promise,promise的值返回的值  ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("login")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("context, data")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Promise")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("resolve")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("login")]),s._v("(data)."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("then")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("result")]),s._v(" =>")]),s._v(" {\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (result."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("success")]),s._v(") {\n          context."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("commit")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'setToken'")]),s._v(",  result."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 提交mutations设置token")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("resolve")]),s._v("()  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 表示执行成功了")]),s._v("\n        }\n      })\n    })\n  }\n")])]),a("blockquote",[a("p",[s._v("以上两种写法都是OK的,我们在项目研发过程中,尽可能的采用前一种")])]),a("p",[s._v("除此之外，为了更好的让其他模块和组件更好的获取token数据，我们可以在**"),a("code",{pre:!0},[s._v("store/getters.js")]),s._v("**中将token值作为公共的访问属性放出")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" getters = {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("sidebar")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("state")]),s._v(" =>")]),s._v(" state."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("app")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("sidebar")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("device")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("state")]),s._v(" =>")]),s._v(" state."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("app")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("device")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("token")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("state")]),s._v(" =>")]),s._v(" state."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("user")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("token")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 在根级的getters上 开发子模块的属性给别人看 给别人用")]),s._v("\n}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" getters\n")])]),a("h2",[s._v("request中环境变量和异常的处理")]),a("h3",[s._v("处理axios的响应拦截器")]),a("blockquote",[a("p",[s._v("为什么会有环境变量之分? 如图")])]),a("p",[a("img",{attrs:{src:t(9505),alt:"环境变量"}})]),a("blockquote",[a("p",[s._v("从上图可以看出，开发环境实际上就是在自己的本地开发或者要求不那么高的环境，但是一旦进入生产，就是**"),a("code",{pre:!0},[s._v("真实的数据")]),s._v("**。 拿银行作比喻，如果你在开发环境拿生产环境的接口做测试，银行系统就会发生很大的风险。")])]),a("p",[s._v("前端主要区分两个环境,"),a("strong",[a("code",{pre:!0},[s._v("开发环境")])]),s._v(","),a("strong",[a("code",{pre:!0},[s._v("生产环境")])])]),a("p",[a("strong",[s._v("环境变量")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[a("span",{pre:!0,attrs:{class:"hljs-variable"}},[s._v("$process")]),s._v(".env.NODE_ENV "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 当为production时为生产环境 为development时为开发环境")]),s._v("\n")])]),a("p",[a("strong",[s._v("环境文件")]),s._v(".")]),a("p",[s._v("我们可以在**"),a("code",{pre:!0},[s._v(".env.development")]),a("strong",[s._v("和")]),a("code",{pre:!0},[s._v(".env.production")]),s._v("**定义变量，变量自动就为当前环境的值")]),a("p",[s._v("基础模板在以上文件定义了变量**"),a("code",{pre:!0},[s._v("VUE_APP_BASE_API")]),a("strong",[s._v("，该变量可以作为axios请求的")]),a("code",{pre:!0},[s._v("baseURL")]),s._v("**")]),a("p",[s._v("我们会发现,在模板中,两个值分别为**"),a("code",{pre:!0},[s._v("/dev-api")]),a("strong",[s._v("和")]),a("code",{pre:!0},[s._v("/prod-api")]),s._v("**")]),a("p",[s._v("但是我们的开发环境代理是**"),a("code",{pre:!0},[s._v("/api")]),s._v("**，所以可以统一下")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 开发环境的基础地址和代理对应")]),s._v("\nVUE_APP_BASE_API = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/api'")]),s._v("\n")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 这里配置了/api,意味着需要在Nginx服务器上为该服务配置 nginx的反向代理对应/prod-api的地址 ")]),s._v("\nVUE_APP_BASE_API = "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/prod-api'")]),s._v("  \n")])]),a("p",[s._v("处理axios的响应拦截器")]),a("blockquote",[a("p",[s._v("OK，除此之外,axios返回的数据中默认增加了一层**"),a("code",{pre:!0},[s._v("data的包裹")]),a("strong",[s._v(",我们需要在这里处理下 并且,人资项目的接口,如果执行失败,只是设置了")]),a("code",{pre:!0},[s._v("success")]),a("strong",[s._v("为")]),a("code",{pre:!0},[s._v("false")]),s._v("**，并没有reject，我们需要一并处理下")])]),a("p",[s._v("处理逻辑如图")]),a("p",[a("img",{attrs:{src:t(3663),alt:"处理逻辑"}})]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 响应拦截器")]),s._v("\nservice."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("interceptors")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("response")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("response")]),s._v(" =>")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// axios默认加了一层data")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { success, message, data } = response."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("data")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   要根据success的成功与否决定下面的操作")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (success) {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" data\n  } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 业务已经错误了 还能进then ? 不能 ！ 应该进catch")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Message")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("error")]),s._v("(message) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 提示错误消息")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Promise")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("reject")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Error")]),s._v("(message))\n  }\n}, "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("error")]),s._v(" =>")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Message")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("error")]),s._v("(error."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("message")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 提示错误信息")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Promise")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("reject")]),s._v("(error) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 返回执行错误 让当前的执行链跳出成功 直接进入 catch")]),s._v("\n})\n")])]),a("blockquote",[a("p",[s._v("既然在request中已经默认去除了一层data的外衣，所以我们也将上节login的action进行一下改动")])]),a("p",[a("strong",[s._v("处理登录的返回结构问题")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("login")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("context, data")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 经过响应拦截器的处理之后 这里的result实际上就是 token")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" result = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("login")]),s._v("(data) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 实际上就是一个promise  result就是执行的结果")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// axios默认给数据加了一层data")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 表示登录接口调用成功 也就是意味着你的用户名和密码是正确的")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 现在有用户token")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// actions 修改state 必须通过mutations")]),s._v("\n    context."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("commit")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'setToken'")]),s._v(", result)\n  }\n")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},1671:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("h1",[s._v("组织架构")]),a("p",[a("img",{attrs:{src:t(3489),alt:"image-20200828105046683"}})]),a("h2",[s._v("将数组数据转化成树形结构")]),a("p",[s._v("然后，我们需要将列表型的数据，转化成树形数据，这里需要用到"),a("strong",[s._v("递归算法")])]),a("p",[a("img",{attrs:{src:t(2436),alt:"image-20200721010931214"}})]),a("p",[s._v("封装一个工具方法，"),a("strong",[a("code",{pre:!0},[s._v("src/utils/index.js")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/**\n * \n * 将列表数据转化为树形\n */")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("transListToTreeData")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("list, rootValue")]),s._v("){\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//  list 列表   rootValue 根节点标识")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" arr = []\n    list."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("forEach")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v(" =>")]),s._v(" {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 先找一个头，再找这个头之下的 ")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("pid")]),s._v(" === rootValue){\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 判断是否有子节点")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" children = "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("transListToTreeData")]),s._v("(list, item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("id")]),s._v(")\n            "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(children."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("length")]),s._v("){\n                "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 有子节点,将子节点与父节点相关联")]),s._v("\n                item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("children")]),s._v(" = children\n            }\n            "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 数组push进item结果")]),s._v("\n            arr."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("push")]),s._v("(item)\n        }\n    })\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" arr\n}\n")])]),a("h3",[s._v("通知父组件更新1")]),a("p",[s._v("方法1：通过触发自定义事件来进行"),a("code",{pre:!0},[s._v("this.$emit")])]),a("h2",[s._v("新增 "),a("code",{pre:!0},[s._v("部门名称")]),s._v(" 和 "),a("code",{pre:!0},[s._v("部门编码")]),s._v(" 的自定义校验")]),a("p",[s._v("在添加部门名称或者部门编码是我们要检验该名称或者该编码是否已经存在，这需要一个特殊的校验规则 部门名称和部门编码通过"),a("strong",[s._v("自定义校验函数validator")]),s._v("来实现")]),a("blockquote",[a("p",[s._v("首先，在校验名称和编码时，要获取最新的组织架构，这也是我们这里trigger采用blur的原因，因为change对于访问的频率过高，我们需要控制访问频率")])]),a("p",[s._v("根据当前部门id，找到所有子部门相关的数据，判断是否重复")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 此函数作用：去找在同级部门下是否有相同名称的部门已存在")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("checkNameRepeat")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("rule,value,callback")]),s._v(") => {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 先获取最新的组织架构数据")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { depts } = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getDepartments")]),s._v("()\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 先根据当前部门id，找到所有子部门相关的数据,再找出该部门下是否有重复名称")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" isRepeat = depts."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("filter")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v(" =>")]),s._v(" item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("pid")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("treeNode")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("id")]),s._v(")."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("some")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v(" =>")]),s._v(" item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("name")]),s._v(" === value)\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" isRepeat ? "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("callback")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Error")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`同级目录下已存在"),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${value}")]),s._v("部门`")]),s._v(")) : "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("callback")]),s._v("()\n}\n")])]),a("blockquote",[a("p",[s._v("检查部门编码的过程同理")])]),a("h3",[s._v("通知父组件更新2")]),a("p",[s._v("方法2：利用sync修饰符")]),a("p",[s._v("按照常规，想要让父组件更新**"),a("code",{pre:!0},[s._v("showDialog")]),s._v("**的话，需要这样做")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 子组件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(".$emit("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'changedialog'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//触发事件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 父组件")]),s._v("\n<child @changedialog="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"method"')]),s._v(" :showDialog="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"showDialog"')]),s._v(" />\n "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("method")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("value")]),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("showDialog")]),s._v(" = value\n}\n")])]),a("blockquote",[a("p",[s._v("但是，vuejs为我们提供了**"),a("code",{pre:!0},[s._v("sync修饰符")]),s._v("**，它提供了一种简写模式 也就是")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 子组件update:固定写法（update:props名称，值）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(".$emit("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'update:showDialog'")]),s._v(","),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 父组件 sync修饰符")]),s._v("\n<child :showDialog."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("sync")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'showDialog'")]),s._v("/>\n")])]),a("h2",[s._v("根据计算属性显示控制标题")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("computed")]),s._v(": {\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("showTitle")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("formData")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("id")]),s._v(" ? "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'编辑部门'")]),s._v(" : "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'新增子部门'")]),s._v("\n    }\n  }\n")])]),a("p",[s._v("同时发现，el-form中的resetFields不能重置非表单中的数据，所以在取消的位置需要强制加上 重置数据")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("btnCancel")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 重置数据  因为resetFields 只能重置 表单上的数据 非表单上的 比如 编辑中id 不能重置")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("formData")]),s._v(" = {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("code")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("manager")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("introduce")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v("\n      }\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 关闭弹层")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v(".$emit("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'update:showDialog'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v(")\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 清除之前的校验  可以重置数据 只能重置 定义在data中的数据")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$refs")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("deptForm")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("resetFields")]),s._v("()\n    }\n")])]),a("h2",[s._v("校验规则支持编辑场景下的校验")]),a("blockquote",[a("p",[s._v("除此之外，我们发现原来的校验规则实际和编辑部门有些冲突，所以需要进一步处理")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 现在定义一个函数 这个函数的目的是 去找 同级部门下 是否有重复的部门名称")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("checkNameRepeat")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("rule, value, callback")]),s._v(") => {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 先要获取最新的组织架构数据")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { depts } = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getDepartments")]),s._v("()\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//  检查重复规则 需要支持两种 新增模式 / 编辑模式")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// depts是所有的部门数据")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如何去找技术部所有的子节点")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" isRepeat = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("formData")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("id")]),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 有id就是编辑模式")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 编辑 张三 => 校验规则 除了我之外 同级部门下 不能有叫张三的")]),s._v("\n        isRepeat = depts."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("filter")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v(" =>")]),s._v(" item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("id")]),s._v(" !== "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("formData")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("id")]),s._v(" && item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("pid")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("treeNode")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("pid")]),s._v(")."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("some")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v(" =>")]),s._v(" item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("name")]),s._v(" === value)\n      } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 没id就是新增模式")]),s._v("\n        isRepeat = depts."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("filter")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v(" =>")]),s._v(" item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("pid")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("treeNode")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("id")]),s._v(")."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("some")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v(" =>")]),s._v(" item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("name")]),s._v(" === value)\n      }\n\n      isRepeat ? "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("callback")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Error")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`同级部门下已经有"),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${value}")]),s._v("的部门了`")]),s._v(")) : "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("callback")]),s._v("()\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 检查编码重复")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("checkCodeRepeat")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("rule, value, callback")]),s._v(") => {\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 先要获取最新的组织架构数据")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//  检查重复规则 需要支持两种 新增模式 / 编辑模式")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { depts } = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getDepartments")]),s._v("()\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" isRepeat = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("formData")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("id")]),s._v(") {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 编辑模式  因为编辑模式下 不能算自己")]),s._v("\n        isRepeat = depts."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("some")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v(" =>")]),s._v(" item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("id")]),s._v(" !== "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("formData")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("id")]),s._v(" && item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("code")]),s._v(" === value && value)\n      } "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v(" {\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 新增模式")]),s._v("\n        isRepeat = depts."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("some")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("item")]),s._v(" =>")]),s._v(" item."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("code")]),s._v(" === value && value) "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 这里加一个 value不为空 因为我们的部门有可能没有code")]),s._v("\n      }\n\n      isRepeat ? "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("callback")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Error")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`组织架构中已经有部门使用"),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${value}")]),s._v("编码`")]),s._v(")) : "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("callback")]),s._v("()\n    }\n")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},4199:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("h1",[s._v("路由页面整理")]),a("p",[a("strong",[s._v("简单项目")]),s._v(".")]),a("p",[a("img",{attrs:{src:t(5885),alt:"image-20200827153753307"}})]),a("p",[a("strong",[s._v("当前项目结构")]),s._v(".")]),a("p",[a("img",{attrs:{src:t(8627),alt:"image-20200827155342126"}})]),a("blockquote",[a("p",[s._v("因为复杂中台项目的页面众多，不可能把所有的业务都集中在一个文件上进行管理和维护，并且还有最重要的，前端的页面中主要分为两部分，一部分是所有人都可以访问的， 一部分是只有有权限的人才可以访问的，拆分多个模块便于更好的控制")])]),a("p",[a("strong",[s._v("静态路由和动态路由")]),s._v(".")]),a("p",[a("img",{attrs:{src:t(5214),alt:"image-20200716150421791"}})]),a("p",[a("strong",[s._v("删除多余的静态路由表")]),s._v(" "),a("strong",[a("code",{pre:!0},[s._v("src/router/index.js")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/**\n * constantRoutes\n * a base page that does not have permission requirements\n * all roles can be accessed\n */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" constantRoutes = [\n  {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/login'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("import")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/views/login/index'")]),s._v("),\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("hidden")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n  },\n\n  {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/404'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("import")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/views/404'")]),s._v("),\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("hidden")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n  },\n\n  {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Layout")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("redirect")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/dashboard'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("children")]),s._v(": [{\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'dashboard'")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Dashboard'")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("import")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/views/dashboard/index'")]),s._v("),\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("meta")]),s._v(": { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("title")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Dashboard'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("icon")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'dashboard'")]),s._v(" }\n    }]\n  },\n\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 404 page must be placed at the end !!!")]),s._v("\n  { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'*'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("redirect")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/404'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("hidden")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(" }\n]\n")])]),a("h2",[s._v("设置每个模块的路由规则")]),a("p",[s._v("如员工 "),a("strong",[s._v("employees.js")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 导出属于员工的路由规则")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Layout")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/layout'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//  {  path: '', component: '' }")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 每个子模块 其实 都是外层是layout  组件位于layout的二级路由里面")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/employees'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 路径")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("name")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'employees'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 给路由规则加一个name")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Layout")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 组件")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 配置二级路的路由表")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("children")]),s._v(": [{\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("path")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 这里当二级路由的path什么都不写的时候 表示该路由为当前二级路由的默认路由")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("component")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("import")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'@/views/employees'")]),s._v("),\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 路由元信息  其实就是存储数据的对象 我们可以在这里放置一些信息")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("meta")]),s._v(": {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("title")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'员工管理'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// meta属性的里面的属性 随意定义 但是这里为什么要用title呢， 因为左侧导航会读取我们的路由里的meta里面的title作为显示菜单名称")]),s._v("\n    }\n  }]\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 当你的访问地址 是 /employees的时候 layout组件会显示 此时 你的二级路由的默认组件  也会显示")]),s._v("\n\n")])]),a("blockquote",[a("p",[s._v("上述代码中，我们用到了meta属性，该属性为一个对象，里面可放置自定义属性，主要用于读取一些配置和参数，并且值得**"),a("code",{pre:!0},[s._v("注意")]),a("strong",[s._v("的是：我们的meta写了二级默认路由上面，而不是一级路由，因为当存在二级路由的时候，访问当前路由信息访问的就是")]),a("code",{pre:!0},[s._v("二级默认路由")]),s._v("**")])]),a("h2",[s._v("静态路由和动态路由临时合并，形成左侧菜单")]),a("p",[a("strong",[s._v("路由主文件")]),s._v(" "),a("strong",[a("code",{pre:!0},[s._v("src/router/index.js")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 引入多个模块的规则")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" approvalsRouter "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./modules/approvals'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" departmentsRouter "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./modules/departments'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" employeesRouter "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./modules/employees'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" permissionRouter "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./modules/permission'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" attendancesRouter "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./modules/attendances'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" salarysRouter "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./modules/salarys'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" settingRouter "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./modules/setting'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" socialRouter "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./modules/social'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 动态路由")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" asyncRoutes = [\n  approvalsRouter,\n  departmentsRouter,\n  employeesRouter,\n  permissionRouter,\n  attendancesRouter,\n  salarysRouter,\n  settingRouter,\n  socialRouter\n]\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("createRouter")]),s._v(" = ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") => "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Router")]),s._v("({\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// mode: 'history', // require service support")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("scrollBehavior")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" ({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("y")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" }), "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 管理滚动行为 如果出现滚动 切换就让 让页面回到顶部")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("routes")]),s._v(": [...constantRoutes, ...asyncRoutes] "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 临时合并所有的路由")]),s._v("\n})\n")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},7340:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("h1",[s._v("在nodejs环境中应用并代理跨域")]),a("h2",[s._v("使用koa框架部署项目")]),a("blockquote",[a("p",[s._v("到现在为止，已经完成了一个前端工程师的开发流程，按照常规的做法，此时，运维会将我代码部署到阿里云的ngix服务上，对于前端而言，可以将其部署到本机的nodejs环境中")])]),a("p",[s._v("部署 自动化部署 /手动部署")]),a("p",[s._v("第一步，建立web服务文件夹 "),a("strong",[a("code",{pre:!0},[s._v("hrServer")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("mkdir")]),s._v(" hrServer\n")])]),a("p",[s._v("第二步，在该文件夹下，初始化npm")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("npm init -y\n")])]),a("p",[s._v("第三步，安装服务端框架koa(也可以采用express或者egg)")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("npm i koa koa-static\n")])]),a("p",[s._v("第四步，拷贝上小节打包的"),a("code",{pre:!0},[s._v("dist")]),s._v("目录到**"),a("code",{pre:!0},[s._v("hrServer/public")]),s._v("**下")]),a("p",[s._v("第五步，在根目录下创建"),a("code",{pre:!0},[s._v("app.js")]),s._v("，代码如下")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Koa")]),s._v("  = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'koa'")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" serve = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'koa-static'")]),s._v(");\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" app = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Koa")]),s._v("();\napp."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("serve")]),s._v("(__dirname + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/public"')]),s._v(")); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//将public下的代码静态化")]),s._v("\napp."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("listen")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3333")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" {\n     "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'人资项目启动'")]),s._v(")\n})\n")])]),a("blockquote",[a("p",[s._v("此时，我们可以访问，"),a("a",{attrs:{href:"http://localhost:3333"}},[s._v("http://localhost:3333")])])]),a("h2",[s._v("解决history页面访问问题")]),a("p",[s._v("此时存在两个问题，")]),a("p",[s._v("1."),a("strong",[s._v("当我们刷新页面，发现404")])]),a("blockquote",[a("p",[s._v("这是因为我们采用了history的模式，地址的变化会引起服务器的刷新，我们只需要在app.js对所有的地址进行一下处理即可")])]),a("p",[s._v("安装 koa中间件")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("npm i koa2-connect-history-api-fallback\n")])]),a("p",[a("strong",[s._v("注册中间件")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Koa")]),s._v("  = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'koa'")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" serve = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'koa-static'")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v("  { historyApiFallback } = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'koa2-connect-history-api-fallback'")]),s._v(");\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" path = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'path'")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" app = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Koa")]),s._v("();\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 这句话 的意思是除接口之外所有的请求都发送给了 index.html")]),s._v("\napp."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("historyApiFallback")]),s._v("({ \n     "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("whiteList")]),s._v(": ["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/prod-api'")]),s._v("]\n }));  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 这里的whiteList是 白名单的意思")]),s._v("\napp."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("serve")]),s._v("(__dirname + "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"/public"')]),s._v(")); "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//将public下的代码静态化")]),s._v("\n\napp."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("listen")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3333")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" {\n     "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("console")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("log")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'人资项目启动'")]),s._v(")\n})\n")])]),a("h2",[s._v("解决生产环境跨域问题")]),a("p",[s._v("1.当点击登录时，发现接口404")]),a("blockquote",[a("p",[s._v("vue-cli的代理只存在于开发期，当我们上线到node环境或者ngix环境时，需要我们再次在环境中代理")])]),a("p",[s._v("在nodejs中代理")]),a("p",[s._v("安装跨域代理中间件")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("npm i koa2-proxy-middleware\n")])]),a("p",[s._v("配置跨越代理")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" proxy = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'koa2-proxy-middleware'")]),s._v(")\n\napp."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("use")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("proxy")]),s._v("({\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("targets")]),s._v(": {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// (.*) means anything")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/prod-api/(.*)'")]),s._v(": {\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("target")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'http://ihrm-java.itheima.net/api'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//后端服务器地址")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("changeOrigin")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("pathRewrite")]),s._v(": {\n            "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/prod-api'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('""')]),s._v("\n        }\n    }\n  }\n}))\n")])]),a("p",[s._v("此时，项目就可以跨域访问了！")]),a("blockquote",[a("p",[a("strong",[s._v("到现在为止，在十几天的时间里，完成了一个较为复杂的中台项目的解剖和开发，任何一个复杂的项目都是各种各样的功能通过合理的设计和布局组装而成的，所以未来我们要掌握的能力就是不论项目的难度和复杂度，都要学会技术的解耦和设计，这样我们的开发能力就会变得越来越强")])])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},7541:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("h1",[s._v("工作日历组件封装")]),a("h2",[s._v("新建工作日历组件结构")]),a("blockquote",[a("p",[s._v("工作日历的要求很简单，显示每个月的日期，可以设定的日期的范围")])]),a("p",[s._v("我们可以基于Element组件"),a("a",{attrs:{href:"https://element.eleme.cn/#/zh-CN/component/calendar"}},[s._v("el-calendar")]),s._v("进行封装")]),a("p",[s._v("代码如下 "),a("strong",[a("code",{pre:!0},[s._v("src/views/dashboard/components/work-calendar.vue")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v('<template>\n  <div>\n    <el-row type="flex" justify="end">\n      <el-select v-model="currentYear" size="small" style="width: 120px" @change="dateChange">\n        <el-option v-for="item in yearList" :key="item" :label="item" :value="item">{{ item }}</el-option>\n      </el-select>\n      <el-select v-model="currentMonth" size="small" style="width: 120px;margin-left:10px" @change="dateChange">\n        <el-option v-for="item in 12" :key="item" :label="item" :value="item">{{ item }}</el-option>\n      </el-select>\n    </el-row>\n    <el-calendar v-model="currentDate">\n      <template v-slot:dateCell="{ date, data }" class="content">\n        <div class="date-content">\n          <span class="text"> {{ data.day | getDay }}</span>\n          <span v-if="isWeek(date)" class="rest">休</span>\n        </div> \n      </template>\n    </el-calendar>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    startDate: {\n      type: Date,\n      default: () => new Date()\n    }\n  },\n  data() {\n    return {\n      currentMonth: null, // 当前月份\n      currentYear: null, // 当前年份\n      currentDate: null,\n      yearList: []\n    }\n  }\n}\n<\/script>\n\n<style  scoped>\n /deep/ .el-calendar-day {\n  height:  auto;\n }\n /deep/ .el-calendar-table__row td,/deep/ .el-calendar-table tr td:first-child,  /deep/ .el-calendar-table__row td.prev{\n  border:none;\n }\n.date-content {\n  height: 40px;\n  text-align: center;\n  line-height: 40px;\n  font-size: 14px;\n}\n.date-content .rest {\n  color: #fff;\n  border-radius: 50%;\n  background: rgb(250, 124, 77);\n  width: 20px;\n  height: 20px;\n  line-height: 20px;\n  display: inline-block;\n  font-size: 12px;\n  margin-left: 10px;\n}\n.date-content .text{\n  width: 20px;\n  height: 20px;\n  line-height: 20px;\n display: inline-block;\n\n}\n /deep/ .el-calendar-table td.is-selected .text{\n   background: #409eff;\n   color: #fff;\n   border-radius: 50%;\n }\n /deep/ .el-calendar__header {\n   display: none\n }\n</style>\n')])]),a("h2",[s._v("实现工作日历逻辑")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("filters")]),s._v(": {\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getDay")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("value")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" day = value."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("split")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'-'")]),s._v(")["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("]\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" day."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("startsWith")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'0'")]),s._v(") ? day."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("substr")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(") : day\n    }\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("props")]),s._v(": {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("startDate")]),s._v(": {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Date")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("default")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Date")]),s._v("()\n    }\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("data")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("currentMonth")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 当前月份")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("currentYear")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 当前年份")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("currentDate")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("yearList")]),s._v(": []\n    }\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//   初始化事件")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("created")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//    处理起始时间")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 组件要求起始时间必须是 周一开始 以一个月为开始")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("currentMonth")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("startDate")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getMonth")]),s._v("() + "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("currentYear")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("startDate")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getFullYear")]),s._v("()\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 根据当前的年 生成可选年份 前后各加5年")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("yearList")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Array")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("from")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Array")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("11")]),s._v("), "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("value, index")]),s._v(") =>")]),s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("currentYear")]),s._v(" + index - "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(" )\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 计算 当年当月的第一个周一 再加上 四周之后的一个月月份")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("dateChange")]),s._v("()\n  },\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 是否是休息日")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("isWeek")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("value")]),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" value."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getDay")]),s._v("() === "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("6")]),s._v(" || value."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("getDay")]),s._v("() === "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("\n    },\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 年月份改变之后")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("dateChange")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" year = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("currentYear")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" month = "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("currentMonth")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("currentDate")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Date")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`"),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${year}")]),s._v("-"),a("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${month}")]),s._v("-1`")]),s._v(") "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 以当前月的1号为起始")]),s._v("\n    }\n  }\n}\n")])]),a("p",[a("strong",[s._v("在主页中应用")]),s._v(".")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v("  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 放置日历组件 --\x3e")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("work-calendar")]),s._v(" />")]),s._v("\n")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},9737:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("h1",[s._v("弹窗表单提交与取消监听事件及函数")]),a("p",[a("img",{attrs:{src:t(8169),alt:"弹窗表单"}})]),a("p",[s._v("如上图再点击确定按钮时我么可给"),a("code",{pre:!0},[s._v("确定")]),s._v("按钮一个"),a("code",{pre:!0},[s._v("btnOK")]),s._v("的click事件，同样给"),a("code",{pre:!0},[s._v("取消")]),s._v("按钮一个"),a("code",{pre:!0},[s._v("btnCancel")]),s._v("的click事件")]),a("p",[s._v('主动执行表单校验，需要获取表单的DOM属性，所以我们给表单一个ref属性 ref="deptForm"')]),a("p",[a("code",{pre:!0},[s._v("btnOK")]),s._v("函数可以在methods中这样来写")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("btnOK")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 获取表单DOM,并主动检验")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 这里有三种写法")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 第一种 通过回调函数")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$refs")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("deptForm")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("validate")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("isOK")]),s._v(" =>")]),s._v("{\n        "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如果校验成功isOK为true，反之为false并触发校验失败message警告")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(isOK){\n            ... "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 校验成功执行的函数")]),s._v("\n        }\n    })\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 第二种 通过其本身返回Promise的特性")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$refs")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("deptForm")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("validate")]),s._v("()."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("then")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("()=>")]),s._v("{\n        ... "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 校验成功执行的函数")]),s._v("\n    })."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("catch")]),s._v("((){\n\n    })\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 第三种 通过async和await")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 外层函数用async修饰")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$refs")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("deptForm")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("validate")]),s._v("()\n    ... "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 校验成功执行的函数")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 最后将弹层visible属性设为false以关闭弹层")]),s._v("\n}\n")])]),a("p",[a("code",{pre:!0},[s._v("btnCancel")]),s._v("函数可以在methods中这样来写")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("btnCancel")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 先重置表单数据")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("depForm")]),s._v(" = {\n        ... "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 将表单各项属性置空")]),s._v("\n    }\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 重置表单校验")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-variable language_"}},[s._v("this")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("$refs")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("deptForm")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("resetFields")]),s._v("()\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 再将弹出层的visible属性设为false以关闭弹层")]),s._v("\n}\n")])]),a("blockquote",[a("p",[s._v("将弹层属性的close事件监听到btnCancel函数，在执行btnOK函数后关闭弹层后也会触发一次close事件，即执行一次btnCancel函数")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},5971:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("h1",[s._v("封装雷达图图表组件")]),a("h2",[s._v("封装雷达图插件")]),a("p",[s._v("第一步， 安装echarts图表")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("npm i echarts\n")])]),a("blockquote",[a("p",[s._v("echarts是一个很大的包，里面包含了众多图形，假设我们只使用雷达图，可以做按需加载")])]),a("p",[s._v("第二步， 新建雷达图组件，"),a("strong",[a("code",{pre:!0},[s._v("src/components/radar.vue")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-vue"}},[s._v("<template>\n  \x3c!-- 雷达图  图表必须给高和宽度--\x3e\n  <div ref=\"myDiv\" class=\"radar-echart\" />\n</template>\n\n<script>\n// 完成加载过程\n// var echarts = require('echarts')\nvar echarts = require('echarts/lib/echarts') // 引入echarts主模块\nrequire('echarts/lib/chart/radar') // 引入雷达图\n// 引入提示框和标题组件\nrequire('echarts/lib/component/tooltip')\nrequire('echarts/lib/component/title')\n\nexport default {\n  // 页面渲染完毕事件\n  mounted() {\n    const myChart = echarts.init(this.$refs.myDiv) // 得到图表实例\n    myChart.setOption({\n      title: {\n        text: '基础雷达图'\n      },\n      tooltip: {},\n      legend: {\n        data: ['预算分配（Allocated Budget）', '实际开销（Actual Spending）']\n      },\n      radar: {\n        // shape: 'circle',\n        name: {\n          textStyle: {\n            color: '#fff',\n            backgroundColor: '#999',\n            borderRadius: 3,\n            padding: [3, 5]\n          }\n        },\n        // 每个区域的最高值\n        indicator: [\n          { name: '工作效率', max: 100 },\n          { name: '考勤', max: 100 },\n          { name: '积极性', max: 100 },\n          { name: '帮助同事', max: 100 },\n          { name: '自主学习', max: 100 },\n          { name: '正确率', max: 100 }\n        ]\n      },\n      series: [{\n        name: '预算 vs 开销（Budget vs spending）',\n        type: 'radar',\n        // areaStyle: {normal: {}},\n        data: [\n          {\n            value: [10, 1, 100, 5, 100, 0],\n            name: '张三'\n          },\n          {\n            value: [50, 50, 50, 50, 50, 10],\n            name: '李四'\n          }\n        ]\n      }]\n    })\n  }\n}\n<\/script>\n\n<style>\n.radar-echart {\n    width: 600px;\n    height: 400px;\n}\n</style>\n")])]),a("p",[s._v("我们得到一个雷达图，对绩效指数进行统计")]),a("p",[a("img",{attrs:{src:t(2329),alt:"image-20200924111334856"}})]),a("p",[a("strong",[s._v("在主页中引入使用")]),s._v(".")])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},112:function(s,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var r=function(){var s=this;s._self._c;return s._m(0)},e=[function(){var s=this,a=s._self._c;return a("article",[a("html",[a("head"),a("body",[a("h1",[s._v("项目打包和优化")]),a("h2",[a("strong",[s._v("打包之前的路由模式")])]),a("blockquote",[a("p",[s._v("在SPA单页应用中，有两种路由模式")])]),a("p",[a("strong",[s._v("hash模式")]),s._v(" ： #后面是路由路径，特点是前端访问，#后面的变化不会经过服务器 "),a("strong",[s._v("history模式")]),s._v("：正常的/访问模式，特点是后端访问，任意地址的变化都会访问服务器")]),a("blockquote",[a("p",[s._v("开发到现在，一直都在用hash模式，打包尝试用history模式")])]),a("p",[s._v("改成history模式非常简单，只需要将路由的mode类型改成history即可")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("createRouter")]),s._v(" = ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") => "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Router")]),s._v("({\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("mode")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'history'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// require service support")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("scrollBehavior")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" ({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("y")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" }), "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 管理滚动行为 如果出现滚动 切换就让 让页面回到顶部")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("routes")]),s._v(": [...constantRoutes] "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 改成只有静态路由")]),s._v("\n})\n")])]),a("blockquote",[a("p",[s._v("假设地址是这样的 "),a("strong",[a("code",{pre:!0},[s._v("www.xxxx/com/hr")])]),s._v("/a "),a("strong",[a("code",{pre:!0},[s._v("www.xxxx/com/hr")])]),s._v("/b")])]),a("p",[s._v("会发现，其实域名是**"),a("code",{pre:!0},[s._v("www.xxxx/com")]),s._v("**，hr是特定的前缀地址，此时可以配置一个base属性，配置为hr")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("createRouter")]),s._v(" = ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") => "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title class_"}},[s._v("Router")]),s._v("({\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("mode")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'history'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// require service support")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("base")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'/hr/'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 配置项目的基础地址")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("scrollBehavior")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("() =>")]),s._v(" ({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("y")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(" }), "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 管理滚动行为 如果出现滚动 切换就让 让页面回到顶部")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("routes")]),s._v(": [...constantRoutes] "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 改成只有静态路由")]),s._v("\n})\n")])]),a("h2",[s._v("性能分析和CDN的应用")]),a("h3",[s._v("性能分析")]),a("blockquote",[a("p",[s._v("集成了 功能，写了很多组件，最终都会打包成一堆文件，那么真实运行的性能如何呢？")])]),a("p",[s._v("可以使用vue-cli本身提供的性能分析工具，对开发的所有功能进行打包分析 它的应用非常简单")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("npm run preview -- --report\n")])]),a("p",[s._v("这个命令会从我们的**"),a("code",{pre:!0},[s._v("入口main.js")]),s._v("**进行依赖分析，分析出最大的包，方便进行观察和优化")]),a("p",[s._v("执行完这个命令，会看到如下的页面")]),a("p",[a("img",{attrs:{src:t(5059),alt:"image-20200804015849396"}})]),a("p",[s._v("如图所以，方块越大，说明该文件占用的文件越大，文件越大，对于网络带宽和访问速度的要求就越高，这也就是优化的方向")]),a("h3",[s._v("webpack排除打包")]),a("p",[s._v("CDN是一个比较好的方式")]),a("blockquote",[a("p",[s._v("文件不是大吗？我们就不要把这些大的文件和那些小的文件打包到一起了，像这种xlsx,element这种功能性很全的插件，我们可以放到CDN服务器上，一来，减轻整体包的大小，二来CDN的加速服务可以加快我们对于插件的访问速度")])]),a("p",[a("strong",[s._v("使用方式")]),s._v(".")]),a("p",[s._v("先找到 "),a("code",{pre:!0},[s._v("vue.config.js")]),s._v("， 添加 "),a("code",{pre:!0},[s._v("externals")]),s._v(" 让 "),a("code",{pre:!0},[s._v("webpack")]),s._v(" 不打包 "),a("code",{pre:!0},[s._v("xlsx")]),s._v(" 和 "),a("code",{pre:!0},[s._v("element")])]),a("p",[a("strong",[a("code",{pre:!0},[s._v("vue.config.js")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-JS"}},[s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 排除 elementUI xlsx  和 vue ")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("externals")]),s._v(":\n      {\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Vue'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'element-ui'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'ELEMENT'")]),s._v(",\n        "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'xlsx'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'XLSX'")]),s._v("\n     }\n")])]),a("h3",[s._v("CDN文件配置")]),a("p",[s._v("可以采用CDN的方式，在页面模板中预先引入")]),a("p",[a("strong",[a("code",{pre:!0},[s._v("vue.config.js")])])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" cdn = {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("css")]),s._v(": [\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// element-ui css")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'https://unpkg.com/element-ui/lib/theme-chalk/index.css'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 样式表")]),s._v("\n  ],\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("js")]),s._v(": [\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// vue must at first!")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'https://unpkg.com/vue/dist/vue.js'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// vuejs")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// element-ui js")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'https://unpkg.com/element-ui/lib/index.js'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// elementUI")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'https://cdn.jsdelivr.net/npm/xlsx@0.16.6/dist/jszip.min.js'")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'https://cdn.jsdelivr.net/npm/xlsx@0.16.6/dist/xlsx.full.min.js'")]),s._v("\n  ]\n}\n")])]),a("blockquote",[a("p",[s._v("但是，这时的配置实际上是对开发环境和生产环境都生效的，在开发环境时，没有必要使用CDN，此时我们可以使用环境变量来进行区分")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" cdn = { "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("css")]),s._v(": [], "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("js")]),s._v(": [] }\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 通过环境变量 来区分是否使用cdn")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" isProd = process."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("env")]),s._v("."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("NODE_ENV")]),s._v(" === "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'production'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 判断是否是生产环境")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" externals = {}\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (isProd) {\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 如果是生产环境 就排除打包 否则不排除")]),s._v("\n  externals = {\n    "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// key(包名) / value(这个值 是 需要在CDN中获取js, 相当于 获取的js中 的该包的全局的对象的名字)")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'Vue'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 后面的名字不能随便起 应该是 js中的全局对象名")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'element-ui'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'ELEMENT'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 都是js中全局定义的")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'xlsx'")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'XLSX'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 都是js中全局定义的")]),s._v("\n  }\n  cdn = {\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("css")]),s._v(": [\n      "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'https://unpkg.com/element-ui/lib/theme-chalk/index.css'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 提前引入elementUI样式")]),s._v("\n    ], "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 放置css文件目录")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("js")]),s._v(": [\n      "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'https://unpkg.com/vue/dist/vue.js'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// vuejs")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'https://unpkg.com/element-ui/lib/index.js'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// element")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'https://cdn.jsdelivr.net/npm/xlsx@0.16.6/dist/xlsx.full.min.js'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// xlsx 相关")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'https://cdn.jsdelivr.net/npm/xlsx@0.16.6/dist/jszip.min.js'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// xlsx 相关")]),s._v("\n    ] "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 放置js文件目录")]),s._v("\n  }\n}\n")])]),a("h3",[s._v("注入CDN文件到模板")]),a("p",[s._v("之后通过 "),a("code",{pre:!0},[s._v("html-webpack-plugin")]),s._v("注入到 "),a("code",{pre:!0},[s._v("index.html")]),s._v("之中:")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("config."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("plugin")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'html'")]),s._v(")."),a("span",{pre:!0,attrs:{class:"hljs-title function_"}},[s._v("tap")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("args")]),s._v(" =>")]),s._v(" {\n  args["),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("]."),a("span",{pre:!0,attrs:{class:"hljs-property"}},[s._v("cdn")]),s._v(" = cdn\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" args\n})\n")])]),a("blockquote",[a("p",[s._v("找到 "),a("code",{pre:!0},[s._v("public/index.html")]),s._v("。通过你配置的"),a("code",{pre:!0},[s._v("CDN Config")]),s._v(" 依次注入 css 和 js。")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("head")]),s._v(">")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 引入样式 --\x3e")]),s._v("\n  <% for(var css of htmlWebpackPlugin.options.cdn.css) { %>\n    "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("link")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("rel")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"stylesheet"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("href")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"<%=css%>"')]),s._v(">")]),s._v("\n  <% } %>\n"),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("head")]),s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("\x3c!-- 引入JS --\x3e")]),s._v("\n<% for(var js of htmlWebpackPlugin.options.cdn.js) { %>\n  "),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"<%=js%>"')]),s._v(">")]),a("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n<% } %>\n")])]),a("p",[s._v("最后，进行打包")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[s._v("npm run build:prod\n")])])])])])}],n=t(3736),l={},p=(0,n.Z)(l,r,e,!1,null,null,null),v=p.exports},305:function(s,a,t){var r={"./10.1-3笔记.md":3085,"./10.10redux笔记.md":5207,"./10.11-10.12又写了一遍网易云音乐案例.md":8018,"./10.4笔记.md":1343,"./10.5(2).md":7511,"./10.5笔记.md":2498,"./10.6.md":8741,"./10.7.md":8619,"./10.8-10.9笔记.md":903,"./9.24-9.25笔记.md":3312,"./9.26笔记.md":8010,"./9.27笔记生命周期和axios使用(下午课水了一下).md":4226,"./9.28笔记.md":1548,"./9.29笔记.md":279,"./9.30笔记.md":8005,"./hexo博客主题安装与修改.md":7179,"./vue3组合式API笔记.md":2034,"./vue解析并渲染markdown文件.md":1776,"./人力资源后台管理项目.md":5127,"./优化设置Token.md":9398,"./关于.postcssrc.js配置文件.md":3879,"./关于后端返回大数字的问题.md":625,"./关于用户token的处理.md":3775,"./后台项目主页模块.md":693,"./后台项目员工管理.md":3290,"./后台项目权限设计和管理.md":2236,"./后台项目登录模块.md":3524,"./后台项目组织架构.md":1671,"./后台项目路由和页面.md":4199,"./在node.js中应用项目并代理跨域.md":7340,"./工作日历组件.md":7541,"./提交表单的调用函数.md":9737,"./雷达图组件.md":5971,"./项目打包与优化.md":112};function e(s){var a=n(s);return t(a)}function n(s){if(!t.o(r,s)){var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}return r[s]}e.keys=function(){return Object.keys(r)},e.resolve=n,s.exports=e,e.id=305},3300:function(s,a,t){"use strict";s.exports=t.p+"img/Snipaste_2022-10-09_23-16-03.d17928bb.png"},8169:function(s,a,t){"use strict";s.exports=t.p+"img/Snipaste_2022-11-12_10-56-21.622ff465.png"},7628:function(s,a,t){"use strict";s.exports=t.p+"img/header.d681d2ef.png"},4140:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200109192157006.f83a61e1.png"},2953:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200301214857543.8a9c6261.png"},7725:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200319104557718.8493e049.png"},7194:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200319105610557.fe8b6570.png"},929:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200703173319390.82660f30.png"},570:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200714093601730.760aff39.png"},5431:function(s){"use strict";s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA/IAAACSCAYAAADmfvH/AAAeNUlEQVR4nO3df3RUZZ7n8Q9JpSqVhEoClY4hAloaBSE0oA0o0EQ8soh9WmIfl6Otjqttj6K4emztZnvWQXd6/bHN0Ktt67SjY6ujh/Uo2GdURleN6w+QHgUFGhCIJBhDTEJ+kR9VKYr9o6xL/biVVIWQyq16v/4R7q1b9wmn+8nzuc/zfO+Y48ePHxcAAAAAALCErFQ3AAAAAAAAJI4gDwAAAACAhRDkAQAAAACwEII8AAAAAAAWQpAHAAAAAMBCCPIAAAAAAFgIQR4AAAAAAAshyAMAAAAAYCEEeQAAAAAALIQgDwAAAACAhRDkAQAAAACwEII8AAAAAAAWQpAHAAAAAMBCCPIAAAAAAFgIQR4AAAAAAAshyAMAAAAAYCEEeQAAAAAALIQgDwAAAACAhRDkAQAAAACwEII8AAAAAAAWQpAHAAAAAMBCCPIAAAAAAFgIQR4AAAAAAAshyAMAAAAAYCEEeQAAAAAALIQgDwAAAACAhRDkAQAAAACwEII8AAAAAAAWQpAHAAAAAMBCCPIAAAAAAFgIQR4AAAAAAAshyAMAAAAAYCEEeQAAAAAALIQgDwAAAACAhRDkAQAAAACwEII8AAAAAAAWQpAHAAAAAMBCCPIAAAAAAFgIQR4AAAAAAAshyAMAAAAAYCEEeQAAAAAALIQgDwAAAACAhRDkAQAAAACwEII8AAAAAAAWQpAHAAAAAMBCCPIAAAAAAFgIQR4AAAAAAAshyAMAAAAAYCEEeQAAAAAALIQgDwAAAACAhRDkAQAAAACwEII8AAAAAAAWQpAHAAAAAMBCCPIAAAAAAFgIQR4AAAAAAAshyAMAAAAAYCEEeQAAAAAALMSW6gakwsyf/C7VTUAG2v7KnaluAtIUfRpSgT4NAIDUycggL0klZ/wg1U1ABmk++JdUNwFp7t1pz6W6Ccggi3ddn+omAACQ0VhaDwAAAACAhWTsjDwAAACsiS1FSFdsW0KiCPIAAACwHLZJIt2wFRPJYGk9AAAAAAAWQpAHAElPrN+c6iYAwClDHwcA6YUgDwDfufLO51PdBAA4ZejjACB9EOQB4DvftPTp3rVvproZAHBK0McBQPogyAPAd7IdRfpk9xEGugDSEn0cAKQPgjwAhLEXnsFAF0Daoo8DgPRAkAeAKAx0AaQz+jgAsD6CPACYYKALIJ3RxwGAtdlS3QCYq5rpVvHYnEE/t+GDxhFoTXy3V3skSS/XNKipzRtzvrTYoYdvmab/2NOu32+oHenmASclONA9qHvXvqlH7r4s1c3JSMX//WMFjhxSx+MrjGOum/+kMXmF6t54v/x12yRJBdesU3bJmfJ+sl59W15KVXMBS6GPAwDrIsinyK+uOUcT3Ln6zfN7YwLw22vnJ/w9K5d79M6nzXroxS9Nz1cvLDupdu5v6NaO2s645y+YUqSxzpwBQ7q3P6ArFpRpUqlT9z6566TaA4w0BrrmcuddLWfVz9Vfv11HX7wr4lzBT/5BY8a61fveP8lft00F16zTscNfqvfdJ5K+T6DzWwW62yKPdR9RzvhJRogPyR4/iRAPJIk+DgCsiSCfQp6yfK1bNUN//PNXqtneEnHuDxtrE5ptf3vtfO091BX3/MrlnpNq4zufNg8Y5CWpq7c/7rmmNq/+9rfb9egdMzSrokjVC8tSvoogk1z/3/6PfP5AqpthCS1tRyUVmp5joBvLt6dGecvu0bHDsQ8Rcyrmy394rxG0Ax2H5ay6WWOcLvW8/nDS9zru6405FujtSL7RSDv0cYmjjwOA9EKQT5GHXvxSVTPd+vmPz9QvVlSoeGzOgAH3kVumSZLWrt9vuoR9IJt3HdF9z+yOOf7AjVN14bRxuvTuj0yvG+whgZnSYocumj4u5vh725rVfjQY+KNXCQz0c5/MioLBVhNkgi/2fqOi06akuhnWYC/SQJtZGOhGCrQH/397vKc94rhz8a0ak1cof/3nyp13dfCzrfXqr90q24TzjGOSFDjaKt/Ot4y/2ybPkq0s8n+vY3IcysofF3FdVv44jclxxByTFHHM7B6nQu68q5W37B759rwfszoBpxZ9XBLo4xClemGZrr10kv78caP+tKk+1c2Jq7TYoXWrZmj/10dNx7NApiLIp1DN9hbtruvSulUzdMWCgWeqv1fsUGe3P+kQP9Iumj5uwFUAF06LDfkD/dwXThunWRVFQ2rLb57fO6Tr0k1O7thUNyFtMNAdnH1qlSTJWXWz6XnbxErjz8da6yNCdu7862WfsijmmixXacR1IXnL7hn0WPQ9kH7o44YPfdzoE5ogKXc7dc7EArmLHHrwhb1xJypKix1aOrc0JpiXFjtMx5CufFtSIX6gCZbQeG6wSZi2rv6YlagDua3ao5JCu/745+aErwEyAUE+xZravLrrsS9Mz4V3hPacbEl+41iyneBwCi/EF2zXibZ+vPNIREduFtIrPa6EZ8r7fAE1tPTqhgc/S7h91QvLtHK5J2X/PkhvmTzQzSoqk31KVcQxW/k05c67Wn1bXpJt8ixll1boWGu9Ov73cuMzoRnrI/fNjrx28qyIv/e88UjMjHbhf92oY81fRRwPFbYLv0fBNetkn7Io5h5ZRbEDynEPfKaeN/4X++kBE5ncx42ESo9Ld684e9DPuV0OOezmL5e6/UqP/va3203P3b3ibM2qKFLd4Z6IcVBTm1dvr50fd5Wm8d3VHl0wpUivfdhoOoa76uLTVVJojzne3OEzPn/tpZPkyo8fMRpaehMeo1XNdOvCaeO0u65LxWNzBn1I8PHOI6N+0gsYLgT5USBeh3PtpZOM/ecup00lhXZNnRyceUimExxuN1w2SeVuZ8Sx0Cx8qBP/1TXn6JLzS1TudkYUwistdugfb6vU7rou3fGo+QMMYLTL1IGufUpVzIy3/fvLZP/+MvVteUn5y/9ekmKWvdvKg1uDope9Rwfp0HL94RT9ndFtABArU/u4kbCjtlPlbqeaO3zy9R8z/Yy3P6DP9p3YtnTgm251dvcbkzhVM91xv3/t+v36w10zterKs7S7ritmjLltX3ucK4MaWnp1hTv+KlFf/7GYhwEP3DhVk0pPjAu7evu162Cn6QODZ1fP1rcJBu3SYod+/uMzJUlTJ481xsDx1DZ2U4cJGYUgP8LMXisXr9P5yX2fGH9+dvVs1Tf1Gp1iabEj4XsWFZg/wSwqCLYj2X3o4bPjz66eHXNMCtYAmDK5QFcsKNPOrzqNhw63VXvk9QVY9g7Ly8SBrm9PTUT4Ds1s+/bUyLn4VmWPn6RjrfXKHj8poWXvZjPi9ulLlFUw3vh79vhJOt7TEflgYEJwT3Qie+Sj7zEmb2hbdYBMk4l93Eh6+b2vhxw6B5rIaWrz6rFXD+jX152rB26aGnfmPpX6fIkVqFy3aoZcTpt+8/xetXb6TFdzVs106xcrKtTZ69d9T7N/HpmFID/Comezw5ciRYteWh8dyD/eeSShew72FPNkK9vH88snd+npe2fryh9OUM32FpUWOzS7okgf7mhl2RPSQqYNdOPNmNtOr1Tu/Ot0rLVex5q/kqRBl9abLXmXJOclK5U9flLk90+sHPIe+VCQD7Uh/HOhv0cvs7dNnqW8JXcqe/wkjckLVvk+3tMh/+G96t54f1IrB/Iu/6Vy566Q/9AOdT71N8bxrKIy5S27V7YJU5TlKpUkBTqb5NtdY1rZP/TQRJIc5y9XdmlFsF39ffIf+iLpdgGJyLQ+Ll3UbG/R4tklqW7GkIWK25UU2vXC24e0eHaJZlcUafVTuyLCfHiIv+uxLxhbIuMQ5EdY+Mx19FKkaNEBO3xpfTJOpmr9UIQ/bPhwR6saj/SpemGZls4NDlb3HuoyPkNleVgdA13JccGVkqTujfcrd/71Q15aHzJY9ffceVdrTF6R+g9siXmXfPhnwoO7b0+NJMleuVS2iZXyff6G/A27Is5JwRUB+dVrpH6vvDs2KdBab/wMORXzVbjqFXVvWJNQAT379CVxQ7zrZ89ojC038h6eOcqdu0K2CedFfD7E5pkj+5RF8u15X95PN0YcG/vT36nj8RWDtglIFn2cNUSv+Awtoa9eWBZRV2nlck/M+HKo471klRY75HY5VN8U+0rRkNAbnUoK7Xrtw2A1/VCwf/Dmafrt+n2q2d6i26s9WjqnVC2dXv3yyV2EeGQkgvwoFi9ghztVs+knY7A2hZ/fvOsIQR6Wl+kD3a5nb5F9+pJgqJ5/vbJcpUNeWp+IUHj1frYx4WsC7Y3BgnyeOZIkf8OumPtnFZUpv3qNjvd2qPOfb4yZ4c4qKlPhLS8q/0erBw3yoQcC0SFekvKX/73GOAvV8dhPIu+x5SVjBj9UQDDiO6csUm/NU+p994mIa8be8KRyPHNkmzwr7oMN4GRkeh93Kpw7cayqF57cd4QHdLP6RSENLb3aXdeV0LgyEdErRENbNc2EiudJJwr4DbRPv3hsjnz9x/Tah41GjaVQYeh1q2bo19eda/ys1FtCpiPIj3Lx9q+PtqqclR6XLp93mh568Utd+w//YbQt3mtQQpLZ6w+Mdv3HEtv3l07G5BWp4Jp1ysofZ4TbRKrWx1taHy56v7xx7Xf74aMr6IeEz7AnI++S2zQmJ1ddz91mukw90N4o745Nyp27Qs7Ft0YG6qh251ev0bHD+8xn1ifOkP/QF6b36Hn9YTkql8px/vLYYoCdTab37N/zvnI8c048TAFOkUzs406VS84v0SXnn9zy9827jhhBfqBZ6dJih7GiM9GxY9VMd9x96WZbNhtazGfZ3/+8RVcsKFNzh0+1jd16b1vzgLUBNnxgXi2/qc2rf9/apGsvnahyt1NeX0DvbeN1dMhsBPlRbqDZ7USLpAx3sbtobpdDD948zaiwGv5L4r9cNlmXnF+isU5bRPX6kNH0MAIYKl/HQc0+p0jr7r081U0ZMaFl8s6qm3W8v099Hz1vnEt0ab0k+Rv3RITP/v2bT9zjwp+a7o0PMZv1D//e0J7yRGWfVhHcCz9AGO776Dnlzl2h7NPOMT0/WIjPnXe1xuTkyl//edx7BHo7NMbpijnu/2aPeZu2vKS8Zfcoq/C0uN8JnIxM7ONOtT9srD3pCuvhkyFm46nQ+aY2rx6+ZVrcGft44q2aHKxqfbgdtZ0nvRKgemGZrlhQpnK3Uw0tvXpvW4v+05xSrVzu0VUXn66Pd7Tq5ZoGxpTIOAT5FBpoKVK46M4+2b1Mp6LYXaXHpeuWTJTbFfwlsWlrk97/vCXmocCCyvFqaOlVQ0vvgA8MRtsKAyBRmTTAtU9fIscFV8p22rlGETjf52/o6Ct/F/G5RJfWS9/thw8LzuGF3gLdR2Jm96X474yXgkXhJMlfty352WmbQ4HejgE/MlBBueziCcqvXqMxObnqP7BlwO9xVt0sZ9XNybUPSIFM6uOsJnrcVL2wLGI8ddH0cVq53KPNu47EvF1Ikh65ZZrOmlAQ8Zak4RJvEilksHFfaKXnD6YUy5VvU2e3P2I8/KdN9cay/SsWBIN+Q0uv6pt6tW1fe8S2AyBdEeRTyJUf+89/Kpaah+8zCjfUYnfPrp5tLGvy9gfU1duv32+oNb4vWrnbmdDDAt79CavJtAGufcZlyvHM0bHWenlr/qi8ZfcYBeNC/LVbFeg4bFp53UwiS+ytIru0Qn2frJdtwnnBKv7fHoi7lz682B4wWmVaH5cKZq8lHky88dJNy85QudtpjPlCM/CPm4wBJemsCQX6y562pO6dqMEmkfY3dEcE+aqZbk0+LU/Tzhir07+Xp5JCu6Tgkv0/fxwsele9sEyvPDBXB745qnuf3GX8nFUz3bryhxPkKctXudtpjEVXXXmWHnv1AIEeaYsgP0pUelz6ts2ri6YHO5/wTnqoBVFCDwXi7VsaqvqmXn3b5tXa9fv18C3TjOPhy6xKix16+t7Z+mxfe8Tx6oVlWrncMyxLyoBUysQBbs8bj8hfu9XYux0+w55VVCb7lCr59tQMOGttn75EkoyAO6pemeb3Kmvs9wb8yEAPHvprt6rn9YeNqvR5S++S/+sd5vvt+7qGXOwPGAmZ2MeNhEpP5LaZxbNLTCdB4tm2rz3u+Km2sVuVZ534/kmlwaXoTW1elRY7IoLz7dUeufJt+pc360y/K/rz4RIpdre7rktTJ4/VC28fiqiT9KtrztGMswtjluwXj83RVYvK5bBnqbPbr2372vX8W4diPufKt8VUva/Z3mKE9aqZbi2eXaJJpU699mEjIR5pjSA/CpQWO7T62nP171ubVDYuV53d/ojzQy2IEnoosL+he1jaGWL2KrtoD9w0VZ29/pjPXjhtnLy+QFIh3p6TndQ+/nMnJv+KPiAZmTrADVV+N2OfUhXxbvaB9H2yPqHXt420Y4f3Kbu0QvbpS+K2L3f+9ZIk3xdvxpw77gsOLgPtjerZtE751WtUcNVDEXvl+7a8JOelq2SbcN4p+AmA4ZGpfdxIOLs83/R4IvvIn109W32++AUHvzx0VEvnlBp/P/17efpif3C70G3VHtMHBi/83QWm3xXv1cVul0Plbuegxe7aj/Zrd12XLp7ljgjyZ07I0/6vj8Z874YPGuXKz1Hd4Z64RfZc+cEHBgVOW9xx4YYPCO/IHAT5FLPnZGvdqhly2LJUd7hHF00fp5bOE09AT6ZAyKyKInl9gRF/vdvt1R55yvLV0NKr26s9RgGSSo9L5012GUXxElVSaB+Vr9lDZmKAa863pyYi5DsX3ypn1c1q/8fLjRnpgmvWKbvkTGPZfe68qwedwR9JPe88rpzzFsedSc8qKpOjcqmOtdYP+iDCt/Mt2SbPUu7cFcq7/JcRWw38h74wqsxHf09WUZnG/s0T6t+/OeHtCcBwoo87tULL3T/eeWTYvztUIb5qplu767pUUmjX61sOG+cbWnqNvfJvr51vrI4MFasLnXt2dWz9kRCHPStmVWW8YnfvbWvWyuUeVS8s04YPGlVa7JCnLF+/f9V8qX8o8Ie2cMYTb4KrucPHak9kFIJ8Co115siVb1Nzh08r122XJHnK8vXOp8PzOo2zTy9QQ+vwLqtPxO831Kqr16/zzynS0jmlumJBmXbXdcld5DCdpR9M+C+eRISW7yOov68r1U2wlJzc+Cs6GODGFx16c86ap0Bnk3E8q6hMOWfN1ZicXKMgnRSsLn8yQT6rqExjf/o7yXaivoi/0by6uxScSbdPWSR75dITbT/aKt/OtxRob1T3hjXKr14j18+ekW93jQKtwYGlrXyaciqCdUO6N96fUNt6Xn84uF9+7gr567YZob174/1y/ewZ5VevkX3GZfLXbg3+LOMnyVG5VMf9fer76Lnk/iEyGH1ccujjUuuciQXy+gKnpMDvjtpOeX0BzTtvnCaflqfObv+IT+aE2/BBoy6eVaKrLj5dGz5o1G3VHjW09A7apmffrDedlX/xvh/I13/MdEw40MMHIF0R5FOkemGZXPk27a7r0m+e36umNq8euHGqJEU8PR1I9D6r6O8vKbTr4x2tw9LeZP1pU73xZPWRW6ZpVkWRJMnrC+iBG6fq8Q21Cf8Ss+dkJ3Xv0NKrSo8rpb/ARoMZ506Qz5/cCohM1XLkqHqPF8Yd5DLATZx9+hLZJlaqt+apiONt/+Mi48+hd8sPVFk+9L74gQTaG3Ws7Rtll5ypQMdhdW+8f8Dv9O18S74ZlynnrLnKm1ip4/198n72mhGyfTvfUqCrWXlL7pSjcqlRnT/Q2aT++u3qeeORpB48HH35V8HQ/qPVxix/oL1Rnf98o/KW3aucSTNln7JIknS8p2NI98hk9HGJo48bHcrdzlM6yfLhjlZt+esRXfnDCTrwTewS9pNRNdMtSWrr6k/4mqf+7aAevHmaHr1jhjxl+Xr6jYODXmO2NL7S41JJoV3b4qzqdLsc+mtdZo/5kHkI8ikSWvoT+m+lx6XZFUWqbeweNHw+escMlbudcuRkSTLvUK+6+HR1dvtNq9WHvPtZc0SHWFrsMIrXhcJzMp11uOjXhuyu69JT/3ZQV1WVa3ZFkVEIb7BAX1SQY1QuTVRnd7827xr+JWtW9Nz//M+pboJlPLF+s15462vTcwxwY9kmzzI97lx8q3LnXyf/oR3qffcJ43jMjP2URTrWWh99eYS+zf+qrILxg7bl6It3JdDixD/vr9tm+g74ePq2vBS3dkCgvVHtv73M9Hgy7TZ71V4y59MVfVzi6ONSLzSJ89624Vl5aeahF7+UFKzY/sLbwUrvyb4/Pp7Jp+VJMg/a8eyo7dSmrU3G6+GGuvT99iuDKy2ff+uQ6XmHPWvA+gFAOiLIp1B4Zzb7nCJ19vq16ZOmQa979f99oxsum6QD33i1edeRmA710TtmqKTQrtc+HLizjL4uFKjL3cEqp2bfLQWfyC6bV2p8NvQwoNLj0t0rzpbb5ZDDHnzIsLuuS2uePWg8nNhR26nSYodRdGV2RZFueuSzuGH+jke/GOyfI8aGDxrZI4VhwwA3Umife5bzu/fI76mRffoS2c/9oWxnnq8xzkL1//XdmHfL5867WjbPHEnBmXbbxEr59rw/4L1GY0E8IN3Qx42cKxaUyesL6OWahphziRT1jbdCsdLj0tnl+XLl5+isCfkqHeeQK99mbDMcri2b084Yq+YOX9LX7fyqU0vnlKrc7dQDN05NeotlqPbStn3tppNdoZUCPX3Hkm4bYGUE+VEifCn6YMJfs2Hmy0NH5cq3DTgbH08ie9FrtrfoFysq1NkbfD3I2vX7JQVD+rdtXnn7A9pxoNMochetqc2r+57ZraqZbs07b9wp2ScGDAcGuCa83cpyFgYLvtVsUqC9UfZLblNOxXz17/tIPe88bv66taOtsk9ZpOP9fQp0fivfnveTnkkPGep1ACLRx42c26s9Knc7tXnXEdNxT6K1ffabLKo4uzzfuL6z26+WTq/e+bRZew91GRMboe2bZnK/m3wZzFkTCpJerl81061frKjQpq1N6ur166pF5Xrxvh/o5fe+TmjSJbQ9s7nDp3uf3GX6melnBrea7j1EvQxkFoJ8GhpKgE/Wj1ZvNj0er5M1M9gDCSCVGOCai55pj3csmm/nWzrCDDswatDHjZzqhWXGbPzjccZoibyl6JUH5poeDwXi/Q2Db88M+cPGWuP1xG9siVwNajbzH3rv/K6DsWE53oOA6oVlumnZGfpwR6sxNq073KOf//hMrVzu0RULyrR2/f6YNkdvz6xt7NZ9T++OOB96jV+526mlc0qTfrUxkA4I8gAQhQEugHRGHzeyNnzQqP0N3Tq7PP+kViG68m0qHecwPZdIiA0P6OGfr9neouqFZUbl92Cx5BPtLC126OJZJfL6Asbq0aqZbt1w2SRJJ7ZkhisqyNHSuaWqbew29u2H7lWzvcVYIRAe4kO1mkJ7+r2+gN75tDni+pDwFQxeX0Cbtg6+NRVINwR5AAjDABdAOqOPS40dtZ2ms+XJ7BdPZNY+nm/bvKbveg9p6+qX2+UwluWHr+5savPqsVcPGMXupGAg//V156q5w6faxm699H9PrPkvdzv1bVv7gHWOzH7upjavXvuwUVddfLq+2N+hf3mzzvTBx47aTm3b164+X0DftnnjbuUE0h1BHgC+4+9r05zvlzPABZCW6OMy12DbLgfb7mh2Lt6DhZN54JBoweJktnIC6Sqx6hYAkAEuYoALII3RxwFA+iDIA8B3GOACSGf0cQCQPgjyACDp1hUXproJAHDK0McBQHohyAMAAAAAYCEEeQAAAAAALIQgDwAAAACAhRDkAQAAAACwkIx9j3zzwb+kugkAMGwW77o+1U0AAADACMnIIL/9lTtT3QQAGDb0aQAAAJmFpfUAAAAAAFhIRs7IAwAAwNrYJgkgk405fvz48VQ3AgAAAAAAJIal9QAAAAAAWAhBHgAAAAAACyHIAwAAAABgIQR5AAAAAAAshCAPAAAAAICFEOQBAAAAALAQgjwAAAAAABZCkAcAAAAAwEII8gAAAAAAWAhBHgAAAAAACyHIAwAAAABgIQR5AAAAAAAshCAPAAAAAICFEOQBAAAAALAQgjwAAAAAABZCkAcAAAAAwEII8gAAAAAAWAhBHgAAAAAACyHIAwAAAABgIQR5AAAAAAAshCAPAAAAAICFEOQBAAAAALAQgjwAAAAAABZCkAcAAAAAwEII8gAAAAAAWAhBHgAAAAAACyHIAwAAAABgIQR5AAAAAAAshCAPAAAAAICFEOQBAAAAALAQgjwAAAAAABZCkAcAAAAAwEII8gAAAAAAWAhBHgAAAAAACyHIAwAAAABgIQR5AAAAAAAs5P8DWlhAuzL9pyAAAAAASUVORK5CYII="},5519:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200716000203862.edd5b0d0.png"},6380:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200716004526838.5983ce23.png"},6757:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200716012120619.b10de14d.png"},5214:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200716150421791.914035c5.png"},2349:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200716231205153.0a8beca2.png"},2436:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200721010931214.126063ce.png"},1251:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200723223704401.47f6a81f.png"},1005:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200728172853451.4e9d1fc6.png"},8528:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200730002842243.c03f52cb.png"},8901:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200730020732919.72adea2e.png"},5059:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200804015849396.27c8cbd5.png"},9763:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200805200831035.6cee31d0.png"},2670:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200805211539544.abfa423c.png"},1900:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200805211749522.d874e2b8.png"},4707:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200806135409338.e3dc7481.png"},5474:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200806174643390.a2b355e7.png"},6194:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200811014205189.f1d720f4.png"},4445:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200811022013103.e574a67f.png"},9498:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200812003821680.54358a35.png"},6443:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200812011826021.a1a2e204.png"},3663:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200812020656210.35ccace2.png"},5077:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200813013009294.fca2ddeb.png"},5378:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200815184203715.ca894b04.png"},8225:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200815184407204.40e4acc3.png"},8135:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200818155842864.817dcb24.png"},5570:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200826110754199.1eb0f22d.png"},9505:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200826150136697.dc917138.png"},8468:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200827111324564.04ba5525.png"},5885:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200827153753307.104ede94.png"},8627:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200827155342126.80defbc3.png"},3489:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200828105046683.8325fb65.png"},6139:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200901150655343.98150a14.png"},6117:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200901151025021.2c854202.png"},9230:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200901160508382.75b1e090.png"},6304:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200901164312005.666511b3.png"},890:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200916231600661.07f052f6.png"},7241:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200916231949174.32b042fb.png"},2329:function(s,a,t){"use strict";s.exports=t.p+"img/image-20200924111334856.b8d40205.png"},7883:function(s){"use strict";s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAmYAAABCCAYAAAD9jhqDAAAd8UlEQVR4nO2dvYvjyNa4n77cv2KyZiWzeA036UjOhhusbHZw5KjB0Ui8kZx4IsMwoODHOLGiiz2wYJjI8AMxjV0TLJ3Zb3AnuaAxi1RLZ/1f3PYbyO72h/zZdvtj6mEH1mpZKlfVqTp1zqlTF/f390NG/Oc//+Ef//gHh+OOT+/uePvxNdy+49XXX7n/+PpgpTl8feyZ23e8quv0vrzl8vHiHZ/eZLn5rceXt5dLvny6nE273n3iTfY9P3++54BisndOor0SZWl0/fpPPvS+cKzidBL1uy6373h1DZ/vP/IoEref+HT59mjrf1P20l5J9cYtnz5d8nbHFXew/nb3iTfZG347Mln897//zeXldIH+Nvnh4eHhRQs0x90fRPqogJc6V5+/cnvA4hy8Pl6cO27fOdz8/AHvmHrujjmbdr2L+MYV+vk2FXDi7XWpc8U3ortDF2QxJ12/a3D7V3ToIuyUl2qvu9uv3OzhuQfrb3cR3/iZn05gvPz75If//ve/hyoHAHd/ROj/fBt/uPwnv13d8NcdvD5QRR66Pl6Eb+/Jvnr/9PnqA5+9mVX/mfFDtOsZodprv5xf/X7m+tXnic9XfPjnwQqzc/bXXrP1Blcf/mfnbzlUf7v760/g54O8exnD4XDu2lFZzO6iz7zPvuLVq1e8epXl/bdv3PxxuKXmoevjRbj6QO/+nvvRv14Z6tlXvPl0xEv8Z/JDtOsZodprv5xf/V7z+XFM6/H5+tDl2S37a6/Jerunt6eKO1R/u/xpgVJ2+443b948/Xt3SD9dzBEpZrd85fNjp7i/v6f34YpvB/QBnN+AtZrL12/58vmab+//dVA38j45m3Y9ATfZLjjp9joBd/NJ1+9KLnn962+HLsROean2unz9K/uouYP1t0udK/7kr9nx8vVHPK/Mz9++wW9lvBcO2F1pMTuoSfvuL2ZHr8uffoYDxpmdn4l/TS51rvjM1zPVzM6mXS9/4mfgz7mRZsTtJ87B8HnK7XX3159w9Rv/PGLF7JTrdy1ejwL/7265PYMx7eXa6/XOA//hgP3t8id+JtkLd3l5iX4FP//0+ijCeI7GYhbHl81UyetfuT6ggnDeK8klnMAq/zmcT7u+5tdr+HbzB/NDzR2fvnLUCsG6nG573fKv99+4+u2fRzHYL+J063czbv/1lb+OuSHW5NTb63Dlf83/fLg6Om/QEceY3fHHzZ8J12Mt9s8DaWanLgDbcHf7iTfXn49+lf8czqldX3/8zPW392Tf3T4pZ3e3fHrjEP16Hps4TrG97m4/8ebVNZ+vjn+H8ynW72bccfvpDdd/6mcxpp16ex2y/JdvPT5cfeb6zTtuJ1azd7d/cPPtYMWa4wh2ZcZ5s95/A7Lv+Gkij8rtu9H1b9e84vOL5zQ7ZxP/7btXXI824EztyuSKq+vP9D4eh0l3H5xXu77m430P/Z1D9tUoWPfqmg/eFz6eSQMee3slytLVFdefe3w51JbyDTj2+l2Xu09vyL6PZ9fZ3YXxxfJZjGm7bq/Zervec17Ew/a3S95+6fHTO4d69hXj7Q1X1x8o93pcHqCDJFnMphSzw2iyl7z9cs/bhL+8/njP/ccXL9Ajp74yWcah6/aQnF+7XvL24xfenml7Hnt7nbosHXv9rsvl2y/cJ00kZ8au2+ul6+3w/e2S1x+/8PqIZfZIXJnHiaqP80S162mh2mu/qPo9LU69vU69/LvmuHdlHiGqPs4T1a6nhWqv/aLq97Q49fY69fK/BEfgyjxeVH2cJ6pdTwvVXvtF1e9pcertderl3zWV/23C/05fu/j999+HDw8PPDw8JJrUFAqFQqFQKBS75/+F/3/u2sX9/f2jNnZzc4NlWS9aqGPm+/fv/PLLL4cuhkKhUCgUZ4GaV6dJqo+/LbhXoVAoFAqFQvHCKMVMoVAoFAqF4khQiplCoVAoFArFkaAUM4VCoVAoFIojQSlmu0J62J5AvugrbWyxzj1y9uJuyipssrb3or9ZoVAoFIpz5u+rb1GsheZQIYt+4VKPejjaul+UCBFt/r7QJ1duAgHphe+TdNpNqFaSy5oNiXoOaxd19ulhAOnK/PelBG3bpyoUCoVC8eOiFLMdojk9uoMLcrpNatjAXO9bmOa8EiPsC/zCkMboIdLLUqJFb6yBmSZDp7H80aJGuW/RTXi+li9ilMvUhPP4DpBIqS3WqaRHtjSgWC2QIsQfZKgWojnF0ndzNDNdooa5tdKnUCgUCsWPiFLMdoxZsCBIoyf8TQiBaa6nru0C4Tcx6hGmFCQa5QyLNAIxcoeGfo5y01hu8etDyjQxMUn+KZLQBauglDKFQqFQKDZFKWZbIKUgWuh9LNCtQiQEk7fESg8YVpdeY16jkV6W0qBItZCK7w8gSAvGIWThAKCDECkgxHfLBJnkZ8UI/KZFdagBGrrGjKI0r1iZ5pBVRjgICMWywLaQwapHKBQKhUKhSEQpZlugaSbMKToxwr7ATUdPLscR6yg9fVJPFjUfMqkn5UkPXdrkR25PndAtQ2Gx9U16Lk2jSEGysKwz31juxnwkM7KYLSIum1LOFAqFQqHYHKWYbcmu3XRaKsPutBlBrdwHo4j+WNDlmwxii55FN2qQEJKmUCgUCoXiBVCK2ZEgY9/lU7zXClfmMh1O2C7U6xjtyavJmwzGmOaQfGWdzZTKlalQKBQKxb5QitkRYRSfXJmmXmdQA92Jg+hN08R5vFMHf0DiDgPp4adbNPIdspOKmZSIxYFx6wX+A8qVqVAoFArF/lCK2YsgEVJb6iLUnB69ic+iVqYZ1KkkqkAaZqMRP1cwYQmTeJ0UDUdjLuurpmEuMYetF/gP61rMglCifKIKhUKhUGyGUsy2ZUEKijCAJ5djjO/maPYNrG6P6U2UEiki5h/j4zYNrHpqbnfnxJvw3TLNPhj18WYDDWf9zLbbYRSfLGZSINBnFD6d0B+QziulTKFQKBSKTVGK2bZoOjqgzVqhfCCdn4rnMs0hycYoDc3U5jYSCDsH9Si2fE0gvSx6uzjK1m9ims6C5yYj7Cx+ukohlfDH0CdXDpa7MjWHXk8ihECaZrw71b7gIqhPnCCg4TQ2KZVCoVAoFIoxSjHbmnVSS2yBsHGDOq3GzMOlR6kM9Wj7I5RG2WGTE8PqIUY7zUJDlxQITEwNQjeH68c51MxGF+siR8nLT6cIER4eeRzlzlQoFAqFYm3UIeZHhcRzA2BAzfbwhEBIiZQSr1SGemuDMzh3i6i5hBOfM4851EwqdYvio0Yn8DwJpkPK17nIqkPOFQqFQqFYF6WYHRUaTq9Hr9eg0XDI60CnRknXKfcNGHQQ8gBqjvRwmxlSC5RCzWk8KYzyKV2G2ehi9cuUPKWaKRQKhUKxDsqV+ZJIgYj0pfnEpoh83HYTrC5RRSfq1HD1MjnAMCyqrc2TwQbhU260KcIBkE4os0dWL9M36onZORLf0e4gnTgOrmAZLNToFAqFQqFQTKEUsw2RC3dJxiTtyhz9BT9XpglY3YjGAo1KSkGn5tIOIFOs0uo1HmPKNKeB6TSQwqPmlsnpK4L1E8gsiTFz2wnXtTytKA+a9hjcny8alHMXNBe9xKg//q/Z6C3JeaZQKBQKhWISpZhtiGbqzO+jfMI0hxOJYKf+gjmc30UphaAThgwGscWqUMiTb/QWPGNcBoeG6VDxbDoRi8+Hykwrh3qlS2Xhjss8rVbSL5vf5KA5PYbLCqhQKBQKhWIrLu7v74fjDzc3N1iWdcjyHBXfv3/nl19+OXQxFAqFQqE4C9S8Ok1Sfajgf4VCoVAoFIoj4e9fv37l4eGBh4eHQ5flKPn+/fuhi6BQKBQKheJMmdUz/v7rr78+fri5uXnp8hw9yuR6fihT+mmh2mu/qPo9LU69vZSxYx7lylQoFAqFQqE4UpRiplAoFAqFQnEkKMVMoVAoFAqF4khQiplCoVAoFArFkbBBglmJZ5cYFFoLs9aDwMv6pLY4Kih+fod8w1mSvvX0eMrkn6HaayzJgi/xsiUGxSoNZ1e58gV21iddLTB7DsETIa7bptja7ASBs0cK7JJLkKnSapg77JNr9HMpkNqid47kMF2lsLhRY0Ifd1BYXn7pYXdSVJzxPXGfKWwlw4dGIpPSPwubrJ+mWnFW/ibpZSkNqlQL677Tx3XZ6ng0pIcXOUyJu/Swa1DZZhyUHnZpQKFVwZzNCr01EmHXCAsVnIU/UOLZNVh6zzMQNnZYoZE4QCl52D8vP49Iz6aTb+xmThIedjjZpsfPBopZxKDZh8LynzboBwwithikOrSbZdqkdjwR7hkpkQBRRERI6A8YBAFBv0/fMDAAMhkyGfA9ibmwp2mkMn0GqR0fYNQPQF8yqMgQt7/bV54FmkmjZyKFTSnrkqn2aKzdNBIposSju0Lfpdzs007naVGjRmFuQvHdHM1Ml2iRHAR9KCw4Wmv6SeTaPhHL5Skou3Ty5mgQ1EkT4D/KcNKg7OPmAjLdZYu0fZJUv+Mjzyy6w/kFUD8Afc2i9gFztnKFzYVfYDjbCWSI2x8Qwsw7JUIsPbwN3y3T7Ldh4lg1USvTDCwKkrkTN9Yh6Aek0TAnFnrPm5Ai/GYTCrNnlkzfM2hCeuGxImNW1UkSPm6uSZ8mpIbJMvjDy8MzkB52LUVj1eD2wvOI5hQYXGTxEo4cTFo8+W6OoBjRS5pfTYdKmEW/8OlGp6Fgr6+YyZAAi+ps+0mBwJz6sel1T7ueQNTK9K3u/MA3fs2WA9VekIKp8UXX0XUdHQiDMlSH9HakXyV1wtDNUaZO1NuVdTGjzhlfgGY26JkC+8JGJEz4C76FZmpo0iNbgta4naSHGxSJhj00QHoBAZX5wdwHCosmD41UBgZr/4L0GofPz7d/Wp+QuYRB2Scgva6ms3NG9TupLMkQ1xjLxNiCM5o84wNs6QhBipFyTHWx4rsF8/KjYY4qTHpZ9EH1cWyTXpYSLXq9mSPahI0bPEOutRSZifc7vSr2RQ59sHhcXcnsuJ80EAufppEmery8wHI5USfzCOwLl/TcRGxiDpcphUoexkgpiDbUe+PFAQTpBUrNRuxyHtFJG33aHYkzKtdk15tePAn8nEGmuvjlmlPFKufwR4rZ4jOvj0PJXl8xiwb0jYROHfnkcn7iKnVtpIfbBKsOQoj5v4c+uXITo76LzrMDNPNFte65FbwPVuG8XL7HjU7aaOJ6lSUWzxNjvLgIB0BA+Ch3IQP6BKUs5T7UoxZp44Dl3JYggMp48vSBNHkzVsT00KWNflzyIz2ybvpJid8JJpWuBWGIJ0w2iZB4nLjCNn0jA0IgQh+33IR6RCsfPSoBoR9gZNJEQhA9WgKTLZdHyxnIg6aZoCUfnSzsC9wE5cs0h3PnNx+GBCt4xiBDhBDRyNMA9ahHfvarwqdpVRku7WwmBct6NGtr5uJF2TEo2SsUs6fKCv0AJoUvV4ZuRCUMMOqthQK42tIl8UplqEcLYghA+Dkw6rROeFIUQqAndIZJzT0MIEgLhO+SW9QJFQcgYtCHPh2kcyYK8XhxoYe4ZUiZ5kiGdUK3TbrVoxeb+fAOWc5nMOgIRIp5i9kASB+yZLMI7BorlLJ13IAhAcD4d48IymWatBl013fHjycu4eewqr3YTWiamM54GtdG/0lCt09mfA8mpukcyWS/AWciD6c7No2s4BNXxsYI6WXJBZlHN6Sc+abwA6xEV7vAvsgR1Lv0HBOzcTq9coViphEr4Rr4OazCSPhkiItF1dSI/D6ZdDQaNGYGhpGCYS0ZEKRXopzpMlygdEkvS65p0R0e04S4aJAMGQBBKJi0+43jirDm44aeNHdJ6EImZWI6JmPr/Wwn3IbBzEA9XeT1nQA/LMKniYWVadORzoYBqYNHheAINYIRsxaC+VJO96FYzo/ilwQhQpBYt+m8ucRitsYzJ4lXTQnXnys/AuHpVKbGhSRX4DI34Bid0GhDftKiv8oVuLxsftOi0BB4HuRnYtXi/48Y9C0KG5nGkp93PJywPOyRl5lHZjdbCGplqC+MDRP4FKkk9j89tm7uOm77BVjDlanxJKCjS49uTUEtsCg0zEeLmc/EgGg+KRiJCJtSu0i36pPN+hSr07t6hJ0l18wcoUl80SCpE8bLralAVNM0cVaNjbJDu89EjMjuSOeXuF518Ac8uqiPKpbvSBB+E6wulXRAaSLmYT2eFAL0EHepRnAoMnMWgllm+5D/UkVbRSYVr6x3WbfjZ07hJ1/XQ9zy9pOSlCamM31N2Dq5rWPN+gwidmM6GcWOVQC/7DJImfMLbBkSjO6Zvi6RWlKcWcygnGOQilbH8ciRkvqiY9IJy8MeeZl5xKRSdNFrIo6LFD5BvUVjZK2Ucj6+kULjSBX87VkvxmxG+GQYYBQraLJDUKxsZ7aWHrZfoNWLJy1T98jqNVLDxmhHkU55wQ6rc0R22vQBfBuPCnlz8aC29DkzAaCFbhWimc0KMxQKEAlBZ+THX2bh/PEQxHqZiaaHoNcQzuH75KxVNpHwR1jHL2aZK7PPYu3F2Gb30gyTchiHLT1Z4WLjQgfPLlNuGlPyFnsIDKxufgP5jycsTYsD4duh3GJb/DzCb2IUI7RRsEVcLfEu9Gg8oPht+hRHIS4jRrFoyzZzgZEYxzNriXrcabtiN52Sh93y0vPIVDB+qkg9FYf/hD4UC+M4sxzlpkXdmvhemKbgJD3xtFlLMZOdNhRbjwNFNOiTKWiI2oBiZYtakR5elKfRmJA0zaE3ZJQ/KkewLF3AySLxvAgnIQo3GsR7jTOFBvkwi57bLsZM08z5lYr0yOptiglbjydZy7L3gyE9l6ZRJzIBHKrWxYabAFa4MgcdxIx/IAyAFXm0Mqn10gOsx2rXzdGyyJWZyVCYtNxPDFM6PoM19uY9h0k51EOXMk/WttiVmsdxnGl5EzZ6ObNACVmSgsXNUe4b8XiRNujvwmQmPdymQaYeIcRTiIrdztGkTtRy0DSJ5/afYtDGTMWibUZ6zg27Xryakofd8tLzyHQw/pMHbtJCbZpDnEa8eBkbqTUnT8f20M8s/+laitlYEYsR+E2DdEUQpisr4m0WbJvWkuN0pGdTKgcUu2uYuA/C4sExJjnGbIzv5mj2oT3o0ptaSgj8oE7dKjMANKdHd3CB25E7Cf6XnTZ9qzoKXk28Y8H29h8dQa3cx+r2HuvGLFjkcptYzVa4MtP5ebe4v8n2/12wzHUTb3w42okp0ZWp4SwJ9NXMBo2R5We2z0d7+rErrXDCJuuyxEMwExw9kYrFNIc86p2xyQy5IlfXSjSHVjePNuqb4xAVx5nYxSc7tPsJKZROnhOWhz1ynPOIhlOBrC1m5tTTZg3FbCa+TIYERpGKZqI5sybPyeD/0bbpdfJtCZtsrknfsKh3q6SI5oPrfTeONztogriJzRCJJMeYjVm0NVl6LkGxRWFQfpyQzUYUb+j3nulaETalch/DWpCKhH3kRTsPpOfStLrT27DNCnVDJ2cnJBvdEM3p0UPg2RH5hok2ckmZjeHBXaWznEqwc7QwP9EkK8amBCvmc4L/pxe280hhU5oI63gWehqjP1jiqF0fbcVAK2pl+vHA8rQQDX3cNitOOTl9TkUedsaLzCMz+QcfGecWW+Aa1fIUgxKeNM/m9JrVipkEDAiFRDc1mHFrzuZOeQr+X2fbtER4JXJtwFjVoD4E6bWzd++PXRdA0mkXafU0Inv6PRognrs8Mxu0upUlg2y8G9QobhLT8gMgPUrlDN255DgaTqtOW89hFxZkIl/n8VKiaRoIn3IzgIKJY2pENZtOZUdHkSx9/2hBlZi3iThvExm6rTQBUDyRYOfJlDSPiVznKnPR2CQJA8hUnYSF1bbB/5IwMEjPRcfHfxNeB/INeo3p6162xGCj0yZGaHmKRhlfNNZw7W2KRMqITicklc9jVrrUo+lFqPBz9LFINEceMecqDzvjpeaRqfyD40eHuEZ6wc5LGJ+a4268Met4Wa2YjY6mQQrsbIlmv4/Vnd3IvTlS2JRcKFZbDFsdsqUtHnIOiBqDagMHElb68aBeXHrUyTjwd/Edy1e+sWl+WdbkHw+BXYpjKRLHAs2hVW+j57IJmcqTkVISdQb0+wE1kadiaoDEc+PEyeOwQ7NRwM/aiD1bHB5jSEwTMz9xeofUMXsTAVnCJkeGY+4eUoqnuvVGZ+LJ2A0dx0hNSla8+k6Ok4kY9I2tTi5ZXLgO7f6i+tMwnfkYXWHrlPsGViiQSxJhJqORLxqUXY+KObnQlQjBGik3JssuEVEH32/TpI9Ri8hXzIkYWW26DqX3vJMLDsg5ycO+UPPIy/G3te/UTBrVDBgGQe6CrO1tkWNLIjwPzxOgN+j1Gvs59PZkEHhhZfGqWHZoUyS/VC/r0Nn0+Lmp74cE7HgyOmkkXtaF6nKFS3Na1I0+ZT2LLeYlQQqBV2vT75fRs1lqEej5NIZRpDKOFRI1yswmTjapFANy2W3kaxskXilHrjR+X4ds1mb8k+JUIYUjc0tJhBeHP9B0qXUm6nacG0szqXQjGo6JaU7809NgLJCpUZjGUnnbtKSdNtQra9dfnCLIohv1aGyc52sUN+dUsfplapMeJ9khXPtpEi97wYVewvVTVCpVLAyKlemAcCnl9HdqA6onqJRNc4rycAS8+DwSIjwP27ax7Sy5JmTO6FzBDQ4xl3gudHs9TAR2NkdNOKtN7VP5bOIVourUY0wSFsyPiFqbTLW334EuGtA3irTOp08/g9iFRKtHY2V9aDi9LoNsjmZOJzAsqq0nE7yGTzso0o16T2b5KU1L4rkB9dZ8Dp7xuW4lL7/wCLJdpQeQXmk6LkRzaBWz6CWPqJfCbxrUo2OTWA0zlcbvRvTGlSvD+buSFn3RgH6mkChTs7vPp/62zlbZ+W/RaWeoLo6WnrpX2CVyQZFo7WTaAzrCY+DH+wYLlfyor5lU6sa0RTcaMFg7jYaG04rIP47byT1NI8KzawzSBSopn0GhwV4yF0iBFy0/UurHlodnMsqS8CwjyQ7nkblEtomJuVOYjokpPbJ6gFWPzirF09qKmbDjmIdY8EwarS5eZ1YYZjL/T+SzOb/UF2MkTwvH6Nm76YLx4Ck9XKqrD0OPBpRdj7y5zmAen1ig6+OVr4xXgJnumbbNJsSBp6lWb4PNJSaNXkQ6q1MGwkiijyczs7G87USNdrG1YIeTScGCZjvpCKhRHFRhB+kBpEepXZxzPWlOlToQ2e5EcscjY8tjf4TfxEgM+NpEiVovhEp6pbiN13ial9VpF5eNk3F8V9Tx8dtBPM5miqR0JzE1wXhnd07PMui2qED8nXVZkhz26R4Tp2HGYSm5JlhphO4kys/iTWLLrsXX3VyZPjDoJsV0KnkAlhzKHROn8kvY1IKPm2vSp8xg7WwI+51H5hLZLkserTn0hjtcDsjj2MixXh4zz8YvzASiaknWnjjvzNPHTfLZTOR7SuJokwNqgKBWilNhgEF9K3OunPiJo7PzFiwB9LRBM3dBc3zBqK9dVtOMD7TVn758fivATZGCOAZ7mwzSGk5vuKGlQGD7BXpLRnizYC2eSTPWmi6DNFZ1QTCu9LBrqQU7AU3yKZvaTOC8FB41v00Q9Olj0T3CCWoeifBquG3IZCBoGhSjhIJPxHqu88xIdKi55VjmjXpCVjRBbVBd0sbxvslxrG21NVyShiBW8vRyH8OwqLZaNNZIq242IrqUyOX0eKywCuwjIl8zG/SiAnYpR04fJKb8mN4kNjNPLLy27PoESh6WHsoNTKdUmf7LFkd27XMeySToACmKRX2PxgOJnJRnrMPHEN7f3w/H/xqNxnCWqFsfdqO5y7ulaw2x6sOlr+nWh/W9F2SaIAg2ur9rGUOrvm0Zo2HdMob1bjTs7v13RsO6wdCwXqBtj5BN23VndK2hUe8Ou93u8r6+d6JhFC0uQbRC1rqWNdy6m2/BWu0V1YeWsWQM6VpDwzAW/K5oWK93Vzw/Snh2NKwbSXURDbvdFc8bRsN6fbMxbUmTrfhid1i3jCEL6md1/XaHlmGtMVZ0l7fB0XKG8vAibDePPLf8Ud1ac57tDi3D2KBtomHdMIbWKtHdMUn1cXF/fz8cK2k3NzdYlrVMj/uh+P79O7/88suhi6HYMapdTwvVXvtF1e9pcertderl3zVJ9bH+rkyFQqFQKBQKxV65+P3334cPDw88PDwwHA7JZrOHLpNCoVAoFArFD8n/AQrddooyq7zAAAAAAElFTkSuQmCC"},2958:function(s,a,t){"use strict";s.exports=t.p+"img/v2-8f29f24dd291ddf46abda5d5ab7bec6c_720w.c6200e5b.jpg"}}]);
//# sourceMappingURL=305.da1d6979.js.map